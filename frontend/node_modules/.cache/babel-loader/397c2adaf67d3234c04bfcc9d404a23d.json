{"ast":null,"code":"import{DAttribute,DClass,DEnumerator,DModel,DReference,Input,LGraphElement,LModelElement,LObject,LStructuralFeature,LValue,LViewElement,MultiSelect,Pointers,Select,Selectors,SetFieldAction,store,TRANSACTION,U}from'../../joiner';import React from'react';import{connect}from'react-redux';import'./editors.scss';import'./info.scss';import'./style.scss';import{Empty}from\"./Empty\";import{CommandBar,Btn}from'../commandbar/CommandBar';import{Tooltip}from'../forEndUser/Tooltip';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";class builder{static named(data,advanced){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:data.name}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Name:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'name',type:'text'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Readonly:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'__readonly',type:'checkbox'})]})]});}static model(data,advanced){let l=data;let d=l.__raw;let multiselectArr=d.dependencies;let multiselectValue=[];let state=store.getState();let validoptionsarr=Selectors.getAll(DModel,undefined,state,true,false);let multiselectOptions=validoptionsarr.map(c=>{let opt={value:c.id,label:c.name};console.log('msel0',{d,c,did:d.id,cid:c.id,n:opt.label});if(opt.value===d.id)return undefined;if(!multiselectArr.includes(opt.value))return opt;console.log('msel',{d,c,did:d.id,cid:c.id,n:opt.label});multiselectValue.push(opt);return undefined;}).filter(e=>!!e);// <Select data={data} isMulti={true} field={'dependencies'}/>\nreturn/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[this.named(data,advanced),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Dependends from models:\"}),/*#__PURE__*/_jsx(MultiSelect,{isMulti:true,options:multiselectOptions,value:multiselectValue,onChange:v=>{console.log('setting model dependencies',v);l.dependencies=v.map(e=>e.value);}})]})]});}static package(data,advanced){return/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[/*#__PURE__*/_jsx(\"h1\",{children:data.name}),this.named(data,advanced),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Uri:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'uri',type:'text'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Prefix:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'prefix',type:'text'})]})]});}static class(data,advanced){let lclass=data;// let extendOptions: {value: string, label: string}[] lclass.extends.map(lsubclass=> ({value: lsubclass.id, label: lsubclass.name}));\nlet m2=lclass.model;let pkgs=m2.allSubPackages;let dclass=lclass.__raw;let extendsarr=dclass.extends;let extendValue=[];let extendOptions=pkgs.map(p=>({label:p.fullname,options:p.classes.map(c=>{let opt={value:c.id,label:c.name};if(opt.value===dclass.id)return undefined;if(!extendsarr.includes(opt.value))return opt;extendValue.push(opt);return undefined;}).filter(e=>!!e)}));//let extendOptions = pkgs.map(p => ({label: p.fullname, options: p.classes.map(c=> ({value:c.id as string, label:c.name}))}));\nreturn/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[this.named(data,advanced),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Abstract:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'abstract',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Interface:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'interface',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Extends:\"}),/*#__PURE__*/_jsx(MultiSelect,{isMulti:true,options:extendOptions,value:extendValue,onChange:v=>{console.log('setting extend',v);lclass.extends=v.map(e=>e.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Final:\"}),/*#__PURE__*/_jsx(Tooltip,{tooltip:\"Defines if the class can be extended.\",children:/*#__PURE__*/_jsx(Input,{data:data,field:'final',type:'checkbox'})})]}),false&&/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Rootable:\"}),/*#__PURE__*/_jsx(Tooltip,{tooltip:\"Whether the element can be a m1 root (present in toolbar).\",children:/*#__PURE__*/_jsx(Input,{data:data,field:'rootable',type:'checkbox3'})})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Singleton:\"}),/*#__PURE__*/_jsx(Tooltip,{tooltip:'A singleton element is always present exactly 1 time in every model.'+'\\nA single instance is created dynamically and cannot be created by the user.',children:/*#__PURE__*/_jsx(Input,{data:data,field:'singleton',type:'checkbox'})})]}),advanced&&/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Partial:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'partial',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Rootable:\"}),/*#__PURE__*/_jsx(Tooltip,{tooltip:\"Whether the element can be a m1 root (present in toolbar).\",children:/*#__PURE__*/_jsx(Input,{data:data,field:'rootable',type:'checkbox',getter:()=>dclass.rootable,setter:val=>{lclass.rootable=val;console.log('setter',val);}})})]})]});}static enum(data,advanced){return/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[this.named(data,advanced),advanced&&/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Serializable:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'serializable',type:'checkbox'})]})]});}static feature(data,advanced){return/*#__PURE__*/_jsxs(_Fragment,{children:[this.named(data,advanced),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Type:\"}),/*#__PURE__*/_jsx(Select,{data:data,field:'type'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Lower Bound:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'lowerBound',type:'number'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Upper Bound:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'upperBound',type:'number'})]}),advanced&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Unique:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'unique',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Ordered:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'ordered',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Changeable:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'changeable',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Volatile:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'volatile',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Transient:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'transient',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Unsettable:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'unsettable',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Derived:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'derived',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Cross Reference:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'allowCrossReference',type:'checkbox'})]})]})]});}static attribute(data,advanced){return/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[this.feature(data,advanced),advanced&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"ID:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'isID',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"IoT:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'isIoT',type:'checkbox'})]})]})]});}static reference(data,advanced){return/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[this.feature(data,advanced),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Composition:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'composition',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Aggregation:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'aggregation',type:'checkbox'})]}),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Container:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'container',type:'checkbox'})]})]});}static operation(data,advanced){return/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[this.named(data,advanced),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Return:\"}),/*#__PURE__*/_jsx(Select,{data:data,field:'type'})]})]});}static literal(data,advanced){return/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[this.named(data,advanced),/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Ordinal:\"}),/*#__PURE__*/_jsx(Input,{data:data,field:'ordinal',type:'number'})]})]});}static object(data,topics,advanced){const object=LObject.fromPointer(data.id);let conform=true;for(const feature of object.features){let upperBound=feature.instanceof?feature.instanceof.upperBound:-1;upperBound=upperBound===-1?999:upperBound;const lowerBound=feature.instanceof?feature.instanceof.lowerBound:-1;const value=feature.values;conform=value.length>=lowerBound&&value.length<=upperBound;}return/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[/*#__PURE__*/_jsx(\"h1\",{children:data.name}),object.instanceof&&conform&&/*#__PURE__*/_jsxs(\"label\",{className:'d-block text-center',children:[\"The instance \",/*#__PURE__*/_jsx(\"b\",{className:'text-success',children:\"CONFORMS\"}),\" to \",object.instanceof.name]}),object.instanceof&&!conform&&/*#__PURE__*/_jsxs(\"label\",{className:'d-block text-center',children:[\"The instance \",/*#__PURE__*/_jsx(\"b\",{className:'text-danger',children:\"NOT CONFORMS\"}),\" to \",object.instanceof.name]}),!object.instanceof&&/*#__PURE__*/_jsxs(\"label\",{className:'d-block text-center',children:[\"The instance is \",/*#__PURE__*/_jsx(\"b\",{className:'text-warning',children:\"SHAPELESS\"})]}),!object.partial?null:/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Features:\"}),/*#__PURE__*/_jsx(\"button\",{className:'btn btn-primary ms-auto',onClick:e=>object.addValue(),children:/*#__PURE__*/_jsx(\"i\",{className:'p-1 bi bi-plus'})})]}),this.forceConform(object),object.features.map(f=>/*#__PURE__*/_jsx(\"div\",{id:\"Object-\".concat(f.id),children:this.value(f,topics,advanced)}))]});}static forceConform(me){var _me$instanceof;let mm=Selectors.getLastSelectedModel().m2;if(!mm)return/*#__PURE__*/_jsx(_Fragment,{});return/*#__PURE__*/_jsxs(\"label\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Force Type:\"}),/*#__PURE__*/_jsx(\"select\",{className:'my-auto ms-auto select',onChange:event=>{window.debugmm=mm;window.debugm=me;me.instanceof=event.target.value==='undefined'?undefined:event.target.value;},value:((_me$instanceof=me.instanceof)===null||_me$instanceof===void 0?void 0:_me$instanceof.id)||'undefined',children:/*#__PURE__*/_jsxs(\"optgroup\",{label:mm.name,children:[(mm.classes||[]).map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:(c===null||c===void 0?void 0:c.name)||c.id})),/*#__PURE__*/_jsx(\"option\",{value:'undefined',children:\"Object\"})]})})]});}static value(data,topics,advanced){var _value$instanceof,_value$instanceof2;let value=LValue.fromPointer(data.id);const feature=LStructuralFeature.fromPointer((_value$instanceof=value.instanceof)===null||_value$instanceof===void 0?void 0:_value$instanceof.id);let field='text';let stepSize=1;let maxLength=524288;const min=-9223372036854775808;const max=9223372036854775807;switch(feature===null||feature===void 0?void 0:feature.type.name){case'EChar':maxLength=1;break;case'EInt':case'ELong':case'EShort':case'Byte':field='number';break;case'EFloat':field='number';stepSize=0.1;break;case'EDouble':field='number';stepSize=0.01;break;case'EBoolean':field='checkbox';break;case'EDate':field='date';break;default:field='text';break;}let upperBound=feature?feature.__raw.upperBound:-1;if(upperBound<0)upperBound=999;let filteredValues=value.getValues(true,false,false,false,true,true);const add=()=>{value=value.r;SetFieldAction.new(value.id,'values',U.initializeValue(feature===null||feature===void 0?void 0:feature.type),'+=',false);};const remove=(index,isPointer)=>{console.log('remove clicked');value=value.r;if(isPointer===undefined)isPointer=Pointers.isPointer(filteredValues[index].rawValue);// !!(filteredValues[index].value as any)?.__isProxy ||\n// SetFieldAction.new(value.id, 'values', index, '-=', isPointer);\nlet result=value.setValueAtPosition(index,undefined,{isPtr:isPointer});console.log('clearing containment DValue',{result,index,value});};function changeDValue(event,index,isPointer){TRANSACTION(()=>{value=value.r;let inputValue=field==='checkbox'?event.target.checked:event.target.value;if(inputValue==='undefined')inputValue=undefined;let raw_values=value.__raw.values;isPointer=isPointer||Pointers.isPointer(raw_values[index])||Pointers.isPointer(inputValue);let oldvi=raw_values[index];if(isPointer&&value.containment){let indexDuplicate=raw_values.indexOf(inputValue);if(indexDuplicate===index)return;if(indexDuplicate>=0){let result=value.setValueAtPosition(indexDuplicate,undefined,{isPtr:true});console.log('clearing containment DValue',{inputValue,result,indexDuplicate,raw_values,index,oldvi});}}let result=value.setValueAtPosition(index,inputValue,{isPtr:isPointer});console.log('setting DValue',{inputValue,result,value,index,oldvi});});}const featureType=feature===null||feature===void 0?void 0:feature.type;let isAttribute=false,isEnumerator=false,isReference=false,isShapeless=false;switch(feature===null||feature===void 0?void 0:feature.className){case DAttribute.cname:if(featureType.className===DClass.cname)isAttribute=true;else if(featureType.className===DEnumerator.cname)isEnumerator=true;break;case DReference.cname:isReference=true;break;default:isShapeless=true;break;}let selectOptions=value.validTargetsJSX;let isPtr=isAttribute?false:isEnumerator||isReference?true:undefined;const valueslist=filteredValues.map((val,index)=>val.hidden?null:/*#__PURE__*/_jsxs(\"label\",{className:'mt-1 d-flex ms-4',children:[/*#__PURE__*/_jsx(\"div\",{className:'border border-dark'}),isAttribute&&/*#__PURE__*/_jsx(\"input\",{onChange:evt=>{changeDValue(evt,index,false);},className:'input m-auto ms-1',value:val.value+'',checked:!!val.value,min:min,max:max,type:field,step:stepSize,maxLength:maxLength,placeholder:'empty'}),isEnumerator&&/*#__PURE__*/_jsxs(\"select\",{onChange:evt=>{changeDValue(evt,index,true);},className:'m-auto ms-1 select',value:val.rawValue+'',\"data-valuedebug\":val.rawValue,children:[/*#__PURE__*/_jsx(\"option\",{value:'undefined',children:\"-----\"},'undefined'),selectOptions]}),isReference&&/*#__PURE__*/_jsxs(\"select\",{onChange:evt=>{changeDValue(evt,index,true);},className:'m-auto ms-1 select',value:val.rawValue+'',\"data-valuedebug\":val.rawValue,children:[/*#__PURE__*/_jsx(\"option\",{value:'undefined',children:\"-----\"}),selectOptions]}),isShapeless&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{onChange:evt=>{changeDValue(evt,index,false);},className:'input m-auto ms-1',value:val.rawValue+'',list:'objectdatalist',type:'text',placeholder:'empty'},'raw'+index),/*#__PURE__*/_jsx(\"span\",{className:'ms-1 my-auto',children:\"\\u2192\"}),/*#__PURE__*/_jsx(\"select\",{onChange:evt=>{changeDValue(evt,index,undefined);},className:'select m-auto ms-1',value:val.rawValue+'',children:selectOptions},index)]}),/*#__PURE__*/_jsx(CommandBar,{children:/*#__PURE__*/_jsx(Btn,{icon:'delete',tip:'Remove value',action:evt=>{remove(index,isPtr);}})})]},index));return/*#__PURE__*/_jsxs(\"section\",{className:'properties-tab',children:[/*#__PURE__*/_jsx(\"h1\",{children:data.name}),/*#__PURE__*/_jsxs(\"label\",{className:'d-flex',children:[/*#__PURE__*/_jsx(\"label\",{className:'ms-1 my-auto',children:\"Values\"}),/*#__PURE__*/_jsx(CommandBar,{style:{marginLeft:'auto',marginTop:'6px'},children:/*#__PURE__*/_jsx(Btn,{icon:'add',action:add,tip:\"Add a \".concat(data.name,\" value\"),disabled:filteredValues.length>=upperBound})})]}),valueslist,((_value$instanceof2=value.instanceof)===null||_value$instanceof2===void 0?void 0:_value$instanceof2.className)==='DAttribute'&&value.instanceof.isIoT&&/*#__PURE__*/_jsxs(\"label\",{className:'mt-2 input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Topic:\"}),/*#__PURE__*/_jsx(\"select\",{className:'my-auto ms-auto select',defaultValue:value.topic,onChange:e=>value.topic=e.target.value,children:/*#__PURE__*/_jsxs(\"optgroup\",{label:'topics',children:[/*#__PURE__*/_jsx(\"option\",{value:'',children:\"------\"}),U.extractTopics(topics).map(t=>/*#__PURE__*/_jsx(\"option\",{value:t,children:t},t))]})})]})]});}}function InfoComponent(props){const{data,node,view,topics,advanced}=props;switch(data===null||data===void 0?void 0:data.className){case'DModel':return builder.model(data,advanced);case'DPackage':return builder.package(data,advanced);case'DClass':return builder.class(data,advanced);case'DEnumerator':return builder.enum(data,advanced);case'DAttribute':return builder.attribute(data,advanced);case'DReference':return builder.reference(data,advanced);case'DOperation':return builder.operation(data,advanced);case'DParameter':return builder.operation(data.father,advanced);case'DEnumLiteral':return builder.literal(data,advanced);case'DObject':return builder.object(data,topics,advanced);case'DValue':return builder.value(data,topics,advanced);}return/*#__PURE__*/_jsx(Empty,{});}function mapStateToProps(state,ownProps){var _state$_lastSelected,_state$_lastSelected2,_state$_lastSelected3;const ret={};const nodeID=(_state$_lastSelected=state._lastSelected)===null||_state$_lastSelected===void 0?void 0:_state$_lastSelected.node;const viewID=(_state$_lastSelected2=state._lastSelected)===null||_state$_lastSelected2===void 0?void 0:_state$_lastSelected2.view;const dataID=(_state$_lastSelected3=state._lastSelected)===null||_state$_lastSelected3===void 0?void 0:_state$_lastSelected3.modelElement;if(nodeID)ret.node=LGraphElement.fromPointer(nodeID);if(viewID)ret.view=LViewElement.fromPointer(viewID);if(dataID)ret.data=LModelElement.fromPointer(dataID);ret.topics=state.topics;ret.advanced=state.advanced;return ret;}function mapDispatchToProps(dispatch){const ret={};return ret;}export const InfoConnected=connect(mapStateToProps,mapDispatchToProps)(InfoComponent);export const Info=function(props){let children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return/*#__PURE__*/_jsx(InfoConnected,{...props,children});};export default Info;","map":{"version":3,"names":["DAttribute","DClass","DEnumerator","DModel","DReference","Input","LGraphElement","LModelElement","LObject","LStructuralFeature","LValue","LViewElement","MultiSelect","Pointers","Select","Selectors","SetFieldAction","store","TRANSACTION","U","React","connect","Empty","CommandBar","Btn","Tooltip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","builder","named","data","advanced","children","name","className","field","type","model","l","d","__raw","multiselectArr","dependencies","multiselectValue","state","getState","validoptionsarr","getAll","undefined","multiselectOptions","map","c","opt","value","id","label","console","log","did","cid","n","includes","push","filter","e","isMulti","options","onChange","v","package","class","lclass","m2","pkgs","allSubPackages","dclass","extendsarr","extends","extendValue","extendOptions","p","fullname","classes","tooltip","getter","rootable","setter","val","enum","feature","attribute","reference","operation","literal","object","topics","fromPointer","conform","features","upperBound","instanceof","lowerBound","values","length","partial","onClick","addValue","forceConform","f","concat","me","_me$instanceof","mm","getLastSelectedModel","event","window","debugmm","debugm","target","_value$instanceof","_value$instanceof2","stepSize","maxLength","min","max","filteredValues","getValues","add","r","new","initializeValue","remove","index","isPointer","rawValue","result","setValueAtPosition","isPtr","changeDValue","inputValue","checked","raw_values","oldvi","containment","indexDuplicate","indexOf","featureType","isAttribute","isEnumerator","isReference","isShapeless","cname","selectOptions","validTargetsJSX","valueslist","hidden","evt","step","placeholder","list","icon","tip","action","style","marginLeft","marginTop","disabled","isIoT","defaultValue","topic","extractTopics","t","InfoComponent","props","node","view","father","mapStateToProps","ownProps","_state$_lastSelected","_state$_lastSelected2","_state$_lastSelected3","ret","nodeID","_lastSelected","viewID","dataID","modelElement","mapDispatchToProps","dispatch","InfoConnected","Info","arguments"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/components/editors/Info.tsx"],"sourcesContent":["import {\r\n    Any,\r\n    DAttribute, DClass, DEnumerator, Dictionary, DModel, DocString, DReference,\r\n    DState,\r\n    Input, LAttribute, LClass, LClassifier, LEnumerator,\r\n    LGraphElement,\r\n    LModel,\r\n    LModelElement,\r\n    LObject, LPointerTargetable, LReference, LStructuralFeature, LValue,\r\n    LViewElement, MultiSelect, Pointer, Pointers,\r\n    Select,\r\n    Selectors, SetFieldAction, store, TRANSACTION, U, ValueDetail\r\n} from '../../joiner';\r\nimport {FakeStateProps} from '../../joiner/types';\r\nimport React, {Component, Dispatch, ReactElement, ReactNode} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './editors.scss';\r\nimport './info.scss';\r\nimport './style.scss';\r\nimport {Empty} from \"./Empty\";\r\nimport { CommandBar, Btn } from '../commandbar/CommandBar';\r\nimport { Tooltip } from '../forEndUser/Tooltip';\r\n\r\nclass builder {\r\n    static named(data: LModelElement, advanced: boolean): ReactNode {\r\n        return (<><h1>{data.name}</h1>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Name:</b>\r\n                <Input data={data} field={'name'} type={'text'}/>\r\n            </label>\r\n\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Readonly:</b>\r\n                <Input data={data} field={'__readonly'} type={'checkbox'}/>\r\n            </label>\r\n        </>);\r\n    }\r\n\r\n    static model(data: LModelElement, advanced: boolean): JSX.Element {\r\n        let l = data as LModel;\r\n        let d = l.__raw;\r\n        let multiselectArr = d.dependencies;\r\n        let multiselectValue: {value: string, label: string}[] = [];\r\n        let state = store.getState();\r\n        let validoptionsarr = Selectors.getAll(DModel, undefined, state, true, false) as DModel[];\r\n        let multiselectOptions: {value: string, label: string}[] = validoptionsarr.map(c => {\r\n            let opt = {value:c.id, label: c.name};\r\n            console.log('msel0', {d, c, did:d.id, cid:c.id, n:opt.label});\r\n            if (opt.value === d.id) return undefined;\r\n            if (!multiselectArr.includes(opt.value)) return opt;\r\n            console.log('msel', {d, c, did:d.id, cid:c.id, n:opt.label});\r\n            multiselectValue.push(opt);\r\n            return undefined;\r\n        }).filter(e=>!!e) as {value: string, label: string}[];\r\n        // <Select data={data} isMulti={true} field={'dependencies'}/>\r\n\r\n        return (<section className={'properties-tab'}>\r\n            {this.named(data, advanced)}\r\n\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Dependends from models:</b>\r\n                <MultiSelect isMulti={true} options={multiselectOptions as any} value={multiselectValue} onChange={(v) => {\r\n                    console.log('setting model dependencies', v);\r\n                    l.dependencies = v.map(e => e.value) as Any<string[]>;\r\n                }} />\r\n            </label>\r\n        </section>);\r\n    }\r\n\r\n    static package(data: LModelElement, advanced: boolean): JSX.Element {\r\n        return (<section className={'properties-tab'}>\r\n            <h1>{data.name}</h1>\r\n            {this.named(data, advanced)}\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Uri:</b>\r\n                <Input data={data} field={'uri'} type={'text'}/>\r\n            </label>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Prefix:</b>\r\n                <Input data={data} field={'prefix'} type={'text'}/>\r\n            </label>\r\n        </section>);\r\n    }\r\n\r\n    static class(data: LModelElement, advanced: boolean): JSX.Element {\r\n        let lclass: LClass = data as any;\r\n        // let extendOptions: {value: string, label: string}[] lclass.extends.map(lsubclass=> ({value: lsubclass.id, label: lsubclass.name}));\r\n        let m2: LModel = lclass.model;\r\n        let pkgs = m2.allSubPackages;\r\n        let dclass = lclass.__raw;\r\n        let extendsarr = dclass.extends;\r\n        let extendValue: {value: string, label: string}[] = [];\r\n        let extendOptions: {label: string, options: {value: string, label: string}[]}[] = pkgs.map(p => (\r\n            {label: p.fullname, options: p.classes.map(c=> {\r\n                let opt = {value:c.id, label: c.name};\r\n                if (opt.value === dclass.id) return undefined;\r\n                if (!extendsarr.includes(opt.value)) return opt;\r\n                extendValue.push(opt);\r\n                return undefined;\r\n            }).filter(e=>!!e) as {value: string, label: string}[]}));\r\n        //let extendOptions = pkgs.map(p => ({label: p.fullname, options: p.classes.map(c=> ({value:c.id as string, label:c.name}))}));\r\n\r\n\r\n        return (<section className={'properties-tab'}>\r\n            {this.named(data, advanced)}\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Abstract:</b>\r\n                <Input data={data} field={'abstract'} type={'checkbox'}/>\r\n            </label>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Interface:</b>\r\n                <Input data={data} field={'interface'} type={'checkbox'}/>\r\n            </label>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Extends:</b>\r\n                <MultiSelect isMulti={true} options={extendOptions as any} value={extendValue} onChange={(v) => {\r\n                    console.log('setting extend', v);\r\n                    lclass.extends = v.map(e => e.value) as Any<string[]>;\r\n                }} />\r\n            </label>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Final:</b>\r\n                <Tooltip tooltip={\"Defines if the class can be extended.\"}>\r\n                    <Input data={data} field={'final'} type={'checkbox'}/>\r\n                </Tooltip>\r\n            </label>\r\n            {false &&\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Rootable:</b>\r\n                    <Tooltip tooltip={\"Whether the element can be a m1 root (present in toolbar).\"}>\r\n                        <Input data={data} field={'rootable'} type={'checkbox3'}/>\r\n                    </Tooltip>\r\n                </label>}\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Singleton:</b>\r\n                <Tooltip tooltip={'A singleton element is always present exactly 1 time in every model.' +\r\n                    '\\nA single instance is created dynamically and cannot be created by the user.'}>\r\n                    <Input data={data} field={'singleton'} type={'checkbox'}/>\r\n                </Tooltip>\r\n            </label>\r\n            {advanced && <label className={'input-container'}>\r\n                <b className={'me-2'}>Partial:</b>\r\n                <Input data={data} field={'partial'} type={'checkbox'}/>\r\n            </label>}\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Rootable:</b>\r\n                <Tooltip tooltip={\"Whether the element can be a m1 root (present in toolbar).\"}>\r\n                    <Input data={data} field={'rootable'} type={'checkbox'} getter={()=>dclass.rootable} setter={(val)=>{\r\n                        lclass.rootable = val as any;\r\n                        console.log('setter', val);\r\n                    }}/>\r\n                </Tooltip>\r\n            </label>\r\n        </section>);\r\n    }\r\n\r\n    static enum(data: LModelElement, advanced: boolean): JSX.Element {\r\n        return (<section className={'properties-tab'}>\r\n            {this.named(data, advanced)}\r\n            {advanced && <label className={'input-container'}>\r\n                <b className={'me-2'}>Serializable:</b>\r\n                <Input data={data} field={'serializable'} type={'checkbox'}/>\r\n            </label>}\r\n        </section>);\r\n    }\r\n\r\n    static feature(data: LModelElement, advanced: boolean): JSX.Element {\r\n        return (<>\r\n            {this.named(data, advanced)}\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Type:</b>\r\n                <Select data={data} field={'type'} />\r\n            </label>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Lower Bound:</b>\r\n                <Input data={data} field={'lowerBound'} type={'number'} />\r\n            </label>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Upper Bound:</b>\r\n                <Input data={data} field={'upperBound'} type={'number'} />\r\n            </label>\r\n            {advanced && <>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Unique:</b>\r\n                    <Input data={data} field={'unique'} type={'checkbox'}/>\r\n                </label>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Ordered:</b>\r\n                    <Input data={data} field={'ordered'} type={'checkbox'}/>\r\n                </label>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Changeable:</b>\r\n                    <Input data={data} field={'changeable'} type={'checkbox'}/>\r\n                </label>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Volatile:</b>\r\n                    <Input data={data} field={'volatile'} type={'checkbox'}/>\r\n                </label>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Transient:</b>\r\n                    <Input data={data} field={'transient'} type={'checkbox'}/>\r\n                </label>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Unsettable:</b>\r\n                    <Input data={data} field={'unsettable'} type={'checkbox'}/>\r\n                </label>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Derived:</b>\r\n                    <Input data={data} field={'derived'} type={'checkbox'}/>\r\n                </label>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Cross Reference:</b>\r\n                    <Input data={data} field={'allowCrossReference'} type={'checkbox'}/>\r\n                </label>\r\n            </>}\r\n        </>);\r\n    }\r\n\r\n    static attribute(data: LModelElement, advanced: boolean): JSX.Element {\r\n        return (<section className={'properties-tab'}>\r\n            {this.feature(data, advanced)}\r\n            {advanced && <>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>ID:</b>\r\n                    <Input data={data} field={'isID'} type={'checkbox'} />\r\n                </label>\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>IoT:</b>\r\n                    <Input data={data} field={'isIoT'} type={'checkbox'} />\r\n                </label>\r\n            </>}\r\n        </section>);\r\n    }\r\n    static reference(data: LModelElement, advanced: boolean): JSX.Element {\r\n        return (<section className={'properties-tab'}>\r\n            {this.feature(data, advanced)}\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Composition:</b>\r\n                <Input data={data} field={'composition'} type={'checkbox'} />\r\n            </label>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Aggregation:</b>\r\n                <Input data={data} field={'aggregation'} type={'checkbox'} />\r\n            </label>\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Container:</b>\r\n                <Input data={data} field={'container'} type={'checkbox'} />\r\n            </label>\r\n        </section>);\r\n    }\r\n    static operation(data: LModelElement, advanced: boolean): JSX.Element {\r\n        return (<section className={'properties-tab'}>\r\n            {this.named(data, advanced)}\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Return:</b>\r\n                <Select data={data} field={'type'} />\r\n            </label>\r\n        </section>);\r\n    }\r\n    static literal(data: LModelElement, advanced: boolean): JSX.Element {\r\n        return (<section className={'properties-tab'}>\r\n            {this.named(data, advanced)}\r\n            <label className={'input-container'}>\r\n                <b className={'me-2'}>Ordinal:</b>\r\n                <Input data={data} field={'ordinal'} type={'number'} />\r\n            </label>\r\n        </section>);\r\n    }\r\n    static object(data: LModelElement, topics: Dictionary<string, unknown>, advanced: boolean): JSX.Element {\r\n        const object: LObject = LObject.fromPointer(data.id);\r\n        let conform = true;\r\n        for(const feature of object.features) {\r\n            let upperBound =  feature.instanceof ? feature.instanceof.upperBound : -1;\r\n            upperBound = (upperBound === -1) ? 999 : upperBound;\r\n            const lowerBound =  feature.instanceof ? feature.instanceof.lowerBound : -1;\r\n            const value = feature.values;\r\n            conform = (value.length >= lowerBound && value.length <= upperBound);\r\n        }\r\n        return(<section className={'properties-tab'}>\r\n            <h1>{data.name}</h1>\r\n            {object.instanceof && conform && <label className={'d-block text-center'}>\r\n                The instance <b className={'text-success'}>CONFORMS</b> to {object.instanceof.name}\r\n            </label>}\r\n            {object.instanceof && !conform && <label className={'d-block text-center'}>\r\n                The instance <b className={'text-danger'}>NOT CONFORMS</b> to {object.instanceof.name}\r\n            </label>}\r\n            {!object.instanceof && <label className={'d-block text-center'}>\r\n                The instance is <b className={'text-warning'}>SHAPELESS</b>\r\n            </label>}\r\n            {!object.partial ? null :\r\n                <label className={'input-container'}>\r\n                    <b className={'me-2'}>Features:</b>\r\n                    <button className={'btn btn-primary ms-auto'} onClick={e => object.addValue()}>\r\n                        <i className={'p-1 bi bi-plus'} />\r\n                    </button>\r\n                </label>\r\n            }\r\n            {this.forceConform(object)}\r\n            {object.features.map(f => <div id={`Object-${f.id}`}>\r\n                {this.value(f, topics, advanced)}\r\n            </div>)}\r\n        </section>);\r\n    }\r\n    static forceConform(me: LObject) {\r\n        let mm: LModel = Selectors.getLastSelectedModel().m2 as LModel;\r\n        if (!mm) return <></>\r\n        return(<label className={'input-container'}>\r\n            <b className={'me-2'}>Force Type:</b>\r\n            <select className={'my-auto ms-auto select'} onChange={ (event)=>{\r\n                (window as any).debugmm = mm;\r\n                (window as any).debugm = me;\r\n                me.instanceof = event.target.value === 'undefined' ? undefined : event.target.value as any;\r\n            } } value={me.instanceof?.id || 'undefined'}>\r\n                <optgroup label={mm.name}>\r\n                    {(mm.classes || []).map( c =>\r\n                            <option value={c.id}>{c?.name || c.id}</option>\r\n                    )}\r\n                    <option value={'undefined'}>Object</option>\r\n                </optgroup>\r\n            </select>\r\n        </label>);\r\n    }\r\n    static value(data: LModelElement, topics: Dictionary<string, unknown>, advanced: boolean): JSX.Element {\r\n        let value: LValue = LValue.fromPointer(data.id);\r\n        const feature: LStructuralFeature = LStructuralFeature.fromPointer(value.instanceof?.id);\r\n        let field = 'text'; let stepSize = 1; let maxLength = 524288;\r\n        const min = -9223372036854775808;\r\n        const max = 9223372036854775807;\r\n        switch (feature?.type.name) {\r\n            case 'EChar': maxLength = 1; break;\r\n            case 'EInt':\r\n            case 'ELong':\r\n            case 'EShort':\r\n            case 'Byte': field = 'number'; break;\r\n            case 'EFloat': field = 'number'; stepSize = 0.1; break;\r\n            case 'EDouble': field = 'number'; stepSize = 0.01; break;\r\n            case 'EBoolean': field = 'checkbox'; break;\r\n            case 'EDate': field = 'date'; break;\r\n            default: field = 'text'; break;\r\n        }\r\n        let upperBound = feature ? (feature as LReference | LAttribute).__raw.upperBound : -1;\r\n        if (upperBound < 0) upperBound = 999;\r\n        let filteredValues: ValueDetail[] = value.getValues(true, false, false, false, true, true) as any;\r\n\r\n        const add = () => {\r\n            value = value.r;\r\n            SetFieldAction.new(value.id, 'values', U.initializeValue(feature?.type), '+=', false);\r\n        }\r\n        const remove = (index: number, isPointer: boolean | undefined) => {\r\n            console.log('remove clicked');\r\n            value = value.r;\r\n            if (isPointer === undefined) isPointer = Pointers.isPointer(filteredValues[index].rawValue); // !!(filteredValues[index].value as any)?.__isProxy ||\r\n            // SetFieldAction.new(value.id, 'values', index, '-=', isPointer);\r\n\r\n            let result = value.setValueAtPosition(index, undefined, {isPtr: isPointer});\r\n            console.log('clearing containment DValue', {result, index, value});\r\n        }\r\n        function changeDValue(event: React.ChangeEvent<HTMLInputElement|HTMLSelectElement>, index: number, isPointer: boolean | undefined) {\r\n            TRANSACTION(()=>{\r\n                value = value.r;\r\n                let inputValue: string | boolean = field === 'checkbox' ? (event.target as HTMLInputElement).checked : event.target.value;\r\n                if (inputValue === 'undefined') inputValue = undefined as any;\r\n                let raw_values = value.__raw.values;\r\n                isPointer = isPointer || Pointers.isPointer(raw_values[index]) || Pointers.isPointer(inputValue);\r\n\r\n                let oldvi = raw_values[index];\r\n                if (isPointer && value.containment){\r\n                    let indexDuplicate = raw_values.indexOf(inputValue as any);\r\n                    if (indexDuplicate === index) return;\r\n                    if (indexDuplicate >= 0) {\r\n                        let result = value.setValueAtPosition(indexDuplicate, undefined, {isPtr: true});\r\n                        console.log('clearing containment DValue', {inputValue, result, indexDuplicate, raw_values, index, oldvi});\r\n                    }\r\n                }\r\n                let result = value.setValueAtPosition(index, inputValue, {isPtr: isPointer});\r\n                console.log('setting DValue', {inputValue, result, value, index, oldvi});\r\n            })\r\n        }\r\n        const featureType: LClassifier = feature?.type;\r\n        let isAttribute = false, isEnumerator = false, isReference = false, isShapeless = false;\r\n        switch(feature?.className){\r\n            case DAttribute.cname:\r\n                if (featureType.className === DClass.cname) isAttribute = true; else\r\n                if (featureType.className === DEnumerator.cname) isEnumerator = true;\r\n                break;\r\n            case DReference.cname: isReference = true; break;\r\n            default: isShapeless = true; break;\r\n        }\r\n        let selectOptions: JSX.Element | JSX.Element[] | null = value.validTargetsJSX;\r\n\r\n        let isPtr = isAttribute ? false : (isEnumerator || isReference ? true : undefined);\r\n        const valueslist = (filteredValues).map((val, index) =>\r\n            val.hidden ? null :\r\n                <label className={'mt-1 d-flex ms-4'} key={index}>\r\n                    <div className={'border border-dark'}></div>\r\n                    {isAttribute && <input onChange={(evt) => { changeDValue(evt, index, false) }} className={'input m-auto ms-1'} value={val.value + ''}\r\n                                       checked={!!val.value} min={min} max={max} type={field} step={stepSize} maxLength={maxLength} placeholder={'empty'}/> }\r\n                    {isEnumerator && <select onChange={(evt) => {changeDValue(evt, index, true)}} className={'m-auto ms-1 select'} value={val.rawValue+''} data-valuedebug={val.rawValue}>\r\n                        {<option key='undefined' value={'undefined'}>-----</option>}\r\n                        {selectOptions}\r\n                    </select>}\r\n                    {isReference && <select onChange={(evt) => {changeDValue(evt, index, true)}} className={'m-auto ms-1 select'} value={val.rawValue+''} data-valuedebug={val.rawValue}>\r\n                        <option value={'undefined'}>-----</option>\r\n                        {selectOptions}\r\n                    </select>}\r\n                    {isShapeless && <>\r\n                        {<input key={'raw' + index} onChange={(evt) => {changeDValue(evt, index, false)}} className={'input m-auto ms-1'} value={val.rawValue+''} list={'objectdatalist'} type={'text'} placeholder={'empty'}/>}\r\n                        <span className={'ms-1 my-auto'}>â†’</span>\r\n                        {<select key={index} onChange={(evt) => {changeDValue(evt, index, undefined)}} className={'select m-auto ms-1'} value={val.rawValue+''}>\r\n                            {selectOptions}\r\n                        </select>}\r\n                    </>}\r\n                    <CommandBar>\r\n                        <Btn icon={'delete'} tip={'Remove value'} action={(evt) => {remove(index, isPtr)}} />\r\n                    </CommandBar>\r\n                    {/*<button className={'btn btn-danger m-auto ms-2'} onClick={(evt) => {remove(index, isPtr)}}>\r\n                        <i className={'p-1 bi bi-trash3'}></i>\r\n                    </button>*/}\r\n                </label>);\r\n\r\n        return(<section className={'properties-tab'}>\r\n            <h1>{data.name}</h1>\r\n            <label className={'d-flex'}>\r\n                <label className={'ms-1 my-auto'}>Values</label>\r\n                <CommandBar style={{marginLeft: 'auto', marginTop: '6px'}}>\r\n                    <Btn icon={'add'} action={add} tip={`Add a ${data.name} value`} disabled={filteredValues.length >= upperBound}/>\r\n                </CommandBar>\r\n                {/* <button className={'btn btn-primary ms-auto me-1'} disabled={filteredValues.length >= upperBound} onClick={add}>\r\n                    <i className={'p-1 bi bi-plus'}></i>\r\n                </button>*/}\r\n            </label>\r\n            {valueslist}\r\n            {value.instanceof?.className === 'DAttribute' && (value.instanceof as LAttribute).isIoT && <label className={'mt-2 input-container'}>\r\n                <b className={'me-2'}>Topic:</b>\r\n                <select className={'my-auto ms-auto select'} defaultValue={value.topic} onChange={e => value.topic = e.target.value}>\r\n                    <optgroup label={'topics'}>\r\n                        <option value={''}>------</option>\r\n                        {U.extractTopics(topics).map(t => <option key={t} value={t}>{t}</option>)}\r\n                    </optgroup>\r\n                </select>\r\n            </label>}\r\n        </section>)\r\n    }\r\n}\r\n\r\nfunction InfoComponent(props: AllProps) {\r\n    const {data, node, view, topics, advanced} = props;\r\n\r\n    switch (data?.className) {\r\n        case 'DModel':\r\n            return builder.model(data, advanced);\r\n        case 'DPackage':\r\n            return builder.package(data, advanced);\r\n        case 'DClass':\r\n            return builder.class(data, advanced);\r\n        case 'DEnumerator':\r\n            return builder.enum(data, advanced);\r\n        case 'DAttribute':\r\n            return builder.attribute(data, advanced);\r\n        case 'DReference':\r\n            return builder.reference(data, advanced);\r\n        case 'DOperation':\r\n            return builder.operation(data, advanced);\r\n        case 'DParameter':\r\n            return builder.operation(data.father, advanced);\r\n        case 'DEnumLiteral':\r\n            return builder.literal(data, advanced);\r\n        case 'DObject':\r\n            return builder.object(data, topics, advanced);\r\n        case 'DValue':\r\n            return builder.value(data, topics, advanced);\r\n    }\r\n    return <Empty />;\r\n\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    node?: LGraphElement\r\n    view?: LViewElement\r\n    data?: LModelElement\r\n    topics: Dictionary<string, unknown>\r\n    advanced: boolean\r\n}\r\ninterface DispatchProps {}\r\n\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    const nodeID = state._lastSelected?.node;\r\n    const viewID = state._lastSelected?.view;\r\n    const dataID = state._lastSelected?.modelElement;\r\n    if(nodeID) ret.node = LGraphElement.fromPointer(nodeID);\r\n    if(viewID) ret.view = LViewElement.fromPointer(viewID);\r\n    if(dataID) ret.data = LModelElement.fromPointer(dataID);\r\n    ret.topics = state.topics;\r\n    ret.advanced = state.advanced;\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {} as any;\r\n    return ret;\r\n}\r\n\r\n\r\nexport const InfoConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(InfoComponent);\r\n\r\nexport const Info = (props: OwnProps, children: (string | Component)[] = []): ReactElement => {\r\n    return <InfoConnected {...{...props, children}} />;\r\n}\r\nexport default Info;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}