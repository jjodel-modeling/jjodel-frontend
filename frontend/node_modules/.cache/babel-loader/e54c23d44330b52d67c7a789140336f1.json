{"ast":null,"code":"import { r as registerInstance, h, H as Host, c as createEvent, F as Fragment, g as getElement, f as forceUpdate } from './index-f7721357.js';\nimport { h as IgcDockingIndicatorPosition, f as IgcSplitPaneOrientation, e as IgcDockManagerPaneType, g as IgcUnpinnedLocation, i as IgcPaneDragActionType, k as IgcResizerLocation, r as resourceStringsMap, d as addResourceStrings } from './locale-8f3ada11.js';\nconst buttonComponentCss = \"button{position:static;display:inline-flex;align-items:center;justify-content:center;width:auto;height:100%;min-width:10px;padding:2px 4px;border-radius:2px;color:var(--igc-button-text, rgba(0, 0, 0, 0.72));cursor:pointer;outline-style:none;font-size:14px;font-family:inherit;background:transparent;border:none;-webkit-tap-highlight-color:transparent;opacity:0.7;transition:background 0.25s ease-out, opacity 0.25s ease-out, box-shadow 0.25s ease-out}:host([disabled]){pointer-events:none}:host{display:flex}button{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}button:hover{opacity:1}button:focus{background:var(--igc-accent-color, #fff);box-shadow:inset 0 0 0 1px var(--igc-active-color, cornflowerblue);opacity:1}button[disabled]{opacity:0.54}\";\nconst IgcButtonComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.disabled = undefined;\n    this.name = undefined;\n    this.type = undefined;\n    this.value = undefined;\n  }\n  render() {\n    return h(Host, {\n      disabled: this.disabled\n    }, h(\"button\", {\n      name: this.name,\n      type: this.type,\n      value: this.value,\n      \"aria-disabled\": this.disabled ? 'true' : null\n    }, h(\"slot\", null)));\n  }\n};\nIgcButtonComponent.style = buttonComponentCss;\n\n/**\n * @hidden\n */\nclass Utils {\n  static isDockingIndicatorVertical(position) {\n    return position === IgcDockingIndicatorPosition.top || position === IgcDockingIndicatorPosition.bottom || position === IgcDockingIndicatorPosition.outerTop || position === IgcDockingIndicatorPosition.outerBottom;\n  }\n  static isDockingIndicatorBefore(position) {\n    return position === IgcDockingIndicatorPosition.top || position === IgcDockingIndicatorPosition.left || position === IgcDockingIndicatorPosition.outerTop || position === IgcDockingIndicatorPosition.outerLeft;\n  }\n  static isDockingIndicatorBeforeRTL(position) {\n    return position === IgcDockingIndicatorPosition.top || position === IgcDockingIndicatorPosition.right || position === IgcDockingIndicatorPosition.outerTop || position === IgcDockingIndicatorPosition.outerRight;\n  }\n  static isDockingIndicatorOuter(position) {\n    return position === IgcDockingIndicatorPosition.outerLeft || position === IgcDockingIndicatorPosition.outerRight || position === IgcDockingIndicatorPosition.outerTop || position === IgcDockingIndicatorPosition.outerBottom;\n  }\n  static isSplitPaneVertical(splitPane) {\n    return splitPane.orientation === IgcSplitPaneOrientation.vertical;\n  }\n  static isAltPressed(event) {\n    return event.altKey || event.getModifierState('Alt') || event.getModifierState('AltGraph');\n  }\n  static isControlOrMetaPressed(event) {\n    return event.ctrlKey || event.metaKey || event.getModifierState('Meta') || event.getModifierState('OS');\n  }\n  static partNameMap(partNameInfo) {\n    let delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ' ';\n    return Object.keys(partNameInfo).filter(key => partNameInfo[key]).join(delimiter);\n  }\n  static getDirection(element) {\n    let direction = '';\n    if (element.dir !== '') {\n      direction = element.dir;\n    } else {\n      let parent = element.parentElement;\n      while (parent) {\n        if (parent.dir !== '') {\n          direction = parent.dir;\n          break;\n        }\n        parent = parent.parentElement;\n      }\n    }\n    return direction;\n  }\n}\n\n/**\n * @hidden\n */\nconst IGC_DEFAULT_PANE_SIZE = 100;\n/**\n * @hidden\n */\nconst IGC_DEFAULT_UNPIN_PANE_SIZE = 200;\n/**\n * @hidden\n */\nconst IGC_RESIZING_MIN_SIZE = 42;\n/**\n * @hidden\n */\nconst IGC_DEFAULT_RESIZE = 10;\n/**\n * @hidden\n */\nconst IGC_DRAG_FLYOUT_THRESHOLD = 50;\n/**\n * @hidden\n */\nvar IgcTabHeadersPosition;\n(function (IgcTabHeadersPosition) {\n  IgcTabHeadersPosition[\"top\"] = \"top\";\n  IgcTabHeadersPosition[\"bottom\"] = \"bottom\";\n})(IgcTabHeadersPosition || (IgcTabHeadersPosition = {}));\n/**\n * @hidden\n */\nvar IgcContextMenuOrientation;\n(function (IgcContextMenuOrientation) {\n  IgcContextMenuOrientation[\"top\"] = \"top\";\n  IgcContextMenuOrientation[\"bottom\"] = \"bottom\";\n})(IgcContextMenuOrientation || (IgcContextMenuOrientation = {}));\n/**\n * @hidden\n */\nvar IgcPinBehavior;\n(function (IgcPinBehavior) {\n  IgcPinBehavior[\"allPanes\"] = \"allPanes\";\n  IgcPinBehavior[\"selectedPane\"] = \"selectedPane\";\n})(IgcPinBehavior || (IgcPinBehavior = {}));\nconst contentPaneComponentCss = \":host{--min-pane-size:0px;position:relative;display:flex;flex-direction:column;overflow:hidden;width:100%;height:100%;min-width:var(--min-pane-size);min-height:var(--min-pane-size);box-sizing:border-box;pointer-events:all}:host(:focus){outline-style:none}:host([part~=disabled]:not([part~=single-floating])),:host([part~=disabled])>slot:not([name]){pointer-events:none}\";\nconst IgcContentPaneComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.rendered = createEvent(this, \"rendered\", 7);\n    this.size = undefined;\n    this.isFlyout = undefined;\n    this.unpinnedSize = undefined;\n    this.header = undefined;\n    this.disabled = false;\n    this.isSingleFloating = false;\n    this.contentId = undefined;\n  }\n  componentDidRender() {\n    this.rendered.emit();\n  }\n  render() {\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\n    const unpinnedSize = this.unpinnedSize ? this.unpinnedSize : IGC_DEFAULT_UNPIN_PANE_SIZE;\n    const parts = Utils.partNameMap({\n      'content-pane': true,\n      [this.contentId]: true,\n      disabled: this.disabled,\n      'single-floating': this.isSingleFloating\n    });\n    return h(Host, {\n      role: \"group\",\n      \"aria-label\": this.header,\n      \"aria-disabled\": this.disabled ? 'true' : 'false',\n      tabindex: this.disabled ? -1 : 0,\n      style: {\n        flex: this.isFlyout ? `0 1 ${unpinnedSize}px` : `${size} 1 ${size}px`\n      },\n      part: parts\n    }, h(\"slot\", {\n      name: \"header\"\n    }), h(\"slot\", null));\n  }\n};\nIgcContentPaneComponent.style = contentPaneComponentCss;\nconst contextMenuComponentCss = \":host{position:absolute;display:block;box-sizing:border-box;top:0;left:0;bottom:0;right:0;z-index:10002;pointer-events:none}:host igc-icon-component svg{width:17px;height:17px}:host igc-icon-component{margin-left:8px}[part=menu-content]{position:absolute;visibility:hidden;color:var(--igc-context-menu-color, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-context-menu-background, var(--igc-accent-color, #fff));border:1px solid var(--igc-context-menu-background, var(--igc-accent-color, #fff));pointer-events:all;box-shadow:0 5px 22px rgba(0, 0, 0, 0.08), 0 12px 17px 2px rgba(0, 0, 0, 0.12), 0 7px 8px -4px rgba(0, 0, 0, 0.26);box-sizing:border-box}[part~=menu-item]{display:flex;align-items:center;justify-content:space-between;padding:6px 8px;font-size:0.75em;line-height:1.7;cursor:pointer;transition:background 0.25s ease-out, color 0.25s ease-out;outline-style:none}[part~=menu-item]:hover{background:var(--igc-context-menu-background-active, var(--igc-border-color, #F3F5F7));color:var(--igc-context-menu-color-active, #000)}[part~=menu-item]:focus{background:var(--igc-context-menu-background-active, var(--igc-border-color, #F3F5F7));color:var(--igc-context-menu-color-active, #000)}[part~=disabled]{pointer-events:none;color:var(--igc-disabled-color, rgba(0, 0, 0, 0.38))}\";\nconst IgcContextMenuComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.menuClosed = createEvent(this, \"menuClosed\", 7);\n    this.handleDocumentResize = () => {\n      this.menuClosed.emit();\n    };\n    this.handleDocumentMouseDown = ev => {\n      if (ev.composedPath().every(el => el !== this.elem)) {\n        // mousedown outside of context menu\n        this.menuClosed.emit();\n      }\n    };\n    this.orientation = undefined;\n    this.position = undefined;\n    this.target = undefined;\n    this.items = undefined;\n    this.activeIndex = 0;\n  }\n  emitMenuClosed() {\n    this.menuClosed.emit();\n  }\n  connectedCallback() {\n    document.defaultView.addEventListener('resize', this.handleDocumentResize, false);\n    document.defaultView.addEventListener('mousedown', this.handleDocumentMouseDown, false);\n  }\n  disconnectedCallback() {\n    document.defaultView.removeEventListener('resize', this.handleDocumentResize, false);\n    document.defaultView.removeEventListener('mousedown', this.handleDocumentMouseDown, false);\n  }\n  componentDidLoad() {\n    const isTabsMoreButton = this.target.querySelector('slot[name=\"tabsMoreButton\"]') !== null;\n    const menuItemsDivRect = this.menuItemsDiv.getBoundingClientRect();\n    const hostRect = this.elem.getBoundingClientRect();\n    const rootNodeShadowHost = this.target.getRootNode();\n    const isFloating = this.isFloating(rootNodeShadowHost.host);\n    const rootHostRect = rootNodeShadowHost.host.getBoundingClientRect();\n    const isTabs = rootNodeShadowHost.host.tagName.toLowerCase() === 'igc-tab-header-component';\n    const tabsContentHost = isTabs ? rootNodeShadowHost.host.parentElement.shadowRoot : rootNodeShadowHost;\n    const tabRect = tabsContentHost.host.getBoundingClientRect();\n    const tabsContentRect = tabsContentHost.querySelector('div[part~=\"tabs-content\"]').getBoundingClientRect();\n    const isRTL = rootHostRect.right - menuItemsDivRect.right < 1;\n    const shouldChangeOpenOrientation = tabRect.bottom + menuItemsDivRect.bottom >= window.innerHeight || tabRect.height + menuItemsDivRect.bottom >= window.innerHeight || isTabsMoreButton && tabsContentRect.height - menuItemsDivRect.height > 0;\n    const menuToBottom = shouldChangeOpenOrientation ? tabsContentRect.top + (tabsContentRect.height - menuItemsDivRect.bottom) : rootHostRect.top - menuItemsDivRect.top + rootHostRect.height;\n    const menuToTop = tabsContentRect.top - menuItemsDivRect.top;\n    const menuToStart = isRTL ? rootHostRect.right - menuItemsDivRect.width : rootHostRect.left;\n    const menuToEnd = isRTL && !isFloating ? rootHostRect.left : rootHostRect.right - menuItemsDivRect.right;\n    const menuToCenter = rootHostRect.left + (rootHostRect.width - menuItemsDivRect.width) / 2;\n    let menuLeft = !isRTL ? menuToStart : menuToEnd;\n    let menuTop = this.orientation === IgcContextMenuOrientation.bottom ? isTabs ? menuToBottom : menuToTop : menuToBottom;\n    const menuBottom = menuTop + menuItemsDivRect.height;\n    menuTop = menuTop >= 0 ? menuTop : menuToBottom;\n    switch (this.position) {\n      case 'start':\n        menuLeft = menuToStart;\n        break;\n      case 'center':\n        menuLeft = rootHostRect.width > menuItemsDivRect.width && menuToCenter;\n        break;\n      case 'stretch':\n        this.menuItemsDiv.style.width = rootHostRect.width > menuItemsDivRect.width && `${rootHostRect.width}px`;\n        break;\n      case 'end':\n      default:\n        menuLeft = menuToEnd;\n    }\n    if (this.orientation === IgcContextMenuOrientation.bottom && menuBottom > hostRect.height) {\n      menuTop = menuToTop;\n    }\n    this.menuItemsDiv.style.left = `${menuLeft}px`;\n    this.menuItemsDiv.style.top = `${menuTop}px`;\n    this.menuItemsDiv.style.visibility = 'visible';\n    this.focusItemAndSetActiveIndex();\n  }\n  focusItemAndSetActiveIndex() {\n    const firstMenuItem = this.menuItemsDiv.querySelector('div[part=\"menu-item\"]');\n    firstMenuItem === null || firstMenuItem === void 0 ? void 0 : firstMenuItem.focus();\n  }\n  isFloating(host) {\n    while (host) {\n      if (host.tagName && host.tagName.toLowerCase() === 'igc-floating-pane-component') {\n        return true;\n      }\n      host = host.parentNode;\n    }\n    return false;\n  }\n  handleKeyboardEvents(item, ev) {\n    const menuItemChildren = this.menuItemsDiv.querySelectorAll('div[part=\"menu-item\"]');\n    if (ev.key === 'ArrowDown') {\n      if (this.activeIndex < menuItemChildren.length - 1) {\n        this.activeIndex++;\n        menuItemChildren[this.activeIndex].focus();\n      }\n    } else if (ev.key === 'ArrowUp') {\n      if (this.activeIndex > 0) {\n        this.activeIndex--;\n        menuItemChildren[this.activeIndex].focus();\n      }\n    } else if (ev.key === 'Enter' || ev.key === ' ') {\n      item.clickHandler();\n      this.emitMenuClosed();\n    } else if (ev.key === 'Escape') {\n      this.emitMenuClosed();\n    }\n  }\n  handleMenuItemClick(item) {\n    item.clickHandler();\n    this.emitMenuClosed();\n  }\n  renderItemIcon(item) {\n    return h(Fragment, null, item.iconName === 'close' && this.renderCloseButton(), item.iconName === 'unpin' && this.renderUnpinButton(), item.iconName !== null && item.iconName !== 'close' && item.iconName !== 'unpin' && h(\"igc-icon-component\", {\n      name: item.iconName\n    }));\n  }\n  renderCloseButton() {\n    return h(\"slot\", {\n      name: \"contextMenuCloseButton\"\n    }, h(\"igc-icon-component\", {\n      part: \"context-menu-close-button\",\n      name: \"close\"\n    }));\n  }\n  renderUnpinButton() {\n    return h(\"slot\", {\n      name: \"contextMenuUnpinButton\"\n    }, h(\"igc-icon-component\", {\n      part: \"context-menu-unpin-button\",\n      name: \"unpin\"\n    }));\n  }\n  render() {\n    return h(Host, {\n      part: \"context-menu\",\n      exportparts: \"context-menu,\\r\\n        menu-item: context-menu-item,\\r\\n        menu-content: context-menu-content,\\r\\n        context-menu-close-button,\\r\\n        context-menu-unpin-button\"\n    }, h(\"div\", {\n      role: \"menu\",\n      part: \"menu-content\",\n      ref: el => this.menuItemsDiv = el,\n      onMouseDown: ev => {\n        ev.preventDefault();\n      }\n    }, this.items.map(item => {\n      const parts = Utils.partNameMap({\n        'menu-item': true,\n        disabled: item.disabled\n      });\n      return h(\"div\", {\n        role: \"menuitem\",\n        part: parts,\n        tabindex: \"-1\",\n        onKeyDown: this.handleKeyboardEvents.bind(this, item),\n        onClick: this.handleMenuItemClick.bind(this, item)\n      }, h(\"span\", {\n        style: {\n          flexGrow: '1',\n          userSelect: 'none'\n        }\n      }, item.displayText), this.renderItemIcon(item));\n    })));\n  }\n  get elem() {\n    return getElement(this);\n  }\n};\nIgcContextMenuComponent.style = contextMenuComponentCss;\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nif (typeof customElements !== \"undefined\") {\n  var watermarkRegistered = customElements.get(\"igc-trial-watermark\");\n  if (!watermarkRegistered) {\n    (function () {\n      var TrialWatermark = /*#__PURE__*/function (_HTMLElement) {\n        _inherits(TrialWatermark, _HTMLElement);\n        var _super = _createSuper(TrialWatermark);\n        function TrialWatermark() {\n          var _this;\n          _classCallCheck(this, TrialWatermark);\n          _this = _super.call(this);\n          var shadow = _this.attachShadow({\n            mode: \"closed\"\n          });\n          _this.__anchor = document.createElement(\"a\");\n          _this.__anchor.setAttribute(\"class\", \"watermark__link\");\n          _this.__anchor.setAttribute(\"href\", \"https://www.infragistics.com/how-to-buy/renewal\");\n          _this.__anchor.setAttribute(\"target\", \"_blank\");\n          var img = document.createElement(\"span\");\n          img.setAttribute(\"class\", \"watermark__background-img\");\n          var style = document.createElement(\"style\");\n          style.textContent = \":host{display:block;position:absolute;bottom:0;right:0;width:100%;height:100%;z-index:10000;pointer-events:none}:host .watermark__link{display:inline-flex;align-items:center;position:absolute;bottom:0;right:0;font-family:'Titillium Web', sans-serif;font-size:.875rem;padding:.125rem .25rem;line-height:normal;border:1px solid var(--igx-watermark-border-color, #09f);color:var(--igx-watermark-color, #fff);z-index:10002;background-color:var(--igx-watermark-link-background, #09f);pointer-events:all;text-decoration:none}:host .watermark__link img{margin-right:4px}:host .watermark__background-img{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;pointer-events:none;background-image:var(--igx-watermark-background-image, url(\\\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDYgMjYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MC4xMjtmaWxsOiMwMDk5RkY7fQo8L3N0eWxlPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJtNC4yIDIuNS0xLjctMC41IDAuNS0xLjctMS4zLTAuMy0wLjUgMS43LTAuNy0wLjItMC4zIDEuMSAwLjggMC4yLTAuOCAyLjhjLTAuMiAwLjgtMC4yIDEuNC0wLjEgMS44IDAuMiAwLjQgMC42IDAuNyAxLjIgMC44IDAuNCAwLjEgMC44IDAuMiAxLjIgMC4ybDAuMi0xLTEtMC4yYy0wLjItMC4xLTAuNC0wLjItMC40LTAuNCAwLTAuMyAwLjEtMC43IDAuMi0xbDAuNy0yLjYgMS43IDAuNCAwLjMtMS4xem0wLjcgNi42IDEuMS00LjFoMC4zYzAuNi0wLjEgMS4yLTAuMiAxLjktMC4xbDAuMy0xLjNjLTAuOC0wLjEtMS41IDAtMi4yIDAuM2wwLjItMC43LTEuNC0wLjMtMS41IDUuOCAxLjMgMC40em00LjMgMS4xIDEuNi01LjktMS4zLTAuNC0xLjYgNS45IDEuMyAwLjR6bTEuOS02LjkgMC40LTEuMy0xLjMtMC40LTAuNCAxLjMgMS4zIDAuNHptNS4xIDIuOGMtMC4yLTAuNC0wLjctMC43LTEuNC0wLjktMC44LTAuMi0xLjYtMC4zLTIuNS0wLjNsLTAuMyAwLjkgMC40IDAuMWMwLjggMC4xIDEuNCAwLjMgMS45IDAuNCAwLjIgMCAwLjQgMC4xIDAuNiAwLjMgMC4xIDAuMiAwLjEgMC41IDAgMC43bC0wLjEgMC40LTEuNS0wLjNjLTAuNS0wLjEtMS4xLTAuMS0xLjYgMC4xLTAuNCAwLjItMC43IDAuNi0wLjggMS4yLTAuMyAxLjIgMC4xIDIgMS4yIDIuNCAwLjcgMC4yIDEuMyAwLjIgMiAwLjEgMC40IDAuNCAwLjkgMC43IDEuNCAwLjlsMC4zLTFjLTAuMS0wLjEtMC4zLTAuMS0wLjMtMC4zLTAuMS0wLjEtMC4xLTAuMyAwLTAuNGwwLjctMi43YzAuMy0wLjcgMC4yLTEuMiAwLTEuNnptLTEuNiAyLjYtMC40IDEuNWgtMC4yYy0wLjQgMC0wLjkgMC0xLjMtMC4yLTAuNS0wLjEtMC42LTAuNS0wLjUtMXMwLjUtMC44IDAuOS0wLjdoMC4xYzAgMC4yIDEuNCAwLjQgMS40IDAuNHptMy41IDMuOSAyLjMtOC40LTEuMy0wLjQtMi4zIDguNCAxLjMgMC40eiIvPgo8L3N2Zz4K\\\"));background-size:200px 150px;background-position:top left}@media all and (-ms-high-contrast: none){:host .watermark__background-img{background-image:none}}\\n\";\n          shadow.appendChild(style);\n          shadow.appendChild(_this.__anchor);\n          shadow.appendChild(img);\n          if (!document.getElementById(\"igniteui-watermark-themes\")) {\n            _this.__themes = document.createElement(\"style\");\n            _this.__themes.setAttribute(\"id\", \"igniteui-watermark-themes\");\n            _this.__themes.textContent = \".dark-theme {\\n    --igx-watermark-border-color: #72da67;\\n    --igx-watermark-color: #fff;\\n    --igx-watermark-link-background: #72da67;\\n    --igx-watermark-background-image:  url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxODQiIGhlaWdodD0iMTA0IiB2aWV3Qm94PSIwIDAgMTg0IDEwNCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgICAgb3BhY2l0eTogMC4wNTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9InRyaWFsIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xNi43MiwxMC4xNDhMMTAuMyw4LjQzNGwxLjgwNi02LjcyM0w3LjA5LDAuMzY5LDUuMjgzLDcuMDkyLDIuMzA4LDYuMywxLjE1LDEwLjYwOWwyLjk3NSwwLjhMMS4yMzUsMjIuMTYxcS0xLjM0NSw1LjAwNy0uMzY3LDcuMjA3VDUuOCwzMi42MjNhMjguMTYzLDI4LjE2MywwLDAsMCw0LjkuNjY0bDAuODUxLTQuMS0zLjg1LS44OHEtMS43MjEtLjQ2LTEuODg5LTEuNWExMS4xODgsMTEuMTg4LDAsMCwxLC41OTEtMy44NjdsMi43NDEtMTAuMiw2LjQxNiwxLjcxNFpNMTkuNywzNS43OWw0LjM0OC0xNi4xODEsMS4xMzUtLjE0NGEzMy44NzEsMzMuODcxLDAsMCwxLDcuMzgyLS4yMTRMMzMuOTE5LDE0LjJhMjIuOTQxLDIyLjk0MSwwLDAsMC04Ljc4OCwxLjE4TDI1Ljg3OCwxMi42bC01LjAyMS0xLjM0MkwxNC42MjksMzQuNDM2Wm0xNi43ODMsNC40ODUsNi4yMjktMjMuMTgyTDM3LjY0LDE1LjczOCwzMS40MTIsMzguOTIxWm03LjI4Ny0yNy4xMjNMNDUuMiw3LjgyLDQwLjEzMiw2LjQ2NiwzOC43LDExLjhabTIwLjA0MiwxMXEtMS4zOTEtMi4zMzQtNS42NDUtMy40NzFhNDEuOTUxLDQxLjk1MSwwLDAsMC05LjY0NS0xLjI4NWwtMC43NzMsMy42MiwxLjUxMywwLjNxNC41NjMsMC44MjIsNy41MzgsMS42MTdhMy41NjIsMy41NjIsMCwwLDEsMi4yLDEuMzgyLDMuNTI4LDMuNTI4LDAsMCwxLC4xMTYsMi44MTRMNTguNjU4LDMwLjgsNTIuNTI0LDI5LjdhMTAuNjQ1LDEwLjY0NSwwLDAsMC02LjMuMzU0cS0yLjMwNiwxLjA3NC0zLjI1Myw0LjYtMS45ODEsNy4zNzIsNC45NDYsOS4yMjNhMTguMzU3LDE4LjM1NywwLDAsMCw3Ljk0Ni4yODUsMTAuMTM0LDEwLjEzNCwwLDAsMCw1LjcyMiwzLjM2OEw2Mi43Niw0My43MmEyLjY2NSwyLjY2NSwwLDAsMS0xLjM0My0xLjAzLDIuMjczLDIuMjczLDAsMCwxLS4xMy0xLjY1bDIuODQtMTAuNTcxUTY1LjIsMjYuNDgyLDYzLjgwOCwyNC4xNDdaTTU3LjcsMzQuMzY3bC0xLjY1Nyw2LjE2Ni0wLjkxMi4wNTVBMTguNjM1LDE4LjYzNSwwLDAsMSw1MCw0MC4wMTNxLTIuODM2LS43NTgtMS45NzYtMy45NTdhMy4yMzcsMy4yMzcsMCwwLDEsNC4xNDItMi42MlpNNzEuNTMyLDQ5LjY0Mmw4LjgyLTMyLjgyNi01LjA2OC0xLjM1NC04LjgyLDMyLjgyNloiLz4KPC9zdmc+Cg==');\\n}\\n\\n.light-theme {\\n    --igx-watermark-border-color: #e41c77;\\n    --igx-watermark-color: #fff;\\n    --igx-watermark-link-background: #e41c77;\\n    --igx-watermark-background-image:  url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjYiIGhlaWdodD0iMjA5IiB2aWV3Qm94PSIwIDAgMzY2IDIwOSI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbC1ydWxlOiBldmVub2RkOwogICAgICAgIG9wYWNpdHk6IDAuMDU7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoIGlkPSJ0cmlhbCIgY2xhc3M9ImNscy0xIiBkPSJNMzMuMzUsMjAuM2wtMTIuOC0zLjQyOSwzLjYtMTMuNDQ2TDE0LjE0MSwwLjczOGwtMy42LDEzLjQ0Nkw0LjYsMTIuNTk0LDIuMjkzLDIxLjIxOGw1LjkzNSwxLjU5TDIuNDYzLDQ0LjMyMVEtMC4yMiw1NC4zMzYsMS43MzIsNTguNzM1dDkuODM0LDYuNTExYTU2LjA2MSw1Ni4wNjEsMCwwLDAsOS43ODEsMS4zMjlsMS43LTguMTkyLTcuNjc4LTEuNzU5cS0zLjQzMi0uOTE5LTMuNzY5LTN0MS4xNzgtNy43MzVsNS40NjYtMjAuNCwxMi44LDMuNDI5Wk0zOS4yODUsNzEuNThsOC42NzEtMzIuMzYyLDIuMjY0LS4yODhBNjcuMzg4LDY3LjM4OCwwLDAsMSw2NC45NDUsMzguNWwyLjcwOC0xMC4xMDdhNDUuNjQyLDQ1LjY0MiwwLDAsMC0xNy41MjgsMi4zNmwxLjQ5MS01LjU2NEw0MS42LDIyLjUwNywyOS4xNzgsNjguODcyWk03Mi43Niw4MC41NUw4NS4xODMsMzQuMTg1LDc1LjA3NiwzMS40NzcsNjIuNjUyLDc3Ljg0MVpNODcuMjk1LDI2LjNsMi44NTctMTAuNjY0TDgwLjA0NSwxMi45MzEsNzcuMTg4LDIzLjU5NVptMzkuOTc0LDIxLjk5MXEtMi43NzUtNC42NjgtMTEuMjU5LTYuOTQzYTgzLjQ1OCw4My40NTgsMCwwLDAtMTkuMjM4LTIuNTcxbC0xLjU0Miw3LjI0LDMuMDE3LDAuNjFxOS4xLDEuNjQ0LDE1LjAzNSwzLjIzNGE3LjEsNy4xLDAsMCwxLDQuMzc4LDIuNzYzcTEuMjI0LDEuOTE5LjIzMiw1LjYyOEwxMTcsNjEuNTkzbC0xMi4yMzUtMi4xODVROTYuOCw1Ny45NzEsOTIuMiw2MC4xMTZUODUuNzEsNjkuMzFxLTMuOTUxLDE0Ljc0NCw5Ljg2NiwxOC40NDZhMzYuNTEzLDM2LjUxMywwLDAsMCwxNS44NDguNTY5cTMuNDM4LDQuNiwxMS40MTQsNi43MzZsMi4zNC03LjYyMkE1LjMxOSw1LjMxOSwwLDAsMSwxMjIuNSw4NS4zOGE0LjU2LDQuNTYsMCwwLDEtLjI1OS0zLjNsNS42NjUtMjEuMTQyUTEzMC4wNDQsNTIuOTY0LDEyNy4yNjksNDguMjk1Wk0xMTUuMDg0LDY4LjczM2wtMy4zMDUsMTIuMzMzLTEuODE4LjEwOWEzNy4wNywzNy4wNywwLDAsMS0xMC4yMjctMS4xNXEtNS42NTctMS41MTYtMy45NDItNy45MTR0OC4yNjItNS4yNFptMjcuNTkyLDMwLjU1LDE3LjU5MS02NS42NTJMMTUwLjE2LDMwLjkyMywxMzIuNTY4LDk2LjU3NVoiLz4KPC9zdmc+Cg==');\\n}\";\n          }\n          return _this;\n        }\n        _createClass(TrialWatermark, [{\n          key: \"connectedCallback\",\n          value: function connectedCallback() {\n            this.__anchor.textContent = this.hasAttribute(\"text\") ? this.getAttribute(\"text\") : \"Trial version of Ignite UI for Angular\";\n            var anchorImg = document.createElement(\"img\");\n            anchorImg.setAttribute(\"src\", \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNyA3aC00djJoNGMxLjY1IDAgMyAxLjM1IDMgM3MtMS4zNSAzLTMgM2gtNHYyaDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6bS02IDhIN2MtMS42NSAwLTMtMS4zNS0zLTNzMS4zNS0zIDMtM2g0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0yem0tMy00aDh2Mkg4eiIvPjwvc3ZnPg==\");\n            this.__anchor.prepend(anchorImg);\n            if (this.__themes && this.hasAttribute(\"theming\") && this.getAttribute(\"theming\")) {\n              document.head.appendChild(this.__themes);\n            }\n          }\n        }]);\n        return TrialWatermark;\n      }( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n      customElements.define(\"igc-trial-watermark\", TrialWatermark);\n    })();\n  }\n}\n\n/**\n * @hidden\n */\nclass TwoWayMap {\n  constructor() {\n    this.map = new Map();\n    this.reversedMap = new Map();\n  }\n  set(key, value) {\n    this.map.set(key, value);\n    this.reversedMap.set(value, key);\n  }\n  get(key) {\n    return this.map.get(key);\n  }\n  getByValue(value) {\n    return this.reversedMap.get(value);\n  }\n  delete(key) {\n    const value = this.map.get(key);\n    this.map.delete(key);\n    this.reversedMap.delete(value);\n  }\n  has(key) {\n    return this.map.has(key);\n  }\n  hasValue(value) {\n    return this.reversedMap.has(value);\n  }\n}\n\n/**\n * @hidden\n */\nclass IgcDockManagerService {\n  constructor(dockManager) {\n    this.dockManager = dockManager;\n    this.unpinnedLocationMap = new Map();\n    this.keyboardDockPane = null;\n  }\n  getContent(contentId) {\n    return this.clientContentPanesMap.get(contentId);\n  }\n  generateUuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n      const r = Math.random() * 16 | 0;\n      const v = c === 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  }\n  populatePaneParents(splitPane, isRoot, isInDocHost) {\n    if (!splitPane) {\n      return;\n    }\n    if (!splitPane.id) {\n      splitPane.id = this.generateUuid();\n    }\n    for (const pane of splitPane.panes) {\n      this.paneParentMap.set(pane, splitPane);\n      if (!pane.id) {\n        pane.id = this.generateUuid();\n      }\n      if (pane.type === IgcDockManagerPaneType.contentPane && !pane.hidden) {\n        this.clientContentPanesMap.set(pane.contentId, pane);\n        if (isInDocHost) {\n          this.visibleDocuments.push(pane);\n        } else {\n          this.visibleContentPanes.push(pane);\n        }\n      } else if (pane.type === IgcDockManagerPaneType.splitPane) {\n        this.populatePaneParents(pane, isRoot, isInDocHost);\n      } else if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\n        for (const cp of pane.panes) {\n          if (!cp.id) {\n            cp.id = this.generateUuid();\n          }\n          this.paneParentMap.set(cp, pane);\n          if (!cp.hidden) {\n            this.clientContentPanesMap.set(cp.contentId, cp);\n            if (isInDocHost) {\n              this.visibleDocuments.push(cp);\n            } else {\n              this.visibleContentPanes.push(cp);\n            }\n          }\n        }\n      } else if (pane.type === IgcDockManagerPaneType.documentHost) {\n        if (isRoot) {\n          this.documentHosts.push(pane);\n        }\n        this.paneParentMap.set(pane.rootPane, pane);\n        this.populatePaneParents(pane.rootPane, isRoot, true);\n      }\n    }\n  }\n  populatePinLocations(splitPane) {\n    if (!splitPane) {\n      return;\n    }\n    for (const pane of splitPane.panes) {\n      if (pane.type === IgcDockManagerPaneType.splitPane) {\n        this.populatePinLocations(pane);\n      } else if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\n        for (const cp of pane.panes) {\n          this.addContentPanePinLocation(cp);\n          this.paneParentMap.set(cp, pane);\n        }\n      } else if (pane.type === IgcDockManagerPaneType.contentPane) {\n        this.addContentPanePinLocation(pane);\n      }\n    }\n  }\n  resolvePaneUnpinLocation(pane) {\n    let unpinnedLocation;\n    if (pane.unpinnedLocation) {\n      unpinnedLocation = pane.unpinnedLocation;\n    } else {\n      const documentHost = this.findClosestDocumentHost(pane);\n      // TODO Implement an auto-detect algorithm for unpinned location when there is no document host\n      unpinnedLocation = documentHost ? this.findPaneUnpinLocation(pane, documentHost) : IgcUnpinnedLocation.left;\n    }\n    return unpinnedLocation;\n  }\n  addContentPanePinLocation(pane) {\n    if (pane.isPinned === false) {\n      const unpinnedLocation = this.resolvePaneUnpinLocation(pane);\n      this.unpinnedLocationMap.set(pane, unpinnedLocation);\n    }\n  }\n  findClosestDocumentHost(pane) {\n    const panePath = this.getPanePath(pane);\n    let maxCommonParents = -1;\n    let closestDocHost;\n    for (const docHost of this.documentHosts) {\n      const docHostPath = this.getPanePath(docHost);\n      let i;\n      for (i = 0; i < panePath.length; i++) {\n        const paneParent = panePath[i];\n        const docHostParent = docHostPath[i];\n        if (paneParent !== docHostParent) {\n          break;\n        }\n      }\n      if (i > maxCommonParents) {\n        maxCommonParents = i;\n        closestDocHost = docHost;\n      }\n    }\n    return closestDocHost;\n  }\n  findPaneUnpinLocation(pane, docHost) {\n    const panePath = this.getPanePath(pane);\n    const docHostPath = this.getPanePath(docHost);\n    let commonParentIndex = -1;\n    for (let i = 0; i < panePath.length; i++) {\n      const paneParent = panePath[i];\n      const docHostParent = docHostPath[i];\n      if (paneParent === docHostParent) {\n        commonParentIndex = i;\n      } else {\n        break;\n      }\n    }\n    if (commonParentIndex >= 0) {\n      const commonParent = panePath[commonParentIndex];\n      const paneIndex = commonParent.panes.indexOf(panePath[commonParentIndex + 1]);\n      const docHostIndex = commonParent.panes.indexOf(docHostPath[commonParentIndex + 1]);\n      return commonParent.orientation === IgcSplitPaneOrientation.horizontal ? paneIndex < docHostIndex ? IgcUnpinnedLocation.left : IgcUnpinnedLocation.right : paneIndex < docHostIndex ? IgcUnpinnedLocation.top : IgcUnpinnedLocation.bottom;\n    }\n    return IgcUnpinnedLocation.left;\n  }\n  removePane(pane) {\n    if (pane === this.dockManager.maximizedPane) {\n      this.dockManager.maximizedPane = null;\n    }\n    const parent = this.paneParentMap.get(pane);\n    if (!parent) {\n      if (this.dockManager.layout.floatingPanes) {\n        const floatingIndex = this.dockManager.layout.floatingPanes.indexOf(pane);\n        if (floatingIndex > -1) {\n          this.dockManager.layout.floatingPanes.splice(floatingIndex, 1);\n        }\n      }\n      return;\n    }\n    if (parent.type === IgcDockManagerPaneType.splitPane || parent.type === IgcDockManagerPaneType.tabGroupPane) {\n      const index = parent.panes.indexOf(pane);\n      parent.panes.splice(index, 1);\n      if (parent.panes.length === 0) {\n        if (parent.allowEmpty) {\n          const rootParent = this.getRootParent(pane);\n          if (this.isFloatingPane(rootParent)) {\n            this.removeFloatingPaneIfEmpty(rootParent);\n          }\n        } else {\n          this.removePane(parent);\n        }\n      } else if (parent.type === IgcDockManagerPaneType.splitPane) {\n        const rootParent = this.getRootParent(parent);\n        if (this.isFloatingPane(rootParent)) {\n          this.removeFloatingPaneIfEmpty(parent);\n        }\n      }\n    } else if (parent.type === IgcDockManagerPaneType.documentHost) {\n      parent.rootPane = null;\n      this.removePane(parent);\n    }\n  }\n  removeFloatingPaneIfEmpty(pane) {\n    const childPanes = this.getChildContentPanes(pane);\n    if (childPanes.length === 0) {\n      this.removePane(pane);\n    }\n  }\n  isFloatingPane(pane) {\n    if (!this.dockManager.layout.floatingPanes) {\n      return false;\n    }\n    return this.dockManager.layout.floatingPanes.indexOf(pane) > -1;\n  }\n  addFloatingPane(content, location, width, height) {\n    const floatingPane = {\n      type: IgcDockManagerPaneType.splitPane,\n      orientation: IgcSplitPaneOrientation.vertical,\n      panes: [content]\n    };\n    floatingPane.floatingLocation = location;\n    floatingPane.floatingWidth = width;\n    floatingPane.floatingHeight = height;\n    if (!this.dockManager.layout.floatingPanes) {\n      this.dockManager.layout.floatingPanes = [];\n    }\n    this.dockManager.layout.floatingPanes.push(floatingPane);\n    this.dockManager.draggedPane = floatingPane;\n    this.initialFloatingPaneLocation = floatingPane.floatingLocation;\n    this.forceDragPane = floatingPane;\n  }\n  getChildContentPanes(pane) {\n    const panes = [];\n    this.getChildContentPanesRecursive(pane, panes);\n    return panes;\n  }\n  getChildContentPanesRecursive(pane, children) {\n    for (const child of pane.panes) {\n      if (child.type === IgcDockManagerPaneType.contentPane) {\n        children.push(child);\n      } else if (child.type === IgcDockManagerPaneType.tabGroupPane || child.type === IgcDockManagerPaneType.splitPane) {\n        this.getChildContentPanesRecursive(child, children);\n      } else if (child.type === IgcDockManagerPaneType.documentHost) {\n        this.getChildContentPanesRecursive(child.rootPane, children);\n      }\n    }\n  }\n  getChildDocHostRecursive(pane) {\n    for (const child of pane.panes) {\n      if (child.type === IgcDockManagerPaneType.documentHost) {\n        return child;\n      } else if (child.type === IgcDockManagerPaneType.splitPane) {\n        const result = this.getChildDocHostRecursive(child);\n        if (result) {\n          return result;\n        }\n      }\n    }\n    return null;\n  }\n  getVisibleContentPanes(parent) {\n    return parent.panes.filter(t => this.isContentPaneVisible(t));\n  }\n  getPaneToDock(draggedPane) {\n    return draggedPane.type === IgcDockManagerPaneType.contentPane ? draggedPane : draggedPane.type === IgcDockManagerPaneType.tabGroupPane || draggedPane.type === IgcDockManagerPaneType.splitPane ? draggedPane.panes.length === 1 ? draggedPane.panes[0] : draggedPane : draggedPane;\n  }\n  removeDocumentHost(pane) {\n    const docHost = this.getChildDocHostRecursive(pane);\n    if (docHost) {\n      const parent = this.getParent(docHost);\n      const index = parent.panes.indexOf(docHost);\n      parent.panes[index] = docHost.rootPane.panes.length === 1 ? docHost.rootPane.panes[0] : docHost.rootPane;\n    }\n  }\n  dockToCenter(targetPane, draggedPane) {\n    let targetContainer;\n    if (targetPane.type === IgcDockManagerPaneType.tabGroupPane) {\n      targetContainer = targetPane;\n    } else if (targetPane.type === IgcDockManagerPaneType.contentPane) {\n      targetContainer = {\n        type: IgcDockManagerPaneType.tabGroupPane,\n        size: targetPane.size,\n        panes: [targetPane]\n      };\n      const targetParent = this.paneParentMap.get(targetPane);\n      const index = targetParent.panes.indexOf(targetPane);\n      targetParent.panes[index] = targetContainer;\n    } else if (targetPane.type === IgcDockManagerPaneType.splitPane) {\n      targetContainer = targetPane;\n    } else if (targetPane.type === IgcDockManagerPaneType.documentHost) {\n      targetContainer = targetPane.rootPane;\n    }\n    if (targetContainer.type === IgcDockManagerPaneType.tabGroupPane) {\n      const panesToDock = draggedPane.type === IgcDockManagerPaneType.contentPane ? [draggedPane] : this.getChildContentPanes(draggedPane);\n      targetContainer.panes.push(...panesToDock);\n    } else if (targetContainer.type === IgcDockManagerPaneType.splitPane) {\n      let paneToDock = draggedPane;\n      if ((draggedPane === null || draggedPane === void 0 ? void 0 : draggedPane.type) === IgcDockManagerPaneType.splitPane && this.dockManager.documentOnlyDrag) {\n        this.removeDocumentHost(draggedPane);\n        const childPanes = this.getChildContentPanes(draggedPane);\n        paneToDock = childPanes.length === 1 ? childPanes[0] : paneToDock;\n      }\n      targetContainer.panes.push(paneToDock);\n    }\n  }\n  dockToEdge(targetPane, position) {\n    const targetParent = this.getParent(targetPane);\n    if (!targetParent) {\n      return this.dockToCenter(targetPane, this.dockManager.draggedPane);\n    }\n    const paneIndex = targetParent.panes.indexOf(targetPane);\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(position);\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(targetParent);\n    const isRTL = this.dockManager.proximityDock ? this.dockManager.direction === 'rtl' : this.dockingIndicator && this.dockingIndicator.direction === 'rtl';\n    let draggedPane = this.dockManager.draggedPane;\n    if ((draggedPane === null || draggedPane === void 0 ? void 0 : draggedPane.type) === IgcDockManagerPaneType.splitPane && this.dockManager.documentOnlyDrag && !this.dockManager.dropTargetPaneInfo.floatingPaneWithoutDocHost) {\n      this.removeDocumentHost(draggedPane);\n    } else if ((draggedPane === null || draggedPane === void 0 ? void 0 : draggedPane.type) === IgcDockManagerPaneType.contentPane && this.dockManager.documentOnlyDrag && this.dockManager.dropTargetPaneInfo.floatingPaneWithoutDocHost) {\n      draggedPane = {\n        type: IgcDockManagerPaneType.documentHost,\n        rootPane: {\n          type: IgcDockManagerPaneType.splitPane,\n          orientation: IgcSplitPaneOrientation.horizontal,\n          panes: [draggedPane]\n        }\n      };\n    }\n    const paneToDock = draggedPane ? this.getPaneToDock(draggedPane) : this.dockManager.activePane;\n    if (isIndicatorVertical && isSplitPaneVertical || !isIndicatorVertical && !isSplitPaneVertical) {\n      const insertIndex = Utils.isDockingIndicatorBefore(position) && !isRTL || Utils.isDockingIndicatorBeforeRTL(position) && isRTL ? paneIndex : paneIndex + 1;\n      targetParent.panes.splice(insertIndex, 0, paneToDock);\n    } else {\n      const newSplitPane = {\n        type: IgcDockManagerPaneType.splitPane,\n        orientation: isSplitPaneVertical ? IgcSplitPaneOrientation.horizontal : IgcSplitPaneOrientation.vertical,\n        panes: Utils.isDockingIndicatorBefore(position) && !isRTL || Utils.isDockingIndicatorBeforeRTL(position) && isRTL ? [paneToDock, targetPane] : [targetPane, paneToDock],\n        size: targetPane.size\n      };\n      targetPane.size = undefined;\n      paneToDock.size = undefined;\n      targetParent.panes[paneIndex] = newSplitPane;\n    }\n  }\n  updateLayout() {\n    this.dockManager.layout = Object.assign({}, this.dockManager.layout);\n  }\n  hasMaximizedProp(pane) {\n    return 'isMaximized' in pane;\n  }\n  getLastMaximizedPane() {\n    const keys = Array.from(this.paneParentMap.keys());\n    const maximizedPane = keys.filter(this.hasMaximizedProp).filter(i => i.isMaximized && i.type !== IgcDockManagerPaneType.splitPane)[0];\n    return maximizedPane;\n  }\n  processLayout() {\n    this.paneParentMap = new Map();\n    this.unpinnedLocationMap = new Map();\n    this.clientContentPanesMap = new Map();\n    this.documentHosts = [];\n    this.visibleContentPanes = [];\n    this.visibleDocuments = [];\n    const layout = this.dockManager.layout;\n    if (layout) {\n      this.populatePaneParents(layout.rootPane, true, false);\n      if (layout.floatingPanes) {\n        const indicesToDelete = new Map(this.dockManager.floatingPaneZIndicesMap);\n        for (let i = 0; i < layout.floatingPanes.length; i++) {\n          const pane = layout.floatingPanes[i];\n          this.populatePaneParents(pane, false, false);\n          if (this.dockManager.floatingPaneZIndicesMap.has(pane)) {\n            indicesToDelete.delete(pane);\n          } else {\n            this.dockManager.floatingPaneZIndicesMap.set(pane, i);\n          }\n        }\n        for (const key of indicesToDelete.keys()) {\n          this.dockManager.floatingPaneZIndicesMap.delete(key);\n        }\n      }\n      this.populatePinLocations(layout.rootPane);\n      if (this.dockManager.flyoutPane && !this.unpinnedLocationMap.has(this.dockManager.flyoutPane)) {\n        this.dockManager.flyoutPane = null;\n      }\n    }\n  }\n  getParent(pane) {\n    return this.paneParentMap.get(pane);\n  }\n  getRootParent(pane) {\n    return this.getPanePath(pane)[0];\n  }\n  getPanePath(pane) {\n    const path = [];\n    let currentPane = pane;\n    while (currentPane) {\n      path.splice(0, 0, currentPane);\n      currentPane = this.paneParentMap.get(currentPane);\n    }\n    return path;\n  }\n  getDocHostParent(pane) {\n    let parent = pane;\n    do {\n      parent = this.paneParentMap.get(parent);\n    } while (parent && parent.type !== IgcDockManagerPaneType.documentHost);\n    return parent;\n  }\n  resizeFlyoutPane(delta) {\n    const pane = this.dockManager.flyoutPane;\n    const location = this.unpinnedLocationMap.get(pane);\n    const paneSize = pane.unpinnedSize ? pane.unpinnedSize : IGC_DEFAULT_UNPIN_PANE_SIZE;\n    const newSize = location === IgcUnpinnedLocation.left || location === IgcUnpinnedLocation.top ? paneSize + delta : paneSize - delta;\n    pane.unpinnedSize = newSize;\n    this.updateLayout();\n  }\n  resizePane(pane, deltaPercentage) {\n    const parentPane = this.getParent(pane);\n    const childPanes = this.getSplitPaneVisibleChildren(parentPane);\n    const paneIndex = childPanes.indexOf(pane);\n    const paneSizes = childPanes.map(p => p.size || p.size === 0 ? p.size : IGC_DEFAULT_PANE_SIZE);\n    const sizeSum = paneSizes.reduce((p, c) => c + p, 0);\n    const calcDelta = deltaPercentage * sizeSum;\n    childPanes[paneIndex - 1].size = paneSizes[paneIndex - 1] + calcDelta;\n    childPanes[paneIndex].size = paneSizes[paneIndex] - calcDelta;\n    this.updateLayout();\n  }\n  togglePin(pane) {\n    let pinBehavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : IgcPinBehavior.allPanes;\n    const newValue = !this.getActualIsPinned(pane);\n    const parent = this.paneParentMap.get(pane);\n    const isTabGroup = parent.type === IgcDockManagerPaneType.tabGroupPane;\n    const panes = isTabGroup && pinBehavior === IgcPinBehavior.allPanes ? parent.panes.filter(p => p.allowPinning !== false) : [pane];\n    const isTabGroupPinning = isTabGroup && pinBehavior === IgcPinBehavior.selectedPane;\n    if (isTabGroupPinning && parent.selectedIndex >= parent.panes.filter(p => p.isPinned).length) {\n      parent.selectedIndex = 0;\n    }\n    const location = this.resolvePaneUnpinLocation(pane);\n    const args = {\n      sourcePane: pane,\n      panes,\n      newValue,\n      location\n    };\n    const event = this.dockManager.panePinnedToggle.emit(args);\n    if (!event.defaultPrevented) {\n      for (const cp of args.panes) {\n        cp.isPinned = newValue;\n      }\n      if (this.dockManager.maximizedPane) {\n        const targetPanes = parent && parent.type === IgcDockManagerPaneType.tabGroupPane && this.dockManager.maximizedPane === parent ? [parent] : args.panes;\n        this.dockManager.maximizedPane = null;\n        for (const cp of targetPanes.filter(this.hasMaximizedProp)) {\n          cp.isMaximized = false;\n        }\n        newValue ? this.dockManager.flyoutPane = null : this.flyoutPane(pane);\n      } else if (newValue) {\n        this.dockManager.flyoutPane = null;\n      }\n      this.updateLayout();\n    }\n  }\n  closePane(pane) {\n    let paneToRemove = pane;\n    if (pane.type === IgcDockManagerPaneType.contentPane && pane !== this.dockManager.flyoutPane) {\n      const parent = this.paneParentMap.get(pane);\n      if (parent.type === IgcDockManagerPaneType.tabGroupPane) {\n        paneToRemove = parent;\n      }\n    }\n    const paneRemoved = paneToRemove.type === IgcDockManagerPaneType.tabGroupPane ? this.removeAllowedPanes(pane, paneToRemove) : this.emitPaneClose(pane, [paneToRemove]);\n    if ((paneRemoved || pane.hidden) && pane === this.dockManager.flyoutPane) {\n      this.dockManager.flyoutPane = null;\n    }\n    this.updateLayout();\n  }\n  closeFloatingPane(pane) {\n    this.removeAllowedPanes(pane, pane);\n    this.updateLayout();\n  }\n  emitPaneClose(sourcePane, panes) {\n    let paneRemoved = false;\n    const args = {\n      sourcePane,\n      panes\n    };\n    const event = this.dockManager.paneClose.emit(args);\n    if (!event.defaultPrevented) {\n      for (const pane of args.panes) {\n        this.removePane(pane);\n        paneRemoved = true;\n      }\n    }\n    return paneRemoved;\n  }\n  removeAllowedPanes(sourcePane, pane) {\n    let paneRemoved = false;\n    const panes = this.getChildContentPanes(pane).filter(p => this.getActualAllowClose(p)).filter(p => pane.type === IgcDockManagerPaneType.tabGroupPane && sourcePane.type === IgcDockManagerPaneType.contentPane ? p.isPinned !== false : true);\n    paneRemoved = this.emitPaneClose(sourcePane, panes);\n    return paneRemoved;\n  }\n  flyoutPane(pane) {\n    this.dockManager.flyoutPane = this.dockManager.flyoutPane === pane ? null : pane;\n  }\n  maximizePane(pane) {\n    const parent = this.getParent(pane);\n    const targetPane = parent && parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ? parent : pane;\n    this.dockManager.maximizedPane = this.dockManager.maximizedPane === targetPane ? null : targetPane;\n    if (this.dockManager.maximizedPane) {\n      targetPane.isMaximized = true;\n    } else {\n      targetPane.isMaximized = false;\n    }\n    if (targetPane.type == IgcDockManagerPaneType.contentPane) return;\n    for (const cp of this.getChildContentPanes(targetPane).filter(this.hasMaximizedProp)) {\n      cp.isMaximized = targetPane.isMaximized;\n    }\n  }\n  moveFloatingPane(pane, location) {\n    pane.floatingLocation = location;\n    this.updateLayout();\n  }\n  resizeFloatingPaneStart(pane, resizerLocation) {\n    var _a, _b, _c;\n    const resizeArgs = {\n      sourcePane: pane,\n      resizerLocation\n    };\n    const resizeStartEvent = this.dockManager.floatingPaneResizeStart.emit(resizeArgs);\n    if (resizeStartEvent.defaultPrevented) {\n      return false;\n    }\n    this.initialFloatingPaneLocation = (_a = pane.floatingLocation) !== null && _a !== void 0 ? _a : {\n      x: 0,\n      y: 0\n    };\n    this.initialFloatingPaneWidth = (_b = pane.floatingWidth) !== null && _b !== void 0 ? _b : IGC_DEFAULT_PANE_SIZE;\n    this.initialFloatingPaneHeight = (_c = pane.floatingHeight) !== null && _c !== void 0 ? _c : IGC_DEFAULT_PANE_SIZE;\n    return true;\n  }\n  resizeFloatingPane(pane, args) {\n    const currX = pane.floatingLocation ? pane.floatingLocation.x : 0;\n    const currY = pane.floatingLocation ? pane.floatingLocation.y : 0;\n    const currW = pane.floatingWidth ? pane.floatingWidth : IGC_DEFAULT_PANE_SIZE;\n    const currH = pane.floatingHeight ? pane.floatingHeight : IGC_DEFAULT_PANE_SIZE;\n    const minW = IGC_DEFAULT_PANE_SIZE;\n    const minH = IGC_DEFAULT_PANE_SIZE;\n    const initialWidth = this.initialFloatingPaneWidth;\n    const initialHeight = this.initialFloatingPaneHeight;\n    const initialLocation = this.initialFloatingPaneLocation;\n    let totalOffsetY = args.dragMoveArgs.totalOffsetY;\n    let totalOffsetX = args.dragMoveArgs.totalOffsetX;\n    let newX = currX;\n    let newY = currY;\n    let newWidth = currW;\n    let newHeight = currH;\n    const maxHeight = document.documentElement.clientHeight;\n    const maxWidth = document.documentElement.clientWidth;\n    switch (args.resizerLocation) {\n      case IgcResizerLocation.top:\n      case IgcResizerLocation.topLeft:\n      case IgcResizerLocation.topRight:\n        newHeight = initialHeight - totalOffsetY;\n        if (newHeight < minH) {\n          totalOffsetY = initialHeight - minH;\n          newHeight = minH;\n        }\n        newY = initialLocation.y + totalOffsetY;\n        if (newY < 0) {\n          newHeight += newY;\n          newY = 0;\n        } else if (newY >= maxHeight - 1) {\n          newY = maxHeight - 1;\n        }\n        break;\n      case IgcResizerLocation.bottom:\n      case IgcResizerLocation.bottomLeft:\n      case IgcResizerLocation.bottomRight:\n        newHeight = initialHeight + totalOffsetY;\n        if (newHeight < minH) {\n          newHeight = minH;\n        }\n        if (newY + newHeight > maxHeight) {\n          newHeight = maxHeight - newY;\n        }\n        break;\n    }\n    switch (args.resizerLocation) {\n      case IgcResizerLocation.left:\n      case IgcResizerLocation.topLeft:\n      case IgcResizerLocation.bottomLeft:\n        newWidth = initialWidth - totalOffsetX;\n        if (newWidth < minW) {\n          totalOffsetX = initialWidth - minW;\n          newWidth = minW;\n        }\n        newX = initialLocation.x + totalOffsetX;\n        if (newX < 0) {\n          newWidth += newX;\n          newX = 0;\n        } else if (newX >= maxWidth) {\n          newX = maxWidth;\n        }\n        break;\n      case IgcResizerLocation.right:\n      case IgcResizerLocation.topRight:\n      case IgcResizerLocation.bottomRight:\n        newWidth = initialWidth + totalOffsetX;\n        if (newWidth < minW) {\n          newWidth = minW;\n        }\n        if (newX + newWidth > maxWidth) {\n          newWidth = maxWidth - newX;\n        }\n        break;\n    }\n    if (currX === newX && currY === newY && currW === newWidth && currH === newHeight) {\n      return;\n    }\n    const resizingArgs = {\n      sourcePane: pane,\n      oldWidth: currW,\n      newWidth,\n      oldHeight: currH,\n      newHeight,\n      oldLocation: {\n        x: currX,\n        y: currY\n      },\n      newLocation: {\n        x: newX,\n        y: newY\n      },\n      resizerLocation: args.resizerLocation\n    };\n    const resizingEvent = this.dockManager.floatingPaneResizeMove.emit(resizingArgs);\n    if (resizingEvent.defaultPrevented) {\n      args.dragMoveArgs.cancel = true;\n      return;\n    } else {\n      pane.floatingLocation = resizingArgs.newLocation;\n      pane.floatingWidth = resizingArgs.newWidth;\n      pane.floatingHeight = resizingArgs.newHeight;\n      this.updateLayout();\n    }\n  }\n  resizeFloatingPaneEnd(pane, resizerLocation) {\n    this.dockManager.floatingPaneResizeEnd.emit({\n      sourcePane: pane,\n      resizerLocation\n    });\n    this.dockManager.layoutChange.emit();\n  }\n  floatPane(pane, x, y, width, height) {\n    let panesToRemove = [pane];\n    let paneToAdd = pane;\n    const parent = this.paneParentMap.get(pane);\n    if (pane !== this.dockManager.flyoutPane && parent.type === IgcDockManagerPaneType.tabGroupPane) {\n      if (parent.allowEmpty) {\n        const panes = [...parent.panes];\n        panesToRemove = panes;\n        paneToAdd = parent.panes.length === 1 ? pane : {\n          type: IgcDockManagerPaneType.tabGroupPane,\n          panes,\n          selectedIndex: parent.selectedIndex\n        };\n      } else {\n        panesToRemove = [parent];\n        paneToAdd = parent;\n      }\n    }\n    panesToRemove.forEach(p => this.removePane(p));\n    this.addFloatingPane(paneToAdd, {\n      x,\n      y\n    }, width, height);\n    if (pane === this.dockManager.flyoutPane) {\n      pane.isPinned = true;\n      this.dockManager.flyoutPane = null;\n    }\n    this.updateLayout();\n  }\n  floatTab(pane, x, y, width, height) {\n    this.removePane(pane);\n    const isInDocHost = !!this.getDocHostParent(pane);\n    let content;\n    if (isInDocHost && pane.documentOnly) {\n      const docHost = {\n        type: IgcDockManagerPaneType.documentHost,\n        rootPane: {\n          type: IgcDockManagerPaneType.splitPane,\n          orientation: IgcSplitPaneOrientation.vertical,\n          panes: [pane]\n        }\n      };\n      content = docHost;\n    } else {\n      content = pane;\n    }\n    this.addFloatingPane(content, {\n      x,\n      y\n    }, width, height);\n    this.updateLayout();\n  }\n  hasFloatingPaneHeader(pane) {\n    const panes = this.getSplitPaneVisibleChildren(pane);\n    if (panes && panes.length) {\n      if (panes.length > 1) {\n        return true;\n      }\n      const childPane = panes[0];\n      if (childPane.type === IgcDockManagerPaneType.splitPane) {\n        return this.hasFloatingPaneHeader(childPane);\n      } else if (childPane.type === IgcDockManagerPaneType.documentHost) {\n        return true;\n      }\n    }\n    return false;\n  }\n  rootDockPane(position) {\n    const layout = this.dockManager.layout;\n    const rootPane = layout.rootPane;\n    const paneToDock = this.dockManager.draggedPane ? this.getPaneToDock(this.dockManager.draggedPane) : this.dockManager.activePane;\n    this.removePane(paneToDock);\n    const isIndicatorVertical = position === IgcDockingIndicatorPosition.top || position === IgcDockingIndicatorPosition.bottom;\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(rootPane);\n    const isRTL = this.dockingIndicator && this.dockingIndicator.direction === 'rtl';\n    if (isIndicatorVertical && isSplitPaneVertical || !isIndicatorVertical && !isSplitPaneVertical) {\n      const insertIndex = position === IgcDockingIndicatorPosition.left && !isRTL || position === IgcDockingIndicatorPosition.right && isRTL || position === IgcDockingIndicatorPosition.top ? 0 : rootPane.panes.length;\n      rootPane.panes.splice(insertIndex, 0, paneToDock);\n    } else {\n      const newRootPane = {\n        type: IgcDockManagerPaneType.splitPane,\n        orientation: isSplitPaneVertical ? IgcSplitPaneOrientation.horizontal : IgcSplitPaneOrientation.vertical,\n        panes: position === IgcDockingIndicatorPosition.left && !isRTL || position === IgcDockingIndicatorPosition.right && isRTL || position === IgcDockingIndicatorPosition.top ? [paneToDock, rootPane] : [rootPane, paneToDock]\n      };\n      rootPane.size = undefined;\n      paneToDock.size = undefined;\n      layout.rootPane = newRootPane;\n    }\n    this.updateLayout();\n  }\n  dockPane(position) {\n    var _a;\n    const draggedFloatingPane = (_a = this.dockManager.draggedPane) !== null && _a !== void 0 ? _a : this.dockManager.activePane;\n    const dropTargetPaneInfo = this.dockManager.dropTargetPaneInfo;\n    this.removePane(draggedFloatingPane);\n    const targetPane = this.dockManager.draggedPane ? dropTargetPaneInfo.pane : this.getParent(this.dockManager.activePane);\n    switch (position) {\n      case IgcDockingIndicatorPosition.center:\n        this.dockToCenter(targetPane, draggedFloatingPane);\n        break;\n      case IgcDockingIndicatorPosition.left:\n      case IgcDockingIndicatorPosition.top:\n      case IgcDockingIndicatorPosition.right:\n      case IgcDockingIndicatorPosition.bottom:\n        this.dockToEdge(targetPane, position);\n        break;\n      case IgcDockingIndicatorPosition.outerLeft:\n      case IgcDockingIndicatorPosition.outerTop:\n      case IgcDockingIndicatorPosition.outerRight:\n      case IgcDockingIndicatorPosition.outerBottom:\n        const docHost = this.dockManager.dropTargetPaneInfo.docHost;\n        this.dockToEdge(docHost, position);\n        break;\n    }\n    this.updateLayout();\n  }\n  getActualIsPinned(pane) {\n    return pane.isPinned !== false;\n  }\n  getActualAllowClose(pane) {\n    return pane.allowClose !== false;\n  }\n  isContentPaneVisible(pane) {\n    return pane.isPinned !== false && pane.hidden !== true;\n  }\n  getSplitPaneVisibleChildren(pane) {\n    return pane.panes.filter(p => {\n      if (p.type === IgcDockManagerPaneType.contentPane) {\n        return this.isContentPaneVisible(p);\n      } else if (p.type === IgcDockManagerPaneType.splitPane) {\n        return p.allowEmpty || this.getSplitPaneVisibleChildren(p).length;\n      } else if (p.type === IgcDockManagerPaneType.tabGroupPane) {\n        return p.allowEmpty || p.panes.some(cp => this.isContentPaneVisible(cp));\n      } else if (p.type === IgcDockManagerPaneType.documentHost) {\n        return p.rootPane.allowEmpty || this.getSplitPaneVisibleChildren(p.rootPane).length;\n      }\n    });\n  }\n  closeTabPane(pane) {\n    this.emitPaneClose(pane, [pane]);\n    this.updateLayout();\n  }\n  bringFloatingPaneOnTop(pane) {\n    const floatingPanes = this.dockManager.layout.floatingPanes;\n    const floatingPaneZIndicesMap = this.dockManager.floatingPaneZIndicesMap;\n    const oldZIndex = floatingPaneZIndicesMap.get(pane);\n    for (const p of floatingPanes) {\n      const zIndex = floatingPaneZIndicesMap.get(p);\n      if (zIndex < oldZIndex) {\n        continue;\n      } else if (zIndex > oldZIndex) {\n        floatingPaneZIndicesMap.set(p, zIndex - 1);\n      } else {\n        floatingPaneZIndicesMap.set(p, floatingPanes.length - 1);\n      }\n    }\n    this.dockManager.floatingPaneZIndicesMap = new Map(floatingPaneZIndicesMap);\n  }\n  createContextMenuItems(pane) {\n    const items = [];\n    if (this.getActualAllowClose(pane)) {\n      items.push({\n        displayText: this.dockManager.resourceStrings.close,\n        iconName: 'close',\n        clickHandler: () => this.closeTabPane(pane)\n      });\n    }\n    if (pane.allowPinning !== false) {\n      items.push({\n        displayText: this.dockManager.resourceStrings.unpin,\n        iconName: 'unpin',\n        clickHandler: () => this.togglePin(pane, IgcPinBehavior.selectedPane)\n      });\n    }\n    return items;\n  }\n  dragPaneStart(pane, rect, clientX, clientY) {\n    var _a;\n    if (this.dockManager.maximizedPane) {\n      return false;\n    }\n    let panes;\n    let parent;\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\n      parent = this.getParent(pane);\n      panes = parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ? parent.panes : [pane];\n    } else {\n      if (this.dockManager.draggedPane === pane) {\n        return true;\n      }\n      panes = this.getChildContentPanes(pane);\n    }\n    const disableDockingAndFloating = panes.some(p => p.allowDocking === false) && panes.some(p => p.allowFloating === false);\n    if (pane.type === IgcDockManagerPaneType.contentPane && disableDockingAndFloating) {\n      return false;\n    }\n    const dragStartEvent = this.dockManager.paneDragStart.emit({\n      sourcePane: pane,\n      panes\n    });\n    if (dragStartEvent.defaultPrevented) {\n      return false;\n    }\n    this.draggedPanes = panes;\n    this.initialDragClientPoint = {\n      x: clientX,\n      y: clientY\n    };\n    if (pane.type === IgcDockManagerPaneType.splitPane) {\n      this.dockManager.draggedPane = pane;\n      this.initialFloatingPaneLocation = (_a = pane.floatingLocation) !== null && _a !== void 0 ? _a : {\n        x: 0,\n        y: 0\n      };\n    } else {\n      if (this.draggedPanes.some(p => p.allowFloating === false)) {\n        this.dockManager.draggedPane = panes.length > 1 ? parent : pane;\n        return true;\n      }\n      const action = {\n        type: IgcPaneDragActionType.floatPane,\n        location: {\n          x: rect.x,\n          y: rect.y\n        },\n        width: rect.width,\n        height: rect.height\n      };\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\n        sourcePane: pane,\n        panes,\n        action,\n        isValid: true\n      });\n      if (dragOverEvent.defaultPrevented) {\n        return false;\n      }\n      if (!dragOverEvent.detail.isValid) {\n        this.dockManager.draggedPane = panes.length > 1 ? parent : pane;\n        return true;\n      }\n      this.floatPane(pane, rect.x, rect.y, action.width, action.height);\n      return false;\n    }\n    return true;\n  }\n  pointInBoundaries(clientX, clientY, location, pane) {\n    const minDragPosition = {\n      x: this.dockManagerRect.x,\n      y: this.dockManagerRect.y\n    };\n    const maxDragPosition = {\n      x: this.dockManagerRect.right - pane.floatingWidth,\n      y: this.dockManagerRect.bottom - pane.floatingHeight\n    };\n    if (this.initialFloatingPaneLocation.x + clientX - this.initialDragClientPoint.x <= this.dockManagerRect.x) {\n      location.x = minDragPosition.x;\n    } else if (this.initialFloatingPaneLocation.x + clientX + pane.floatingWidth - this.initialDragClientPoint.x >= this.dockManagerRect.right) {\n      location.x = maxDragPosition.x;\n    }\n    if (this.initialFloatingPaneLocation.y + clientY - this.initialDragClientPoint.y <= this.dockManagerRect.y) {\n      location.y = minDragPosition.y;\n    } else if (this.initialFloatingPaneLocation.y + clientY + pane.floatingHeight - this.initialDragClientPoint.y >= this.dockManagerRect.bottom) {\n      location.y = maxDragPosition.y;\n    }\n    return location;\n  }\n  dragPaneMove(clientX, clientY) {\n    const draggedPane = this.dockManager.draggedPane;\n    if (draggedPane.type === IgcDockManagerPaneType.splitPane) {\n      const oldLocation = draggedPane.floatingLocation ? draggedPane.floatingLocation : {\n        x: 0,\n        y: 0\n      };\n      let newLocation;\n      newLocation = {\n        x: this.initialFloatingPaneLocation.x + clientX - this.initialDragClientPoint.x,\n        y: this.initialFloatingPaneLocation.y + clientY - this.initialDragClientPoint.y\n      };\n      if (this.dockManager.containedInBoundaries) {\n        newLocation = this.pointInBoundaries(clientX, clientY, newLocation, draggedPane);\n      }\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\n        sourcePane: draggedPane,\n        panes: this.draggedPanes,\n        action: {\n          type: IgcPaneDragActionType.moveFloatingPane,\n          oldLocation,\n          newLocation\n        },\n        isValid: true\n      });\n      if (dragOverEvent.defaultPrevented) {\n        return false;\n      } else {\n        if (dragOverEvent.detail.isValid) {\n          this.moveFloatingPane(draggedPane, newLocation);\n        }\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\n      }\n    }\n    return this.dragOver();\n  }\n  dragPaneEnd() {\n    var _a;\n    const dockingIndicator = this.dockingIndicator;\n    const draggedPane = (_a = this.dockManager.draggedPane) !== null && _a !== void 0 ? _a : this.draggedTab;\n    let docked = false;\n    this.dockManager.paneDragEnd.emit({\n      sourcePane: draggedPane,\n      panes: this.draggedPanes\n    });\n    if (dockingIndicator && this.dockManager.isValidDrop) {\n      if (draggedPane.type === IgcDockManagerPaneType.contentPane) {\n        if (draggedPane.isPinned === false) {\n          draggedPane.isPinned = true;\n          if (draggedPane === this.dockManager.flyoutPane) {\n            this.dockManager.flyoutPane = null;\n          }\n        }\n      }\n      if (dockingIndicator.isRoot) {\n        this.rootDockPane(dockingIndicator.position);\n      } else {\n        this.dockPane(dockingIndicator.position);\n      }\n      docked = true;\n    } else if (this.dockManager.proximityDock && this.dockManager.dropShadowRect) {\n      this.dockPane(this.proximityDockPosition);\n      docked = true;\n    }\n    this.draggedPanes = null;\n    this.draggedTab = null;\n    this.dockManager.draggedPane = null;\n    this.dockManager.dropTargetPaneInfo = null;\n    this.dockManager.dropShadowRect = null;\n    this.dockManager.isValidDrop = true;\n    this.dockManager.layoutChange.emit();\n    return docked;\n  }\n  emitDragOverEvent(dockingIndicator) {\n    var _a;\n    return this.dockManager.paneDragOver.emit({\n      sourcePane: this.dockManager.draggedPane,\n      panes: this.draggedPanes,\n      action: {\n        type: IgcPaneDragActionType.dockPane,\n        dockingIndicator: dockingIndicator,\n        targetPane: (_a = this.dockManager.dropTargetPaneInfo) === null || _a === void 0 ? void 0 : _a.pane\n      },\n      isValid: true\n    });\n  }\n  dragOver() {\n    let dragOverEvent;\n    if (this.dockingIndicator) {\n      dragOverEvent = this.emitDragOverEvent(this.dockingIndicator);\n      if (dragOverEvent.defaultPrevented) {\n        return false;\n      } else {\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\n        this.dockManager.dropShadowRect = this.dockManager.isValidDrop ? this.dockingIndicator.isRoot ? this.getDropShadowRectRoot() : this.getDropShadowRect() : null;\n      }\n    } else if (this.dockManager.proximityDock) {\n      const disableDocking = this.draggedPanes.some(p => p.allowDocking !== undefined && !p.allowDocking);\n      const dockingIndicator = {\n        position: this.proximityDockPosition,\n        isRoot: false,\n        direction: this.dockManager.direction\n      };\n      dragOverEvent = this.emitDragOverEvent(dockingIndicator);\n      if (dragOverEvent.defaultPrevented) {\n        return false;\n      } else {\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\n        this.dockManager.dropShadowRect = this.proximityDockPosition && this.dockManager.isValidDrop && !disableDocking ? this.getDropShadowRect(this.proximityDockPosition, this.dockManager.direction) : null;\n      }\n    } else {\n      this.dockManager.dropShadowRect = null;\n      if (this.dockManager.draggedPane.type !== IgcDockManagerPaneType.splitPane) {\n        this.dockManager.isValidDrop = false;\n      }\n    }\n    return true;\n  }\n  dragTabStart(pane) {\n    this.shiftLeftThreshold = Number.MAX_VALUE;\n    this.shiftRightThreshold = 0;\n    if (this.dockManager.draggedPane === pane) {\n      return true;\n    }\n    const dragStartEvent = this.dockManager.paneDragStart.emit({\n      sourcePane: pane,\n      panes: [pane]\n    });\n    if (dragStartEvent.defaultPrevented) {\n      return false;\n    }\n    this.initialTabHeaderClickOffset = null;\n    this.draggedTab = pane;\n    this.draggedPanes = [pane];\n    return true;\n  }\n  dragTabMove(pane, args, rects) {\n    const clientX = args.clientX;\n    const clientY = args.clientY;\n    const offsetX = args.offsetX;\n    const totalOffsetX = args.totalOffsetX;\n    const totalOffsetY = args.totalOffsetY;\n    const headerRect = rects.headerRect;\n    const prevHeaderRect = rects.prevHeaderRect;\n    const nextHeaderRect = rects.nextHeaderRect;\n    const lastVisibleHeaderRect = rects.lastVisibleHeaderRect;\n    const tabsRect = rects.tabsRect;\n    if (!this.initialTabHeaderClickOffset) {\n      const clickOffsetX = clientX - totalOffsetX - headerRect.left;\n      const clickOffsetY = clientY - totalOffsetY - headerRect.top;\n      this.initialTabHeaderClickOffset = {\n        x: clickOffsetX,\n        y: clickOffsetY\n      };\n    }\n    if (pane.allowFloating === false && (clientX < tabsRect.left || clientX > tabsRect.right || clientY < headerRect.top || clientY > headerRect.bottom)) {\n      this.dockManager.draggedPane = pane;\n      return this.dragOver();\n    }\n    this.dockManager.draggedPane = null;\n    this.dockManager.isValidDrop = true;\n    const paneIndex = this.getParent(pane).panes.indexOf(pane);\n    if (prevHeaderRect && clientX < headerRect.left && clientX < this.shiftLeftThreshold && offsetX < 0) {\n      this.shiftLeftThreshold = prevHeaderRect.left;\n      const action = {\n        type: IgcPaneDragActionType.moveTab,\n        oldIndex: paneIndex,\n        newIndex: paneIndex - 1\n      };\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\n        sourcePane: pane,\n        panes: [pane],\n        action,\n        isValid: true\n      });\n      if (dragOverEvent.defaultPrevented) {\n        return false;\n      } else if (!dragOverEvent.detail.isValid) {\n        return true;\n      }\n      this.shiftTabLeft(pane);\n    } else if (nextHeaderRect && clientX > headerRect.right && clientX > this.shiftRightThreshold && offsetX > 0) {\n      this.shiftRightThreshold = nextHeaderRect.right;\n      if (headerRect.top === nextHeaderRect.top) {\n        const action = {\n          type: IgcPaneDragActionType.moveTab,\n          oldIndex: paneIndex,\n          newIndex: paneIndex + 1\n        };\n        const dragOverEvent = this.dockManager.paneDragOver.emit({\n          sourcePane: pane,\n          panes: [pane],\n          action,\n          isValid: true\n        });\n        if (dragOverEvent.defaultPrevented) {\n          return false;\n        } else if (!dragOverEvent.detail.isValid) {\n          return true;\n        }\n        this.shiftTabRight(pane);\n      }\n    }\n    if (Math.abs(totalOffsetY) > IGC_DRAG_FLYOUT_THRESHOLD || tabsRect.left - clientX > IGC_DRAG_FLYOUT_THRESHOLD || clientX - lastVisibleHeaderRect.right > IGC_DRAG_FLYOUT_THRESHOLD) {\n      if (pane.allowFloating !== false && !this.dockManager.maximizedPane) {\n        return this.floatTabHeader(pane, clientX, clientY, tabsRect);\n      }\n    }\n    return true;\n  }\n  floatTabHeader(pane, clientX, clientY, tabsRect) {\n    const rect = new DOMRect(clientX - this.initialTabHeaderClickOffset.x, clientY - this.initialTabHeaderClickOffset.y, tabsRect.width, tabsRect.height);\n    let panes;\n    let parent;\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\n      parent = this.getParent(pane);\n      panes = parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ? parent.panes : [pane];\n    }\n    this.draggedTab = null;\n    const action = {\n      type: IgcPaneDragActionType.floatPane,\n      location: {\n        x: rect.x,\n        y: rect.y\n      },\n      width: rect.width,\n      height: rect.height\n    };\n    const dragOverEvent = this.dockManager.paneDragOver.emit({\n      sourcePane: pane,\n      panes,\n      action,\n      isValid: true\n    });\n    if (dragOverEvent.defaultPrevented) {\n      return false;\n    } else if (!dragOverEvent.detail.isValid) {\n      return true;\n    }\n    this.initialDragClientPoint = {\n      x: clientX,\n      y: clientY\n    };\n    this.floatTab(pane, rect.x, rect.y, action.width, action.height);\n    return false;\n  }\n  resolveChildPanesAllowMaximize(pane) {\n    const panes = this.getChildContentPanes(pane);\n    const visiblePanes = panes.filter(p => this.isContentPaneVisible(p));\n    return visiblePanes.every(p => {\n      var _a;\n      return (_a = p.allowMaximize) !== null && _a !== void 0 ? _a : this.dockManager.allowMaximize;\n    });\n  }\n  normalizeMaximizedPane(pane) {\n    if (this.dockManager.maximizedPane) {\n      const panes = this.dockManager.maximizedPane.type === IgcDockManagerPaneType.splitPane || this.dockManager.maximizedPane.type === IgcDockManagerPaneType.tabGroupPane ? this.getChildContentPanes(this.dockManager.maximizedPane) : [this.dockManager.maximizedPane];\n      if (panes.every(p => p !== pane)) {\n        this.maximizePane(this.dockManager.maximizedPane);\n      }\n    }\n  }\n  resolveAllowMaximize(pane) {\n    var _a, _b;\n    if (pane.type === IgcDockManagerPaneType.splitPane || pane.type === IgcDockManagerPaneType.tabGroupPane) {\n      return this.resolveChildPanesAllowMaximize(pane);\n    } else if (pane.type === IgcDockManagerPaneType.contentPane) {\n      if (!this.getActualIsPinned(pane)) {\n        return (_a = pane.allowMaximize) !== null && _a !== void 0 ? _a : this.dockManager.allowMaximize;\n      }\n      const parent = this.getParent(pane);\n      return parent.type === IgcDockManagerPaneType.tabGroupPane ? this.resolveChildPanesAllowMaximize(parent) : (_b = pane.allowMaximize) !== null && _b !== void 0 ? _b : this.dockManager.allowMaximize;\n    }\n  }\n  getDropShadowRect(dockingPosition, dockingDirection) {\n    var _a;\n    const shadowRect = new DOMRect();\n    dockingPosition = dockingPosition !== null && dockingPosition !== void 0 ? dockingPosition : this.dockingIndicator.position;\n    dockingDirection = dockingDirection !== null && dockingDirection !== void 0 ? dockingDirection : this.dockingIndicator.direction;\n    const parentRect = this.dropTargetParentRect;\n    const dropTargetPaneInfo = this.dockManager.dropTargetPaneInfo;\n    if (dropTargetPaneInfo && !parentRect) {\n      const targetRect = dropTargetPaneInfo.targetRect;\n      shadowRect.x = targetRect.x;\n      shadowRect.y = targetRect.y;\n      shadowRect.width = targetRect.width;\n      shadowRect.height = targetRect.height;\n      return shadowRect;\n    } else if (!dropTargetPaneInfo || !parentRect) {\n      return;\n    }\n    const draggedPaneSize = (_a = this.getPaneToDock(this.dockManager.draggedPane).size) !== null && _a !== void 0 ? _a : IGC_DEFAULT_PANE_SIZE;\n    const isOuter = Utils.isDockingIndicatorOuter(dockingPosition);\n    const baseRect = isOuter ? parentRect : dropTargetPaneInfo.targetRect;\n    if (dockingPosition === IgcDockingIndicatorPosition.center) {\n      shadowRect.x = baseRect.x;\n      shadowRect.y = baseRect.y;\n      shadowRect.width = baseRect.width;\n      shadowRect.height = baseRect.height;\n      return shadowRect;\n    }\n    const targetPane = isOuter ? dropTargetPaneInfo.docHost : dropTargetPaneInfo.pane;\n    const targetParent = this.getParent(targetPane);\n    const panes = this.getSplitPaneVisibleChildren(targetParent);\n    const draggedPaneIndex = panes.indexOf(this.dockManager.draggedPane);\n    if (draggedPaneIndex > -1) {\n      panes.splice(draggedPaneIndex, 1);\n    }\n    const dropTargetIndex = panes.indexOf(targetPane);\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(dockingPosition);\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(targetParent);\n    const isSameSplitPane = isIndicatorVertical && isSplitPaneVertical || !isIndicatorVertical && !isSplitPaneVertical;\n    const isRTL = dockingDirection === 'rtl';\n    const panesTotalSize = panes.reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\n    const beforePanesTotalSize = !isRTL || isIndicatorVertical ? panes.slice(0, dropTargetIndex).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0) : panes.slice(dropTargetIndex, panes.length).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\n    const afterPanesTotalSize = !isRTL || isIndicatorVertical ? panes.slice(0, dropTargetIndex + 1).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0) : panes.slice(dropTargetIndex + 1, panes.length).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\n    switch (dockingPosition) {\n      case IgcDockingIndicatorPosition.left:\n      case IgcDockingIndicatorPosition.outerLeft:\n        shadowRect.x = baseRect.x;\n        shadowRect.y = baseRect.y;\n        shadowRect.height = baseRect.height;\n        if (isSameSplitPane) {\n          shadowRect.width = draggedPaneSize / (draggedPaneSize + panesTotalSize) * parentRect.width;\n          !isRTL ? shadowRect.x = parentRect.left + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width : shadowRect.x = parentRect.left + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width;\n        } else {\n          shadowRect.width = parentRect.width / 2;\n        }\n        break;\n      case IgcDockingIndicatorPosition.right:\n      case IgcDockingIndicatorPosition.outerRight:\n        shadowRect.y = baseRect.y;\n        shadowRect.height = baseRect.height;\n        if (isSameSplitPane) {\n          shadowRect.width = draggedPaneSize / (draggedPaneSize + panesTotalSize) * parentRect.width;\n          !isRTL ? shadowRect.x = parentRect.left + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width : shadowRect.x = parentRect.left + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width;\n        } else {\n          shadowRect.width = parentRect.width / 2;\n          shadowRect.x = parentRect.right - shadowRect.width;\n        }\n        break;\n      case IgcDockingIndicatorPosition.top:\n      case IgcDockingIndicatorPosition.outerTop:\n        shadowRect.x = baseRect.x;\n        shadowRect.y = baseRect.y;\n        shadowRect.width = baseRect.width;\n        if (isSameSplitPane) {\n          shadowRect.height = draggedPaneSize / (draggedPaneSize + panesTotalSize) * parentRect.height;\n          shadowRect.y = parentRect.top + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.height;\n        } else {\n          shadowRect.height = parentRect.height / 2;\n        }\n        break;\n      case IgcDockingIndicatorPosition.bottom:\n      case IgcDockingIndicatorPosition.outerBottom:\n        shadowRect.x = baseRect.x;\n        shadowRect.width = baseRect.width;\n        if (isSameSplitPane) {\n          shadowRect.height = draggedPaneSize / (draggedPaneSize + panesTotalSize) * parentRect.height;\n          shadowRect.y = parentRect.top + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.height;\n        } else {\n          shadowRect.height = parentRect.height / 2;\n          shadowRect.y = parentRect.bottom - shadowRect.height;\n        }\n        break;\n    }\n    return shadowRect;\n  }\n  getDropShadowRectRoot() {\n    var _a;\n    const rootRect = this.dropTargetParentRect;\n    const shadowRect = new DOMRect();\n    const draggedPaneSize = (_a = this.getPaneToDock(this.dockManager.draggedPane).size) !== null && _a !== void 0 ? _a : IGC_DEFAULT_PANE_SIZE;\n    const panes = this.getSplitPaneVisibleChildren(this.dockManager.layout.rootPane);\n    const draggedPaneIndex = panes.indexOf(this.dockManager.draggedPane);\n    if (draggedPaneIndex > -1) {\n      panes.splice(draggedPaneIndex, 1);\n    }\n    const panesTotalSize = panes.reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(this.dockingIndicator.position);\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(this.dockManager.layout.rootPane);\n    const isSameSplitPane = isIndicatorVertical && isSplitPaneVertical || !isIndicatorVertical && !isSplitPaneVertical;\n    const isEmptyDockManager = panes.length === 0;\n    switch (this.dockingIndicator.position) {\n      case IgcDockingIndicatorPosition.left:\n        shadowRect.x = rootRect.x;\n        shadowRect.y = rootRect.y;\n        shadowRect.height = rootRect.height;\n        shadowRect.width = isSameSplitPane || isEmptyDockManager ? draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.width : rootRect.width / 2;\n        break;\n      case IgcDockingIndicatorPosition.right:\n        shadowRect.y = rootRect.y;\n        shadowRect.height = rootRect.height;\n        shadowRect.width = isSameSplitPane || isEmptyDockManager ? shadowRect.width = draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.width : rootRect.width / 2;\n        shadowRect.x = rootRect.right - shadowRect.width;\n        break;\n      case IgcDockingIndicatorPosition.top:\n        shadowRect.x = rootRect.x;\n        shadowRect.y = rootRect.y;\n        shadowRect.width = rootRect.width;\n        shadowRect.height = isSameSplitPane || isEmptyDockManager ? draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.height : rootRect.height / 2;\n        break;\n      case IgcDockingIndicatorPosition.bottom:\n        shadowRect.x = rootRect.x;\n        shadowRect.width = rootRect.width;\n        shadowRect.height = isSameSplitPane || isEmptyDockManager ? draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.height : rootRect.height / 2;\n        shadowRect.y = rootRect.bottom - shadowRect.height;\n        break;\n    }\n    return shadowRect;\n  }\n  selectHiddenTab(tabGroup, pane) {\n    const index = tabGroup.panes.indexOf(pane);\n    tabGroup.panes.splice(index, 1);\n    tabGroup.panes.splice(0, 0, pane);\n    tabGroup.selectedIndex = 0;\n    this.updateLayout();\n  }\n  shiftTabLeft(pane) {\n    const tabGroup = this.getParent(pane);\n    const draggedIndex = tabGroup.panes.indexOf(pane);\n    if (draggedIndex > 0) {\n      tabGroup.panes.splice(draggedIndex, 1);\n      tabGroup.panes.splice(draggedIndex - 1, 0, pane);\n      tabGroup.selectedIndex = draggedIndex - 1;\n      this.updateLayout();\n    }\n    this.forceDragTabHeader = pane;\n  }\n  shiftTabRight(pane) {\n    const tabGroup = this.getParent(pane);\n    const draggedIndex = tabGroup.panes.indexOf(pane);\n    if (draggedIndex < tabGroup.panes.length - 1) {\n      tabGroup.panes.splice(draggedIndex, 1);\n      tabGroup.panes.splice(draggedIndex + 1, 0, pane);\n      tabGroup.selectedIndex = draggedIndex + 1;\n      this.updateLayout();\n    }\n    this.forceDragTabHeader = pane;\n  }\n  cacheDocumentsOrder() {\n    this.documentsCache = this.visibleDocuments.filter(c => !c.disabled);\n  }\n  cacheContentPanesOrder() {\n    this.contentPanesCache = this.visibleContentPanes.filter(c => !c.disabled);\n  }\n  focusPrevContentPane(isInDocHost) {\n    const contentPanesCache = isInDocHost ? this.documentsCache : this.contentPanesCache;\n    const activePaneIndex = contentPanesCache.indexOf(this.dockManager.activePane);\n    const prevPane = activePaneIndex > 0 ? contentPanesCache[activePaneIndex - 1] : contentPanesCache[contentPanesCache.length - 1];\n    this.normalizeMaximizedPane(prevPane);\n    this.dockManager.activePane = prevPane;\n  }\n  focusNextContentPane(isInDocHost) {\n    const contentPanesCache = isInDocHost ? this.documentsCache : this.contentPanesCache;\n    const activePaneIndex = contentPanesCache.indexOf(this.dockManager.activePane);\n    const nextPane = activePaneIndex >= 0 && activePaneIndex < contentPanesCache.length - 1 ? contentPanesCache[activePaneIndex + 1] : contentPanesCache[0];\n    this.normalizeMaximizedPane(nextPane);\n    this.dockManager.activePane = nextPane;\n  }\n}\n\n/**\n * @hidden\n */\nclass IgcDockManagerKeyboardService {\n  constructor(service) {\n    this.service = service;\n  }\n  handleKeydown(event) {\n    if (this.service.dockManager.disableKeyboardNavigation) {\n      return;\n    }\n    const activePane = this.service.dockManager.activePane;\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\n    const altKey = Utils.isAltPressed(event);\n    const shiftKey = event.shiftKey;\n    if (event.key === 'Control' || event.key === 'Meta' || event.key === 'OS') {\n      this.service.cacheDocumentsOrder();\n    } else if (event.key === 'Alt' || event.key === 'AltGraph') {\n      this.service.cacheContentPanesOrder();\n    } else if (event.key === 'F6' || event.key.startsWith('Arrow') && !shiftKey && ctrlOrMetaKey) {\n      this.handleFocusPane(event);\n      event.stopPropagation();\n    } else if (event.key === 'F3' && altKey && activePane) {\n      this.service.dockManager.focusElement();\n      this.service.closePane(activePane);\n      event.stopPropagation();\n    } else if (event.key.startsWith('Arrow') && shiftKey && activePane) {\n      this.service.dockManager.focusElement();\n      this.handleDockPane(event);\n      event.stopPropagation();\n    } else if ((event.key === 'F7' || event.key === 'F8') && (altKey || ctrlOrMetaKey)) {\n      this.setPaneNavigatorMeta(altKey, ctrlOrMetaKey, shiftKey);\n      event.stopPropagation();\n    } else {\n      return;\n    }\n  }\n  handleFocusPane(event) {\n    const altKey = Utils.isAltPressed(event);\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\n    const shiftKey = event.shiftKey;\n    const f6 = event.key === 'F6';\n    const arrowLeft = event.key === 'ArrowLeft';\n    const arrowRight = event.key === 'ArrowRight';\n    if (altKey && shiftKey && f6) {\n      this.service.focusPrevContentPane(false);\n    } else if (altKey && f6) {\n      this.service.focusNextContentPane(false);\n    } else if (ctrlOrMetaKey && shiftKey && f6 || ctrlOrMetaKey && arrowLeft) {\n      this.service.focusPrevContentPane(true);\n    } else if (ctrlOrMetaKey && f6 || ctrlOrMetaKey && arrowRight) {\n      this.service.focusNextContentPane(true);\n    }\n  }\n  handleDockPane(event) {\n    const key = event.key;\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\n    const shiftKey = event.shiftKey;\n    if (ctrlOrMetaKey && shiftKey) {\n      this.handleRootDockPane(key);\n    } else if (shiftKey) {\n      const activePane = this.service.dockManager.activePane;\n      const activePaneParent = this.service.getParent(activePane);\n      if (activePaneParent.type === IgcDockManagerPaneType.tabGroupPane && activePaneParent.panes.length > 1) {\n        this.handleInnerDockPane(key);\n      }\n    }\n  }\n  handleRootDockPane(key) {\n    let position;\n    switch (key) {\n      case 'ArrowUp':\n        position = IgcDockingIndicatorPosition.top;\n        break;\n      case 'ArrowDown':\n        position = IgcDockingIndicatorPosition.bottom;\n        break;\n      case 'ArrowLeft':\n        position = IgcDockingIndicatorPosition.left;\n        break;\n      case 'ArrowRight':\n        position = IgcDockingIndicatorPosition.right;\n        break;\n    }\n    if (position) {\n      this.service.keyboardDockPane = this.service.dockManager.activePane;\n      this.service.rootDockPane(position);\n    }\n  }\n  handleInnerDockPane(key) {\n    let position;\n    switch (key) {\n      case 'ArrowUp':\n        position = IgcDockingIndicatorPosition.top;\n        break;\n      case 'ArrowDown':\n        position = IgcDockingIndicatorPosition.bottom;\n        break;\n      case 'ArrowLeft':\n        position = IgcDockingIndicatorPosition.left;\n        break;\n      case 'ArrowRight':\n        position = IgcDockingIndicatorPosition.right;\n        break;\n    }\n    if (position) {\n      this.service.keyboardDockPane = this.service.dockManager.activePane;\n      this.service.dockPane(position);\n    }\n  }\n  setPaneNavigatorMeta(altKey, ctrlOrMetaKey, shiftKey) {\n    let initIndex = 0;\n    const allItems = this.service.visibleContentPanes.concat(this.service.visibleDocuments);\n    if (allItems.length > 0) {\n      if (ctrlOrMetaKey) {\n        if (this.service.visibleDocuments.length > 0) {\n          initIndex = shiftKey ? this.service.visibleContentPanes.length + this.service.visibleDocuments.length - 1 : this.service.visibleContentPanes.length;\n        } else {\n          initIndex = shiftKey ? this.service.visibleContentPanes.length - 1 : 0;\n        }\n      } else if (altKey) {\n        initIndex = shiftKey ? this.service.visibleContentPanes.length > 0 ? this.service.visibleContentPanes.length - 1 : this.service.visibleDocuments.length - 1 : 0;\n      }\n      const metadata = {\n        activePanes: this.service.visibleContentPanes,\n        activeDocuments: this.service.visibleDocuments,\n        initialIndex: initIndex,\n        previousActivePaneIndex: allItems.indexOf(this.service.dockManager.activePane)\n      };\n      this.service.dockManager.activePane = null;\n      this.service.dockManager.navigationPaneMeta = metadata;\n    }\n  }\n}\nconst dockmanagerComponentCss = \":host{position:relative;display:flex;overflow:hidden;box-sizing:border-box;height:100%;background:var(--igc-dock-background, var(--igc-background-color, #E5E7E9));color:var(--igc-dock-text, var(--igc-text-color, rgba(0, 0, 0, 0.72)));font-family:var(--igc-font-family, \\\"Titillium Web\\\", \\\"Roboto\\\", \\\"Helvetica Neue\\\", sans-serif);outline-style:none;--unpinned-tab-area-size:30px}:host igc-icon-component svg{width:17px;height:17px}.pane-container--vertical,.pane-container--horizontal,.pane-container{display:flex;flex-grow:1;height:100%;width:100%;overflow:hidden}.pane-container--vertical{flex-direction:column}.unpinned-tab-area{display:flex;flex-direction:column;width:var(--unpinned-tab-area-size);height:auto}.unpinned-tab-area--left{padding:8px 8px 8px 0}.unpinned-tab-area--right{padding:8px 0 8px 8px}.unpinned-tab-area--bottom{padding-top:8px}.unpinned-tab-area--horizontal{flex-direction:row;width:auto;height:var(--unpinned-tab-area-size)}.unpinned-tab-area--hidden{display:none}.flyout-pane{display:flex;flex-direction:column;position:absolute;width:100%;height:100%;pointer-events:none;z-index:2}.flyout-pane igc-content-pane-component{box-shadow:0 12px 8px var(--igc-flyout-shadow-color, rgba(0, 0, 0, 0.08))}.flyout-pane--right{flex-direction:row-reverse}.flyout-pane--right igc-content-pane-component{box-shadow:-12px 0px 8px var(--igc-flyout-shadow-color, rgba(0, 0, 0, 0.08))}.flyout-pane--bottom{flex-direction:column-reverse}.flyout-pane--bottom igc-content-pane-component{box-shadow:0 -12px 8px var(--igc-flyout-shadow-color, rgba(0, 0, 0, 0.08))}.flyout-pane--left{flex-direction:row}.flyout-pane--left igc-content-pane-component{box-shadow:12px 0px 8px var(--igc-flyout-shadow-color, rgba(0, 0, 0, 0.08))}.floating-panes{position:fixed;top:0;left:0;bottom:0;right:0;pointer-events:none;z-index:10000}.docking-indicators-container{position:absolute;display:flex;flex-direction:column;width:100%;height:100%;pointer-events:none;z-index:10004}.content{overflow:auto;height:100%;flex-grow:1;color:var(--igc-pane-content-text, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-pane-content-background, var(--igc-border-color, #F3F5F7));position:relative}.maximized{position:absolute;top:0;bottom:0;left:0;right:0;z-index:10002}.drop-shadow{background-color:var(--igc-drop-shadow-background, rgba(100, 149, 237, 0.2));position:fixed;z-index:10003;display:block;pointer-events:none}.hidden{height:0;opacity:0;padding:0;pointer-events:none;min-height:0 !important;transition:opacity 0.5s ease;position:absolute}.transitioned{overflow:hidden;transition:opacity 0.5s ease;position:absolute;z-index:999;width:100%}\";\nvar ActionReason;\n(function (ActionReason) {\n  ActionReason[\"click\"] = \"click\";\n  ActionReason[\"drop\"] = \"drop\";\n  ActionReason[\"maximizeOrMinimize\"] = \"maximizeOrMinimize\";\n})(ActionReason || (ActionReason = {}));\nconst PANE_HEADER_HEIGHT = 40;\nconst IgcDockManager = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.paneHeaderConnected = createEvent(this, \"paneHeaderConnected\", 7);\n    this.paneHeaderDisconnected = createEvent(this, \"paneHeaderDisconnected\", 7);\n    this.tabHeaderConnected = createEvent(this, \"tabHeaderConnected\", 7);\n    this.tabHeaderDisconnected = createEvent(this, \"tabHeaderDisconnected\", 7);\n    this.splitterResizeStart = createEvent(this, \"splitterResizeStart\", 7);\n    this.splitterResizeEnd = createEvent(this, \"splitterResizeEnd\", 7);\n    this.paneClose = createEvent(this, \"paneClose\", 7);\n    this.paneScroll = createEvent(this, \"paneScroll\", 7);\n    this.panePinnedToggle = createEvent(this, \"panePinnedToggle\", 7);\n    this.activePaneChanged = createEvent(this, \"activePaneChanged\", 7);\n    this.paneDragStart = createEvent(this, \"paneDragStart\", 7);\n    this.paneDragOver = createEvent(this, \"paneDragOver\", 7);\n    this.paneDragEnd = createEvent(this, \"paneDragEnd\", 7);\n    this.floatingPaneResizeMove = createEvent(this, \"floatingPaneResizeMove\", 7);\n    this.floatingPaneResizeEnd = createEvent(this, \"floatingPaneResizeEnd\", 7);\n    this.floatingPaneResizeStart = createEvent(this, \"floatingPaneResizeStart\", 7);\n    this.layoutChange = createEvent(this, \"layoutChange\", 7);\n    this._tabHeaderIconClicked = false;\n    this.service = new IgcDockManagerService(this);\n    this.keyboardService = new IgcDockManagerKeyboardService(this.service);\n    this.activePaneInternalSet = false;\n    this.domObserver = new MutationObserver(this.mutationCallback.bind(this));\n    this.shouldMovePane = false;\n    this.scheduledCallbacks = [];\n    this.shouldClearActivePane = true;\n    this.isDragging = false;\n    this.splitterOffset = 1;\n    this.loaded = false;\n    this.resizeObserver = new ResizeObserver(this.restrictFloatingPaneSize.bind(this));\n    this.proximityDockThreshold = 50;\n    this.proximityOuterDockThreshold = 25;\n    this.templatableComponents = [{\n      slot: 'paneHeaderCloseButton',\n      targetName: 'igc-pane-header-component',\n      targetSlot: 'paneHeaderCloseButton',\n      targetPart: 'pane-header-close-button'\n    }, {\n      slot: 'tabHeaderCloseButton',\n      targetName: 'igc-tab-header-component',\n      targetSlot: 'tabHeaderCloseButton',\n      targetPart: 'tab-header-close-button'\n    }, {\n      slot: 'tabHeaderCloseButton',\n      targetName: 'igc-context-menu-component',\n      targetSlot: 'contextMenuCloseButton',\n      targetPart: 'context-menu-close-button'\n    }, {\n      slot: 'closeButton',\n      targetName: 'igc-pane-header-component',\n      targetSlot: 'paneHeaderCloseButton',\n      targetPart: 'pane-header-close-button'\n    }, {\n      slot: 'closeButton',\n      targetName: 'igc-tab-header-component',\n      targetSlot: 'tabHeaderCloseButton',\n      targetPart: 'tab-header-close-button'\n    }, {\n      slot: 'closeButton',\n      targetName: 'igc-context-menu-component',\n      targetSlot: 'contextMenuCloseButton',\n      targetPart: 'context-menu-close-button'\n    }, {\n      slot: 'moreTabsButton',\n      targetName: 'igc-tabs-component',\n      targetSlot: 'tabsMoreButton',\n      targetPart: 'tabs-more-button'\n    }, {\n      slot: 'maximizeButton',\n      targetName: 'igc-pane-header-component',\n      targetSlot: 'paneHeaderMaximizeButton',\n      targetPart: 'pane-header-maximize-button'\n    }, {\n      slot: 'maximizeButton',\n      targetName: 'igc-tabs-component',\n      targetSlot: 'tabsMaximizeButton',\n      targetPart: 'tabs-maximize-button'\n    }, {\n      slot: 'minimizeButton',\n      targetName: 'igc-pane-header-component',\n      targetSlot: 'paneHeaderMinimizeButton',\n      targetPart: 'pane-header-minimize-button'\n    }, {\n      slot: 'minimizeButton',\n      targetName: 'igc-tabs-component',\n      targetSlot: 'tabsMinimizeButton',\n      targetPart: 'tabs-minimize-button'\n    }, {\n      slot: 'pinButton',\n      targetName: 'igc-pane-header-component',\n      targetSlot: 'paneHeaderPinButton',\n      targetPart: 'pane-header-pin-button'\n    }, {\n      slot: 'unpinButton',\n      targetName: 'igc-pane-header-component',\n      targetSlot: 'paneHeaderUnpinButton',\n      targetPart: 'pane-header-unpin-button'\n    }, {\n      slot: 'unpinButton',\n      targetName: 'igc-context-menu-component',\n      targetSlot: 'contextMenuUnpinButton',\n      targetPart: 'context-menu-unpin-button'\n    }, {\n      slot: 'moreOptionsButton',\n      targetName: 'igc-tab-header-component',\n      targetSlot: 'tabHeaderMoreOptionsButton',\n      targetPart: 'tab-header-more-options-button'\n    }, {\n      slot: 'splitterHandle',\n      targetName: 'igc-splitter-component',\n      targetSlot: 'splitterHandle',\n      targetPart: 'splitter-handle'\n    }];\n    this.updateTemplates = () => {\n      if (this.templates.size > 0) {\n        return;\n      }\n      const slotted = this.element.shadowRoot.querySelectorAll('slot');\n      const slottedArray = Array.from(slotted);\n      const usedTemplates = new Map();\n      const templatableSlots = this.templatableComponents.map(comp => comp.slot);\n      templatableSlots.forEach(slot => {\n        const matchedSlots = slottedArray.filter(s => s.name === slot);\n        if (!this.templates.get(slot) && matchedSlots.length > 0 && matchedSlots[0].assignedElements().length > 0) {\n          usedTemplates.set(slot, matchedSlots[0].assignedElements()[0]);\n        }\n      });\n      this.templates = usedTemplates;\n    };\n    this.handleCustomContentFocusIn = eventArgs => {\n      const parent = eventArgs.currentTarget;\n      if (parent) {\n        const contentPane = this.service.clientContentPanesMap.get(parent.slot);\n        if (!contentPane) {\n          return;\n        }\n        this.setActivePane(contentPane);\n      }\n    };\n    this._isValidDrop = true;\n    this.handleShadowRootFocusOut = () => {\n      if (this.paneToFocus) {\n        return;\n      }\n      const rootNode = this.getRootNode();\n      requestAnimationFrame(() => {\n        if (!this.element.shadowRoot.activeElement && rootNode.activeElement === this.element && this.reason !== ActionReason.maximizeOrMinimize) {\n          this.clearActivePane();\n        }\n      });\n    };\n    this.dropTargetPaneInfo = undefined;\n    this.flyoutPane = undefined;\n    this.floatingPaneZIndicesMap = new Map();\n    this.contextMenuMeta = undefined;\n    this.dropShadowRect = undefined;\n    this.templates = new Map();\n    this.hasCustomMaximizeButton = undefined;\n    this.hasCustomMinimizeButton = undefined;\n    this.hoveredPane = undefined;\n    this.navigationPaneMeta = undefined;\n    this.allowMaximize = true;\n    this.showPaneHeaders = 'always';\n    this.showHeaderIconOnHover = undefined;\n    this.maximizedPane = undefined;\n    this.resourceStrings = undefined;\n    this.allowFloatingPanesResize = true;\n    this.disableKeyboardNavigation = false;\n    this.contextMenuPosition = undefined;\n    this.containedInBoundaries = false;\n    this.allowInnerDock = true;\n    this.proximityDock = false;\n    this.layout = undefined;\n    this.draggedPane = undefined;\n    this.dropPosition = undefined;\n    this.activePane = null;\n  }\n  flyoutPaneChanged(newValue) {\n    if (newValue) {\n      this.scheduleAfterRender(() => {\n        this.setFocus(newValue);\n      });\n    }\n  }\n  containedInBoundariesChanged() {\n    if (this.loaded) {\n      this.restrictFloatingPaneSize();\n    }\n  }\n  /**\n   * Gets the direction of the Dock Manager.\n   */\n  get direction() {\n    return Utils.getDirection(this.element);\n  }\n  layoutChanged() {\n    this.service.processLayout();\n    if (!this.isDragging) {\n      this.layoutChange.emit();\n    }\n  }\n  draggedPaneChanged() {\n    if (this.draggedPane) {\n      const panes = this.draggedPane.type === IgcDockManagerPaneType.contentPane ? [this.draggedPane] : this.service.getChildContentPanes(this.draggedPane);\n      this.showDockingIndicators = panes.every(p => p.allowDocking !== false);\n      this.documentOnlyDrag = panes.some(p => p.documentOnly);\n    } else {\n      this.showDockingIndicators = false;\n      this.documentOnlyDrag = false;\n    }\n  }\n  dropPositionChanged() {\n    var _a, _b;\n    this.paneDragMoved((_a = this.dropPosition) === null || _a === void 0 ? void 0 : _a.x, (_b = this.dropPosition) === null || _b === void 0 ? void 0 : _b.y);\n  }\n  activePaneChange(newValue, oldValue) {\n    var _a;\n    const args = {\n      newPane: newValue,\n      oldPane: oldValue\n    };\n    if (this.flyoutPane && newValue && newValue !== this.flyoutPane) {\n      this.service.flyoutPane(this.flyoutPane);\n    }\n    this.activePaneChanged.emit(args);\n    this.contentPaneId = (newValue === null || newValue === void 0 ? void 0 : newValue.contentId) || this.contentPaneId;\n    if (this.activePaneInternalSet) {\n      this.activePaneInternalSet = false;\n      return;\n    }\n    if (newValue) {\n      if (newValue.isPinned === false) {\n        requestAnimationFrame(() => {\n          this.service.flyoutPane(newValue);\n        });\n        // return because setFocus will be called in flyoutPaneChanged\n        this.paneToFocus = newValue;\n        return;\n      } else {\n        const parent = this.service.getParent(newValue);\n        if (parent.type === IgcDockManagerPaneType.tabGroupPane && parent.panes.length > 1) {\n          const visibleTabs = this.service.getVisibleContentPanes(parent);\n          const tabHeaderElement = this.tabHeadersMap.get(newValue);\n          const firstTabRect = this.tabHeadersMap.get(visibleTabs[0]).getBoundingClientRect();\n          const headerRect = tabHeaderElement.getBoundingClientRect();\n          // return if the selected index is changed because setFocus will be called in handleTabSelectedChanged\n          if (headerRect.top !== firstTabRect.top) {\n            // header is hidden\n            this.service.selectHiddenTab(parent, newValue);\n            this.paneToFocus = newValue;\n            return;\n          } else {\n            const visibleIndex = visibleTabs.indexOf(newValue);\n            const selectedIndex = (_a = parent.selectedIndex) !== null && _a !== void 0 ? _a : 0;\n            if (selectedIndex !== visibleIndex) {\n              parent.selectedIndex = visibleIndex;\n              this.paneToFocus = newValue;\n              return;\n            }\n          }\n        }\n      }\n    }\n    this.scheduleAfterRender(() => {\n      this.setFocus(newValue);\n    });\n  }\n  handleFocusOut(_event) {\n    if (this.paneToFocus) {\n      return;\n    }\n    const rootNode = this.getRootNode();\n    if (!this._tabHeaderIconClicked && !this.isDragging) {\n      requestAnimationFrame(() => {\n        if (!this.element.contains(rootNode.activeElement)) {\n          this.clearActivePane();\n        }\n      });\n    }\n    this._tabHeaderIconClicked = false;\n  }\n  handleKeyDown(event) {\n    this.keyboardService.handleKeydown(event);\n  }\n  handlePointerDown(event) {\n    const pathHTMLElements = event.composedPath().filter(e => e instanceof HTMLElement).map(e => e);\n    const isMaximizeOrMinimize = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && (e.attributes.getNamedItem('part').value === 'tabs-minimize-button' || e.attributes.getNamedItem('part').value === 'tabs-maximize-button')).length > 0;\n    if (isMaximizeOrMinimize) {\n      this.reason = ActionReason.maximizeOrMinimize;\n    }\n  }\n  handlePointerUp() {\n    this.reason = null;\n  }\n  async dropPane() {\n    const docked = this.handlePaneDragEnd();\n    return Promise.resolve(docked);\n  }\n  async removePane(pane) {\n    this.service.removePane(pane);\n  }\n  async focusPane(contentId) {\n    const contentPane = this.service.getContent(contentId);\n    const parentPane = this.service.getRootParent(contentPane);\n    const isFloating = this.service.isFloatingPane(parentPane);\n    const isUnpinned = contentPane.isPinned !== undefined && !contentPane.isPinned;\n    if (isFloating) {\n      this.service.bringFloatingPaneOnTop(parentPane);\n      this.activePane = contentPane;\n    } else if (isUnpinned) {\n      this.handlePaneFlyout(contentPane);\n    } else {\n      this.activePane = contentPane;\n    }\n  }\n  connectedCallback() {\n    this.element.shadowRoot.addEventListener('focusout', this.handleShadowRootFocusOut);\n    this.domObserver.observe(this.element, {\n      attributes: true,\n      subtree: true,\n      childList: true\n    });\n    const dockManagerChildren = Array.from(this.element.children);\n    for (const htmlElem of dockManagerChildren) {\n      const elem = htmlElem;\n      elem === null || elem === void 0 ? void 0 : elem.addEventListener('focusin', this.handleCustomContentFocusIn);\n    }\n  }\n  componentWillLoad() {\n    this.contextMenuMeta = null;\n    this.navigationPaneMeta = null;\n    if (this.layout) {\n      this.layoutChanged();\n    }\n    if (!this.resourceStrings) {\n      const closestElement = this.element.closest('[lang]');\n      const lang = closestElement ? closestElement.lang.toLowerCase() : 'en';\n      this.resourceStrings = resourceStringsMap.has(lang) ? resourceStringsMap.get(lang) : resourceStringsMap.get('en');\n    }\n  }\n  componentWillRender() {\n    const lastMaximizedPane = this.service.getLastMaximizedPane();\n    if (lastMaximizedPane && this.maximizedPane !== lastMaximizedPane) {\n      const shouldFlyout = 'isPinned' in lastMaximizedPane && !lastMaximizedPane.isPinned;\n      if (shouldFlyout) {\n        this.handlePaneFlyout(lastMaximizedPane);\n      }\n      this.handleMaximize(lastMaximizedPane);\n    }\n  }\n  componentDidRender() {\n    while (this.scheduledCallbacks.length) {\n      const callback = this.scheduledCallbacks.shift();\n      callback();\n    }\n    if (this.service.keyboardDockPane) {\n      this.setActivePane(this.service.keyboardDockPane);\n      this.setFocus(this.service.keyboardDockPane);\n      this.service.keyboardDockPane = null;\n    }\n    this.processTemplates();\n  }\n  componentDidLoad() {\n    this.loaded = true;\n    this.resizeObserver.observe(this.element);\n  }\n  disconnectedCallback() {\n    this.element.shadowRoot.removeEventListener('focusout', this.handleShadowRootFocusOut);\n    this.removeCustomContentEventListeners();\n    this.domObserver.disconnect();\n    this.resizeObserver.disconnect();\n  }\n  focusElement() {\n    this.element.focus();\n  }\n  handleTabsRendered(pane) {\n    var _a;\n    if (this.reason !== ActionReason.drop) {\n      return;\n    }\n    if (((_a = pane.panes) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n      const focusablePane = this.findFocusablePane(pane.panes);\n      if ((focusablePane === null || focusablePane === void 0 ? void 0 : focusablePane.contentId) === this.contentPaneId) {\n        pane.selectedIndex = pane.panes.indexOf(focusablePane);\n        this.setActivePane(focusablePane);\n        this.setFocus(focusablePane);\n      }\n    }\n  }\n  handleSplitPaneRendered(panes) {\n    if (this.reason !== ActionReason.drop) {\n      return;\n    }\n    const focusablePane = this.findFocusablePane(panes);\n    if ((focusablePane === null || focusablePane === void 0 ? void 0 : focusablePane.contentId) === this.contentPaneId) {\n      this.setActivePane(focusablePane);\n      this.setFocus(focusablePane);\n    }\n  }\n  findFocusablePane(panes, candidate) {\n    const splitPanes = panes.filter(p => p.type === IgcDockManagerPaneType.splitPane);\n    for (const pane of splitPanes) {\n      if (candidate) {\n        return candidate;\n      }\n      const splitPane = pane;\n      candidate = this.findFocusablePane(splitPane.panes);\n    }\n    const tabGroupPanes = panes.filter(p => p.type === IgcDockManagerPaneType.tabGroupPane);\n    for (const pane of tabGroupPanes) {\n      if (candidate) {\n        return candidate;\n      }\n      const tabGroupPane = pane;\n      candidate = tabGroupPane.selectedIndex ? tabGroupPane.panes[tabGroupPane.selectedIndex] : this.findFocusablePane(tabGroupPane.panes);\n    }\n    const docHost = panes.filter(p => p.type === IgcDockManagerPaneType.documentHost);\n    for (const pane of docHost) {\n      if (candidate) {\n        return candidate;\n      }\n      const docHostPane = pane;\n      candidate = this.findFocusablePane([docHostPane.rootPane]);\n    }\n    candidate = panes.find(p => p.type === IgcDockManagerPaneType.contentPane && p.contentId === this.contentPaneId) || candidate;\n    if (candidate) {\n      return candidate;\n    }\n    return panes.find(p => p.type === IgcDockManagerPaneType.contentPane);\n  }\n  processTemplates() {\n    if (this.templates.size === 0) {\n      return;\n    }\n    this.templatableComponents.forEach(component => {\n      const template = this.templates.get(component.slot);\n      if (template) {\n        template.setAttribute('slot', component.targetSlot);\n        template.setAttribute('part', component.targetPart);\n        const componentMatches = this.element.shadowRoot.querySelectorAll(component.targetName);\n        componentMatches.forEach(match => {\n          const slottedClose = match.querySelectorAll('[slot=\"' + component.targetSlot + '\"]');\n          if (slottedClose.length === 0) {\n            match.appendChild(template.cloneNode(true));\n          }\n        });\n      }\n    });\n  }\n  getRootNode() {\n    return this.element.getRootNode();\n  }\n  scheduleAfterRender(callback) {\n    this.scheduledCallbacks.push(callback);\n  }\n  handleTabHeaderFocus(pane) {\n    if (!this._tabHeaderIconClicked) {\n      this.setActivePane(pane);\n    }\n  }\n  handleContentPaneFocus(pane) {\n    this.setActivePane(pane);\n  }\n  handleUnpinnedHeaderFocus(pane) {\n    // delay the setting of the active pane, in case the unpinned tab is clicked it should focus the content pane first\n    requestAnimationFrame(() => {\n      this.setActivePane(pane);\n    });\n  }\n  setFocus(pane) {\n    if (!pane) {\n      return;\n    }\n    this.paneToFocus = null;\n    let elemToFocus = this.contentPanesElementMap.get(pane);\n    if (!elemToFocus) {\n      elemToFocus = this.tabHeadersMap.get(pane);\n    }\n    if (!elemToFocus) {\n      elemToFocus = this.unpinnedHeadersMap.get(pane);\n    }\n    if (!elemToFocus) {\n      throw new Error('No matching pane!');\n    }\n    elemToFocus.focus();\n  }\n  setActivePane(pane) {\n    if (this.activePane !== pane) {\n      this.activePaneInternalSet = true;\n      this.activePane = pane;\n    }\n  }\n  removeCustomContentEventListeners() {\n    const dockManagerChildren = Array.from(this.element.children);\n    dockManagerChildren.forEach(child => {\n      child.removeEventListener('focusin', this.handleCustomContentFocusIn);\n    });\n  }\n  mutationCallback(records) {\n    records.filter(rec => rec.type === 'childList').forEach(child => {\n      child.addedNodes.forEach(c => {\n        c.addEventListener('focusin', this.handleCustomContentFocusIn);\n      });\n      child.removedNodes.forEach(r => {\n        r.removeEventListener('focusin', this.handleCustomContentFocusIn);\n      });\n    });\n  }\n  get isValidDrop() {\n    return this._isValidDrop;\n  }\n  set isValidDrop(value) {\n    if (this._isValidDrop !== value) {\n      this._isValidDrop = value;\n      document.body.style.cursor = this._isValidDrop ? 'default' : 'not-allowed';\n    }\n  }\n  restrictFloatingPaneSize() {\n    if (this.containedInBoundaries) {\n      const dockManagerRect = this.element.getBoundingClientRect();\n      const floatingPanes = Array.from(this.element.shadowRoot.querySelectorAll('igc-floating-pane-component'));\n      floatingPanes.forEach(floatingPane => {\n        const paneElement = floatingPane.querySelector('igc-split-pane-component');\n        const pane = this.panesElementMap.getByValue(paneElement);\n        if (floatingPane.getBoundingClientRect().height > dockManagerRect.height) {\n          floatingPane.floatingHeight = pane.floatingHeight = dockManagerRect.height;\n          floatingPane.style.height = floatingPane.floatingHeight + 'px';\n        }\n        if (floatingPane.getBoundingClientRect().bottom > dockManagerRect.bottom) {\n          floatingPane.floatingLocation.y = pane.floatingLocation.y = dockManagerRect.bottom - floatingPane.getBoundingClientRect().height;\n          floatingPane.style.top = floatingPane.floatingLocation.y + 'px';\n        }\n        if (floatingPane.getBoundingClientRect().y < dockManagerRect.y) {\n          floatingPane.floatingLocation.y = dockManagerRect.y;\n          floatingPane.style.top = floatingPane.floatingLocation.y + 'px';\n        }\n        if (floatingPane.getBoundingClientRect().width > dockManagerRect.width) {\n          floatingPane.floatingWidth = dockManagerRect.width;\n          floatingPane.style.width = floatingPane.floatingWidth + 'px';\n        }\n        if (floatingPane.getBoundingClientRect().right > dockManagerRect.right) {\n          floatingPane.floatingLocation.x = pane.floatingLocation.x = dockManagerRect.right - floatingPane.getBoundingClientRect().width;\n          floatingPane.style.left = floatingPane.floatingLocation.x + 'px';\n        }\n        if (floatingPane.getBoundingClientRect().left < dockManagerRect.left) {\n          floatingPane.floatingLocation.x = dockManagerRect.x;\n          floatingPane.style.left = floatingPane.floatingLocation.x + 'px';\n        }\n      });\n    }\n  }\n  isPaneSizeWithinConstraints(pane, offset, orientation) {\n    let position = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'next';\n    let size, minSize, maxSize;\n    if (orientation === IgcSplitPaneOrientation.horizontal) {\n      size = pane.getBoundingClientRect().width;\n      minSize = parseFloat(getComputedStyle(pane).minWidth);\n      maxSize = parseFloat(getComputedStyle(pane).maxWidth);\n    } else {\n      size = pane.getBoundingClientRect().height;\n      minSize = parseFloat(getComputedStyle(pane).minHeight);\n      maxSize = parseFloat(getComputedStyle(pane).maxHeight);\n    }\n    if (position === 'previous') {\n      return offset < 0 ? size + offset >= minSize || isNaN(minSize) || minSize === 0 : size + offset <= maxSize || isNaN(maxSize);\n    }\n    return offset > 0 ? size - offset >= minSize || isNaN(minSize) : size - offset <= maxSize || isNaN(maxSize);\n  }\n  handleFlyoutSplitterResizeEnd(pane, orientation, event) {\n    const splitter = event.target;\n    const previousPane = splitter.previousElementSibling;\n    const minSize = orientation === IgcSplitPaneOrientation.horizontal ? parseFloat(getComputedStyle(previousPane).minWidth) : parseFloat(getComputedStyle(previousPane).minHeight);\n    if (!isNaN(minSize) && (minSize > pane.unpinnedSize || minSize > IGC_DEFAULT_UNPIN_PANE_SIZE)) {\n      pane.unpinnedSize = minSize;\n    }\n    // If new pane size does not meet the size constraints, do not resize\n    let offset = this.isPaneSizeWithinConstraints(previousPane, event.detail, orientation, 'previous') ? this.splitterOffset * event.detail : 0;\n    this.service.resizeFlyoutPane(offset);\n    let rect;\n    rect = splitter.previousElementSibling.getBoundingClientRect();\n    const paneWidth = orientation === IgcSplitPaneOrientation.horizontal ? rect.width + offset : rect.width;\n    const paneHeight = orientation === IgcSplitPaneOrientation.vertical ? rect.height + offset : rect.height;\n    this.splitterResizeEnd.emit({\n      pane,\n      orientation,\n      paneWidth,\n      paneHeight\n    });\n  }\n  handleSplitterResizeStart(pane, event) {\n    const splitter = event.target;\n    const orientation = splitter.splitPaneOrientation;\n    let rect;\n    const splitterEl = event.target;\n    rect = pane === this.flyoutPane ? splitterEl.previousElementSibling.getBoundingClientRect() : splitterEl.nextElementSibling.getBoundingClientRect();\n    const paneWidth = rect.width;\n    const paneHeight = rect.height;\n    const resizeStartEvent = this.splitterResizeStart.emit({\n      pane,\n      orientation,\n      paneWidth,\n      paneHeight\n    });\n    if (resizeStartEvent.defaultPrevented) {\n      this.splitterOffset = 0;\n      splitter.showDragGhost = false;\n    } else {\n      this.splitterOffset = 1;\n      splitter.showDragGhost = true;\n    }\n  }\n  handleSplitterResizeEnd(parentPane, pane, event) {\n    const splitter = event.target;\n    const previousPane = splitter.previousElementSibling;\n    const nextPane = splitter.nextElementSibling;\n    const splitPane = splitter.parentElement;\n    const splitPaneChildren = Array.from(splitPane.children);\n    const paneComponents = splitPaneChildren.filter(c => c.tagName.toLowerCase() !== 'igc-splitter-component');\n    const sizeProperty = parentPane.orientation === IgcSplitPaneOrientation.horizontal ? 'offsetWidth' : 'offsetHeight';\n    const sizeSum = paneComponents.reduce((s, p) => p[sizeProperty] + s, 0);\n    // If the new size is smaller or bigger that the size constraints, do not resize\n    const offset = this.isPaneSizeWithinConstraints(previousPane, event.detail, parentPane.orientation, 'previous') && this.isPaneSizeWithinConstraints(nextPane, event.detail, parentPane.orientation) ? event.detail : 0;\n    let offsetPercentage = this.splitterOffset * offset / sizeSum;\n    let rtl = false;\n    if (this.element.dir !== '') {\n      rtl = this.element.dir === 'rtl';\n    } else {\n      let parent = this.element.parentElement;\n      while (parent) {\n        if (parent.dir !== '') {\n          rtl = parent.dir === 'rtl';\n          break;\n        }\n        parent = parent.parentElement;\n      }\n    }\n    if (rtl && parentPane.orientation === IgcSplitPaneOrientation.horizontal) {\n      offsetPercentage *= -1;\n    }\n    this.service.resizePane(pane, offsetPercentage);\n    const orientation = parentPane.orientation;\n    let rect;\n    rect = splitter.nextElementSibling.getBoundingClientRect();\n    const paneWidth = orientation === IgcSplitPaneOrientation.horizontal ? rect.width - offsetPercentage * sizeSum : rect.width;\n    const paneHeight = orientation === IgcSplitPaneOrientation.vertical ? rect.height - offsetPercentage * sizeSum : rect.height;\n    this.splitterResizeEnd.emit({\n      pane,\n      orientation,\n      paneWidth,\n      paneHeight\n    });\n  }\n  clearActivePane() {\n    if (this.activePane && this.shouldClearActivePane && this.reason !== ActionReason.drop) {\n      this.setActivePane(null);\n    }\n  }\n  handlePinToggle(pane) {\n    const isPinned = this.service.getActualIsPinned(pane);\n    const pinBehavior = !isPinned ? IgcPinBehavior.selectedPane : IgcPinBehavior.allPanes;\n    this.shouldClearActivePane = false;\n    this.service.togglePin(pane, pinBehavior);\n    this.scheduleAfterRender(() => {\n      this.shouldClearActivePane = true;\n      this.setFocus(pane);\n    });\n  }\n  handlePaneClose(pane) {\n    this.focusElement();\n    this.service.closePane(pane);\n  }\n  handleFloatingPaneClose(pane) {\n    this.focusElement();\n    this.service.closeFloatingPane(pane);\n  }\n  handleMaximize(pane) {\n    this.service.maximizePane(pane);\n    this.scheduleAfterRender(() => {\n      const paneToFocus = this.findFocusablePane([pane]);\n      this.setFocus(paneToFocus);\n    });\n  }\n  handleUnpinnedTabMouseDown(pane, event) {\n    const target = event.currentTarget;\n    const rootNode = this.getRootNode();\n    this.contentPaneId = pane.id;\n    requestAnimationFrame(() => {\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\n        target.focus();\n      }\n      this.handlePaneFlyout(pane);\n    });\n  }\n  handlePaneFlyout(pane) {\n    this.service.flyoutPane(pane);\n  }\n  handleUnpinnedTabKeyDown(pane, event) {\n    if (event.key === 'Enter' || event.key === ' ') {\n      this.handlePaneFlyout(pane);\n    }\n  }\n  handlePaneDragStart(pane, event) {\n    let rect;\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\n      const header = event.target;\n      const parent = this.service.getParent(pane);\n      rect = pane !== this.flyoutPane && parent.type === IgcDockManagerPaneType.tabGroupPane ? header.closest('igc-tabs-component').getBoundingClientRect() : header.parentElement.getBoundingClientRect();\n      this.contentPaneId = pane.contentId;\n    }\n    this.shouldClearActivePane = false;\n    this.focusElement();\n    const dragStarted = this.service.dragPaneStart(pane, rect, event.detail.clientX, event.detail.clientY);\n    this.isDragging = true;\n    this.scheduleAfterRender(() => {\n      this.shouldClearActivePane = true;\n      if (pane.type === IgcDockManagerPaneType.contentPane) {\n        this.contentPaneId = pane.contentId;\n        return;\n      }\n      if (pane.type === IgcDockManagerPaneType.splitPane) {\n        const targetPane = this.findFocusablePane(pane.panes);\n        if (targetPane) {\n          this.contentPaneId = targetPane.contentId;\n          this.setActivePane(targetPane);\n        }\n      }\n    });\n    if (!dragStarted) {\n      this.isDragging = false;\n      event.detail.cancel = true;\n    } else {\n      this.service.dockManagerRect = this.element.getBoundingClientRect();\n    }\n  }\n  handlePaneDragMove(event) {\n    this.paneDragMoved(event.detail.clientX, event.detail.clientY, event);\n  }\n  paneDragMoved(clientX, clientY, event) {\n    this.handleDropPositionChange(clientX, clientY, event === null || event === void 0 ? void 0 : event.target);\n    const x = event === null || event === void 0 ? void 0 : event.detail.clientX;\n    const y = event === null || event === void 0 ? void 0 : event.detail.clientY;\n    this.cursorLocation = {\n      x,\n      y\n    };\n    if (this.proximityDock) {\n      this.service.proximityDockPosition = this.getProximityDockPosition();\n      this.service.dropTargetParentRect = this.getInnerDropTargetParentRect();\n    }\n    const dragMoved = this.service.dragPaneMove(x, y);\n    if (event && !dragMoved) {\n      event.detail.cancel = true;\n    }\n  }\n  getInnerDropTargetParentRect() {\n    if (this.dropTargetPaneInfo && this.service.proximityDockPosition) {\n      const targetDocHostParent = this.service.getParent(this.dropTargetPaneInfo.docHost);\n      // In proximityDock, targetDocHostParent can be undefined when elementsFromPoint returns an empty splitPane meaning the dragged pane is over it.\n      const isIndicatorVertical = targetDocHostParent && Utils.isDockingIndicatorVertical(this.service.proximityDockPosition);\n      const isSplitPaneVertical = targetDocHostParent && Utils.isSplitPaneVertical(targetDocHostParent);\n      const isSameSplitPane = isIndicatorVertical && isSplitPaneVertical || !isIndicatorVertical && !isSplitPaneVertical;\n      // If its over splitter or if docHost without splitter -> outer dock\n      // For top/bottom outer dock we need the docHost's parent rect\n      // For left/right outer dock we need the docHost's rootPane rect\n      // If its not over splitter -> innerDock\n      const targetPaneParent = this.allowOuterProximityDock && Utils.isDockingIndicatorOuter(this.service.proximityDockPosition) ? isSameSplitPane ? targetDocHostParent : this.dropTargetPaneInfo.docHost.rootPane : this.service.getParent(this.dropTargetPaneInfo.pane);\n      const targetPaneParentRect = this.panesElementMap.has(targetPaneParent) ? this.panesElementMap.get(targetPaneParent).getBoundingClientRect() : null;\n      return targetPaneParentRect;\n    }\n  }\n  getProximityDockPosition() {\n    const dropTarget = this.dropTargetPaneInfo;\n    if (!dropTarget) {\n      return null;\n    }\n    const pane = dropTarget.pane;\n    const targetPaneRect = dropTarget.targetRect;\n    const centerX = (targetPaneRect.left + targetPaneRect.right) / 2;\n    const centerY = (targetPaneRect.top + targetPaneRect.bottom) / 2;\n    const isRTL = this.direction === 'rtl';\n    const targetPane = pane.type === IgcDockManagerPaneType.tabGroupPane && pane.selectedIndex > -1 ? pane.panes[pane.selectedIndex] : pane;\n    const acceptsInnerDock = targetPane.type === IgcDockManagerPaneType.contentPane && targetPane.acceptsInnerDock !== undefined && this.allowInnerDock ? targetPane.acceptsInnerDock : this.allowInnerDock;\n    const isOverSplitter = this.splitterRect ? this.cursorLocation.x >= this.splitterRect.left && this.cursorLocation.x <= this.splitterRect.right && this.cursorLocation.y >= this.splitterRect.top && this.cursorLocation.y <= this.splitterRect.bottom : false;\n    // If outer proximity dock is enabled, check if there is splitter and if mouse is within splitter boundaries.\n    if (this.allowOuterProximityDock && this.splitterRect) {\n      if (this.cursorLocation.x >= this.splitterRect.left - this.proximityOuterDockThreshold && this.cursorLocation.x <= this.splitterRect.left) {\n        return IgcDockingIndicatorPosition.outerLeft;\n      } else if (this.cursorLocation.x <= this.splitterRect.right + this.proximityOuterDockThreshold && this.cursorLocation.x >= this.splitterRect.right) {\n        return IgcDockingIndicatorPosition.outerRight;\n      }\n    }\n    const allowOuterTopDock = this.allowOuterProximityDock && this.cursorLocation.y < targetPaneRect.top + this.proximityOuterDockThreshold;\n    const allowOuterBottomDock = this.allowOuterProximityDock && this.cursorLocation.y > targetPaneRect.bottom - this.proximityOuterDockThreshold;\n    const allowOuterLeftDock = this.allowOuterProximityDock && this.cursorLocation.x < targetPaneRect.left + this.proximityOuterDockThreshold;\n    const allowOuterRightDock = this.allowOuterProximityDock && this.cursorLocation.x > targetPaneRect.right - this.proximityOuterDockThreshold;\n    if (this.cursorLocation.y > targetPaneRect.bottom - this.proximityDockThreshold && this.cursorLocation.x - targetPaneRect.left > targetPaneRect.bottom - this.cursorLocation.y && targetPaneRect.right - this.cursorLocation.x > targetPaneRect.bottom - this.cursorLocation.y && !isOverSplitter) {\n      return allowOuterBottomDock ? IgcDockingIndicatorPosition.outerBottom : IgcDockingIndicatorPosition.bottom;\n    } else if (this.cursorLocation.y < targetPaneRect.top + this.proximityDockThreshold && this.cursorLocation.x - targetPaneRect.left > this.cursorLocation.y - targetPaneRect.top && targetPaneRect.right - this.cursorLocation.x > this.cursorLocation.y - targetPaneRect.top && !isOverSplitter) {\n      return allowOuterTopDock ? IgcDockingIndicatorPosition.outerTop : IgcDockingIndicatorPosition.top;\n    } else if (acceptsInnerDock && this.cursorLocation.x > centerX - this.proximityDockThreshold && this.cursorLocation.x < centerX + this.proximityDockThreshold && this.cursorLocation.y > centerY - this.proximityDockThreshold && this.cursorLocation.y < centerY + this.proximityDockThreshold && !isOverSplitter) {\n      return IgcDockingIndicatorPosition.center;\n    } else if (!isRTL && this.cursorLocation.x < targetPaneRect.left + this.proximityDockThreshold && this.cursorLocation.y - targetPaneRect.top > this.cursorLocation.x - targetPaneRect.left && targetPaneRect.bottom - this.cursorLocation.y > this.cursorLocation.x - targetPaneRect.left) {\n      return allowOuterLeftDock ? IgcDockingIndicatorPosition.outerLeft : IgcDockingIndicatorPosition.left;\n    } else if (!isRTL && this.cursorLocation.x > targetPaneRect.right - this.proximityDockThreshold && this.cursorLocation.y - targetPaneRect.top > targetPaneRect.right - this.cursorLocation.x && targetPaneRect.bottom - this.cursorLocation.y > targetPaneRect.right - this.cursorLocation.x) {\n      return allowOuterRightDock ? IgcDockingIndicatorPosition.outerRight : IgcDockingIndicatorPosition.right;\n    } else if (isRTL && this.cursorLocation.x > targetPaneRect.right - this.proximityDockThreshold && targetPaneRect.bottom - this.cursorLocation.y > this.cursorLocation.x - targetPaneRect.right && this.cursorLocation.y - targetPaneRect.top > this.cursorLocation.x - targetPaneRect.right) {\n      return allowOuterRightDock ? IgcDockingIndicatorPosition.outerRight : IgcDockingIndicatorPosition.right;\n    } else if (isRTL && this.cursorLocation.x < targetPaneRect.left + this.proximityDockThreshold && targetPaneRect.bottom - this.cursorLocation.y > targetPaneRect.left - this.cursorLocation.x && this.cursorLocation.y - targetPaneRect.top > targetPaneRect.left - this.cursorLocation.x) {\n      return allowOuterLeftDock ? IgcDockingIndicatorPosition.outerLeft : IgcDockingIndicatorPosition.left;\n    }\n    return null;\n  }\n  handlePaneDragEnd() {\n    const docked = this.service.dragPaneEnd();\n    this.isDragging = false;\n    if (docked) {\n      const activePane = this.activePane;\n      this.shouldClearActivePane = false;\n      this.reason = ActionReason.drop;\n      this.focusElement();\n      if (activePane) {\n        this.scheduleAfterRender(() => {\n          this.setActivePane(activePane);\n        });\n      }\n      this.scheduleAfterRender(() => {\n        this.shouldClearActivePane = true;\n      });\n    }\n    if (this.activePane) {\n      this.setFocus(this.activePane);\n    }\n    return docked;\n  }\n  handleTabHeaderDragStart(pane, event) {\n    this.shouldMovePane = false;\n    const path = this.service.getPanePath(pane);\n    const rootParent = path[0];\n    if (rootParent !== this.layout.rootPane && path.some(p => p.type === IgcDockManagerPaneType.documentHost)) {\n      const childPanes = this.service.getChildContentPanes(rootParent);\n      if (childPanes.length === 1) {\n        // pane is a single document host tab in a floating pane\n        this.shouldMovePane = true;\n        return this.handlePaneDragStart(rootParent, event);\n      }\n    }\n    this.shouldClearActivePane = false;\n    this.focusElement();\n    const dragStarted = this.service.dragTabStart(pane);\n    this.isDragging = true;\n    this.scheduleAfterRender(() => {\n      this.shouldClearActivePane = true;\n    });\n    if (!dragStarted) {\n      this.isDragging = false;\n      event.detail.cancel = true;\n    }\n  }\n  handleTabHeaderDragMove(pane, event) {\n    if (this.shouldMovePane) {\n      return this.handlePaneDragMove(event);\n    }\n    const header = event.target;\n    const headerRect = header.getBoundingClientRect();\n    const tabs = header.closest('igc-tabs-component');\n    const tabsRect = tabs.getBoundingClientRect();\n    const tabHeaders = Array.from(tabs.querySelectorAll('igc-tab-header-component'));\n    const headerIndex = tabHeaders.indexOf(header);\n    const prevHeaderRect = headerIndex > 0 ? tabHeaders[headerIndex - 1].getBoundingClientRect() : null;\n    const nextHeaderRect = headerIndex < tabHeaders.length - 1 ? tabHeaders[headerIndex + 1].getBoundingClientRect() : null;\n    const lastVisibleHeaderRect = tabHeaders.filter(th => th.getBoundingClientRect().top === headerRect.top).slice(-1)[0].getBoundingClientRect();\n    const tabRectsInfo = {\n      headerRect,\n      prevHeaderRect,\n      nextHeaderRect,\n      lastVisibleHeaderRect,\n      tabsRect\n    };\n    this.handleDropPositionChange(event.detail.clientX, event.detail.clientY, event === null || event === void 0 ? void 0 : event.target);\n    const tabMoved = this.service.dragTabMove(pane, event.detail, tabRectsInfo);\n    if (event && !tabMoved) {\n      event.detail.cancel = true;\n    }\n  }\n  handleTabHeaderDragEnd(pane) {\n    const docked = this.handlePaneDragEnd();\n    if (!docked) {\n      this.activePane = pane;\n    }\n  }\n  handleFloatingPaneResizeStart(pane, event) {\n    const args = event.detail;\n    this.isDragging = true;\n    const resizeStarted = this.service.resizeFloatingPaneStart(pane, args.resizerLocation);\n    if (!resizeStarted) {\n      this.isDragging = false;\n      args.dragMoveArgs.cancel = true;\n    }\n  }\n  handleFloatingPaneResizeMove(pane, event) {\n    this.service.resizeFloatingPane(pane, event.detail);\n  }\n  handleFloatingPaneResizeEnd(pane, event) {\n    this.isDragging = false;\n    this.service.resizeFloatingPaneEnd(pane, event.detail.resizerLocation);\n  }\n  handleDropPositionChange(clientX, clientY, target) {\n    var _a;\n    const elements = clientX && clientY ? this.element.shadowRoot.elementsFromPoint(clientX, clientY) : null;\n    let isOverSplitter = false;\n    this.splitterRect = null;\n    const splitter = elements ? elements.filter(e => e.tagName.toLowerCase() === 'igc-splitter-component') : [];\n    if (splitter.length > 0) {\n      const splitterIndex = elements.indexOf(splitter[0]);\n      const adjacentElement = elements[splitterIndex - 1];\n      isOverSplitter = adjacentElement && adjacentElement.tagName.toLowerCase() === 'igc-floating-pane-component' && adjacentElement.floatingId === ((_a = this.draggedPane) === null || _a === void 0 ? void 0 : _a.id); // if not equal - splitter is below another element, not directly over\n    }\n\n    if (this.proximityDock) {\n      const docHost = elements ? elements.filter(e => e.tagName.toLowerCase() === 'igc-document-host-component') : [];\n      if (docHost.length > 0) {\n        const splitter = docHost[0].querySelector('igc-splitter-component');\n        if (splitter) {\n          const splitterRect = splitter.getBoundingClientRect();\n          this.splitterRect = splitterRect;\n        }\n        this.allowOuterProximityDock = true;\n      } else {\n        this.allowOuterProximityDock = false;\n      }\n    }\n    if (!elements || !elements.length || isOverSplitter && this.splitterRect === null) {\n      this.service.dockingIndicator = null;\n      this.dropTargetPaneInfo = null;\n      return;\n    }\n    const topElement = elements[0];\n    let indicatorTarget = null;\n    let dockingIndicatorElement = topElement.closest('igc-root-docking-indicator-component');\n    if (dockingIndicatorElement) {\n      this.service.dockingIndicator = {\n        position: dockingIndicatorElement.position,\n        isRoot: true,\n        direction: this.direction\n      };\n    }\n    if (!dockingIndicatorElement) {\n      const joystickIcon = topElement.closest('igc-joystick-icon-component');\n      if (joystickIcon && !joystickIcon.empty) {\n        dockingIndicatorElement = joystickIcon;\n        this.service.dockingIndicator = {\n          position: joystickIcon.position,\n          isRoot: false,\n          direction: this.direction\n        };\n        const joystickIndicator = joystickIcon.closest('igc-joystick-indicator-component');\n        indicatorTarget = joystickIndicator.dropTargetPaneInfo;\n      }\n    }\n    if (dockingIndicatorElement && (this.service.dockingIndicator.isRoot || this.dropTargetPaneInfo === indicatorTarget)) {\n      this.service.dropTargetParentRect = this.getDropTargetParentRect();\n      return;\n    }\n    this.service.dockingIndicator = null;\n    if (target) {\n      const draggedHeader = target;\n      const draggedFloatingPane = draggedHeader.closest('igc-floating-pane-component');\n      const topFloatingPane = elements.find(e => e.tagName.toLowerCase() === 'igc-floating-pane-component');\n      if (topFloatingPane === draggedFloatingPane) {\n        const index = elements.lastIndexOf(draggedFloatingPane);\n        elements.splice(0, index + 1);\n      }\n    }\n    let paneElement;\n    for (const element of elements) {\n      const tagName = element.tagName.toLowerCase();\n      if (tagName === 'igc-content-pane-component' || tagName === 'igc-split-pane-component') {\n        if (paneElement) {\n          break;\n        }\n        paneElement = element;\n        // Not sure why we dont break after finding split-pane first. This works with proximityDock so its temporarily here.\n        // When we are over splitter and proximityDock is true, break after finding the first suitable splitPane.\n        if (this.allowOuterProximityDock) {\n          break;\n        }\n      } else if (tagName === 'igc-tabs-component' || tagName === 'igc-document-host-component') {\n        paneElement = element;\n        break;\n      } else if (tagName === 'igc-floating-pane-component') {\n        break;\n      }\n    }\n    if (paneElement) {\n      const dropPane = this.panesElementMap.getByValue(paneElement);\n      if ((!this.dropTargetPaneInfo || this.dropTargetPaneInfo.pane !== dropPane) && dropPane !== this.draggedPane) {\n        const docHost = this.service.getDocHostParent(dropPane);\n        const dropPaneRoot = this.service.getRootParent(dropPane);\n        const floatingPaneWithoutDocHost = this.layout.floatingPanes ? this.layout.floatingPanes.indexOf(dropPaneRoot) !== -1 && !this.service.getChildDocHostRecursive(dropPaneRoot) : false;\n        if (!this.documentOnlyDrag || docHost || floatingPaneWithoutDocHost || dropPane.type === IgcDockManagerPaneType.documentHost) {\n          this.dropTargetPaneInfo = {\n            pane: dropPane,\n            targetRect: paneElement.getBoundingClientRect(),\n            docHost,\n            floatingPaneWithoutDocHost\n          };\n        } else {\n          this.dropTargetPaneInfo = null;\n        }\n      }\n    } else {\n      this.dropTargetPaneInfo = null;\n    }\n  }\n  getDropTargetParentRect() {\n    const position = this.service.dockingIndicator.position;\n    let rect;\n    if (this.service.dockingIndicator.isRoot) {\n      rect = this.dockedPanesContainer.getBoundingClientRect();\n    } else {\n      if (Utils.isDockingIndicatorOuter(position)) {\n        const targetDocHostParent = this.service.getParent(this.dropTargetPaneInfo.docHost);\n        const isIndicatorVertical = Utils.isDockingIndicatorVertical(position);\n        const isSplitPaneVertical = Utils.isSplitPaneVertical(targetDocHostParent);\n        const isSameSplitPane = isIndicatorVertical && isSplitPaneVertical || !isIndicatorVertical && !isSplitPaneVertical;\n        const outerParent = isSameSplitPane ? targetDocHostParent : this.dropTargetPaneInfo.docHost.rootPane;\n        const outerParentRect = this.panesElementMap.has(outerParent) ? this.panesElementMap.get(outerParent).getBoundingClientRect() : null;\n        rect = outerParentRect;\n      } else {\n        const targetPaneParent = this.service.getParent(this.dropTargetPaneInfo.pane);\n        const targetPaneParentRect = this.panesElementMap.has(targetPaneParent) ? this.panesElementMap.get(targetPaneParent).getBoundingClientRect() : null;\n        rect = targetPaneParentRect;\n      }\n    }\n    return rect;\n  }\n  handlePaneContentMouseDown(pane) {\n    requestAnimationFrame(() => {\n      const rootNode = this.getRootNode();\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\n        this.setFocus(pane);\n        this.contentPaneId = pane.contentId;\n      }\n    });\n  }\n  handlePaneContentScroll(pane, event) {\n    const contentElement = event.target;\n    const args = {\n      pane,\n      contentElement: contentElement\n    };\n    this.paneScroll.emit(args);\n  }\n  handlePaneHeaderMouseDown(pane) {\n    const rootNode = this.getRootNode();\n    requestAnimationFrame(() => {\n      this.contentPaneId = pane.contentId;\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\n        const paneElement = this.contentPanesElementMap.get(pane);\n        paneElement.focus();\n      } else {\n        this.setActivePane(pane);\n      }\n    });\n  }\n  handleTabHeaderMouseDown(pane, event) {\n    const target = event.currentTarget;\n    const rootNode = this.getRootNode();\n    const pathHTMLElements = event.composedPath().filter(et => et instanceof HTMLElement).map(et => et);\n    this._tabHeaderIconClicked = this.showHeaderIconOnHover && pathHTMLElements.filter(el => el.attributes.getNamedItem('part') && el.attributes.getNamedItem('part').value === 'tab-header-more-options floating').length > 0;\n    requestAnimationFrame(() => {\n      this.contentPaneId = pane.contentId;\n      this.reason = ActionReason.click;\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\n        target.focus();\n      } else {\n        this.setActivePane(pane);\n      }\n    });\n  }\n  handleFloatingPaneMouseDown(pane, event) {\n    const pathHTMLElements = event.composedPath().filter(e => e instanceof HTMLElement).map(e => e);\n    const isContextMenu = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'context-menu').length > 0;\n    if (isContextMenu) {\n      return;\n    }\n    this.service.bringFloatingPaneOnTop(pane);\n    const isTabs = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'tabs-container').length > 0;\n    if (isTabs) {\n      return;\n    }\n    const isFloatingPaneHeader = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'pane-header floating window').length > 0;\n    if (isFloatingPaneHeader) {\n      let targetPane;\n      let parent = this.service.getParent(this.activePane);\n      while (parent) {\n        if (parent === pane) {\n          targetPane = this.activePane;\n          break;\n        }\n        parent = this.service.getParent(parent);\n      }\n      requestAnimationFrame(() => {\n        if (!targetPane) {\n          targetPane = this.findFocusablePane(pane.panes);\n        }\n        if (!targetPane) {\n          targetPane = pane.panes[0];\n        }\n        const nodeName = event.target.nodeName.toLowerCase();\n        if (nodeName === 'igc-dockmanager') {\n          this.setActivePane(targetPane);\n          this.setFocus(targetPane);\n        }\n        this.contentPaneId = targetPane.contentId;\n      });\n    }\n  }\n  handleTabIconClick(p, position, isFloating, event) {\n    if (!this.showHeaderIconOnHover) {\n      this.focusElement();\n    }\n    if (!isFloating && position === IgcTabHeadersPosition.bottom) {\n      const elem = event.detail.target;\n      const tabHeader = elem.closest('igc-tab-header-component');\n      const moreOptionsContainer = tabHeader ? tabHeader.shadowRoot.querySelector('div[part*=\"tab-header-more-options\"]') : elem.closest('div[part*=\"tab-header-more-options\"]');\n      this.contextMenuMeta = {\n        target: moreOptionsContainer,\n        menuItems: this.service.createContextMenuItems(p),\n        position: this.contextMenuPosition\n      };\n    } else {\n      this.contextMenuMeta = null;\n      this.service.closeTabPane(p);\n    }\n  }\n  handleContextMenuClosed() {\n    this.contextMenuMeta = null;\n  }\n  handleTabSelectedIndexChanged(pane, event) {\n    pane.selectedIndex = event.detail;\n  }\n  handleHiddenTabSelected(pane, event) {\n    this.activePane = this.service.getVisibleContentPanes(pane)[event.detail];\n  }\n  handleSelectedTabOutOfView(pane, event) {\n    const cp = this.service.getVisibleContentPanes(pane)[event.detail];\n    this.service.selectHiddenTab(pane, cp);\n  }\n  handleTabIconKeyDown(iconName, p, ev) {\n    if (iconName === 'arrow_drop_down' && ev.detail.key === 'ArrowDown') {\n      const targetElem = ev.detail.target;\n      const tabHeader = targetElem.closest('igc-tab-header-component');\n      const moreOptionsContainer = tabHeader ? tabHeader.shadowRoot.querySelector('div[part=\"tab-header-more-options\"]') : targetElem.closest('div[part=\"tab-header-more-options\"]');\n      this.contextMenuMeta = {\n        target: moreOptionsContainer,\n        menuItems: this.service.createContextMenuItems(p),\n        position: this.contextMenuPosition\n      };\n    }\n  }\n  handleTabSelectedChanged(pane, ev) {\n    if (ev.detail && pane === this.paneToFocus) {\n      this.setFocus(pane);\n    }\n  }\n  emitPaneHeaderConnected(pane, event) {\n    this.paneHeaderConnected.emit({\n      pane,\n      element: event.detail\n    });\n  }\n  emitPaneHeaderDisconnected(pane, event) {\n    this.paneHeaderDisconnected.emit({\n      pane,\n      element: event.detail\n    });\n  }\n  emitTabHeaderConnected(pane, event) {\n    this.tabHeaderConnected.emit({\n      pane,\n      element: event.detail\n    });\n  }\n  emitTabHeaderDisconnected(pane, event) {\n    this.tabHeaderDisconnected.emit({\n      pane,\n      element: event.detail\n    });\n  }\n  resolveAllowMaximize(pane) {\n    return this.service.resolveAllowMaximize(pane);\n  }\n  removeHoveredPane() {\n    this.hoveredPane = null;\n  }\n  togglePaneHeaderVisibility(pane, event) {\n    const paneRect = this.contentPanesElementMap.get(pane).getBoundingClientRect();\n    const withinPane = event.clientY >= paneRect.top && event.clientY < paneRect.top + PANE_HEADER_HEIGHT;\n    if (withinPane) {\n      this.hoveredPane = pane;\n    } else {\n      this.removeHoveredPane();\n    }\n  }\n  renderButtonsTemplates() {\n    return h(\"template\", null, h(\"slot\", {\n      name: \"paneHeaderCloseButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"tabHeaderCloseButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"closeButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"moreTabsButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"maximizeButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"minimizeButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"pinButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"unpinButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"moreOptionsButton\",\n      onSlotchange: this.updateTemplates\n    }), h(\"slot\", {\n      name: \"splitterHandle\",\n      onSlotchange: this.updateTemplates\n    }));\n  }\n  renderContentPane(pane, isFloating, isFlyout) {\n    const parentPane = this.service.getParent(pane);\n    let forceDrag = false;\n    let isSingleFloatingContentPane = false;\n    let floatingPane;\n    if (isFloating) {\n      floatingPane = this.service.getRootParent(pane);\n      const hasHeader = this.service.hasFloatingPaneHeader(floatingPane);\n      if (!hasHeader) {\n        isSingleFloatingContentPane = true;\n        if (this.service.forceDragPane === floatingPane) {\n          this.service.forceDragPane = null;\n          forceDrag = true;\n        }\n      }\n    }\n    const maximized = this.maximizedPane === pane || parentPane.type === IgcDockManagerPaneType.tabGroupPane && this.maximizedPane === parentPane || isFloating && isSingleFloatingContentPane && floatingPane === this.maximizedPane;\n    return h(\"igc-content-pane-component\", {\n      key: pane.id,\n      contentId: pane.contentId,\n      size: pane.size,\n      isFlyout: isFlyout,\n      unpinnedSize: pane.unpinnedSize,\n      disabled: pane.disabled,\n      isSingleFloating: isSingleFloatingContentPane,\n      onMouseMove: this.togglePaneHeaderVisibility.bind(this, pane),\n      onMouseLeave: this.removeHoveredPane.bind(this),\n      ref: el => {\n        if (el) {\n          this.panesElementMap.set(pane, el);\n          this.contentPanesElementMap.set(pane, el);\n        }\n      },\n      class: {\n        'maximized': this.maximizedPane === pane\n      },\n      header: pane.header,\n      onFocusin: this.handleContentPaneFocus.bind(this, pane)\n    }, h(\"igc-pane-header-component\", {\n      slot: \"header\",\n      pane: pane,\n      isActive: pane === this.activePane,\n      disabled: pane.disabled && !isSingleFloatingContentPane,\n      pinned: this.service.getActualIsPinned(pane),\n      allowMaximize: this.resolveAllowMaximize(pane),\n      maximized: maximized,\n      allowClose: this.service.getActualAllowClose(pane),\n      allowPinning: pane.allowPinning !== false,\n      isFloating: isFloating,\n      forcedDrag: forceDrag,\n      resourceStrings: this.resourceStrings,\n      onPinToggle: this.handlePinToggle.bind(this, pane),\n      onMaximize: this.handleMaximize.bind(this, pane),\n      onDragMoved: this.handlePaneDragMove.bind(this),\n      onDragStarted: this.handlePaneDragStart.bind(this, isSingleFloatingContentPane ? floatingPane : pane),\n      onDragEnded: this.handlePaneDragEnd.bind(this),\n      onClose: this.handlePaneClose.bind(this, pane),\n      onElementConnected: this.emitPaneHeaderConnected.bind(this, pane),\n      onElementDisconnected: this.emitPaneHeaderDisconnected.bind(this, pane),\n      onMouseDown: this.handlePaneHeaderMouseDown.bind(this, pane),\n      class: {\n        'hidden': this.showPaneHeaders === 'onHoverOnly' && this.hoveredPane !== pane,\n        'transitioned': this.showPaneHeaders === 'onHoverOnly' && this.hoveredPane === pane\n      }\n    }, isFloating && pane.floatingHeaderId ? h(\"slot\", {\n      name: pane.floatingHeaderId\n    }) : pane.headerId ? h(\"slot\", {\n      name: pane.headerId\n    }) : pane.header), h(\"div\", {\n      class: \"content\",\n      onMouseDown: this.handlePaneContentMouseDown.bind(this, pane),\n      onScroll: this.handlePaneContentScroll.bind(this, pane)\n    }, h(\"slot\", {\n      name: pane.contentId\n    })));\n  }\n  renderSplitter(parentPane, pane) {\n    return h(\"igc-splitter-component\", {\n      splitPaneOrientation: parentPane.orientation,\n      onResizeStart: this.handleSplitterResizeStart.bind(this, pane),\n      onResizeEnd: this.handleSplitterResizeEnd.bind(this, parentPane, pane),\n      onFocusin: this.clearActivePane.bind(this)\n    });\n  }\n  renderDocumentHost(docHost) {\n    return h(\"igc-document-host-component\", {\n      key: docHost.id,\n      size: docHost.size,\n      ref: el => {\n        if (el) {\n          this.panesElementMap.set(docHost, el);\n        }\n      }\n    }, this.renderSplitPane(docHost.rootPane, false, true));\n  }\n  renderTabGroup(pane, isFloating, isInDocumentHost) {\n    let tabs = pane.type === IgcDockManagerPaneType.tabGroupPane ? pane.panes : [pane];\n    tabs = tabs.filter(t => this.service.isContentPaneVisible(t));\n    const selectedIndex = pane.type === IgcDockManagerPaneType.tabGroupPane && pane.selectedIndex ? pane.selectedIndex : 0;\n    const position = isInDocumentHost ? IgcTabHeadersPosition.top : IgcTabHeadersPosition.bottom;\n    const isSingleTab = tabs.length === 1 && position === IgcTabHeadersPosition.bottom;\n    const allowEmpty = pane.type === IgcDockManagerPaneType.tabGroupPane ? pane.allowEmpty : false;\n    const allowMaximize = this.resolveAllowMaximize(pane);\n    let contentIds = [];\n    if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\n      pane.panes.forEach(element => {\n        contentIds.push(element.contentId);\n      });\n    } else {\n      contentIds.push(pane.contentId);\n    }\n    return (allowEmpty || tabs.length > 0) && h(\"igc-tabs-component\", {\n      key: pane.id,\n      contentIds: contentIds,\n      size: pane.size,\n      selectedIndex: selectedIndex,\n      hasHeaders: !isSingleTab,\n      maximized: this.maximizedPane === pane,\n      allowMaximize: position === IgcTabHeadersPosition.top && allowMaximize,\n      onMaximizeMinimizeFocus: this.clearActivePane.bind(this),\n      onMaximize: this.handleMaximize.bind(this, pane),\n      onSelectedIndexChanged: this.handleTabSelectedIndexChanged.bind(this, pane),\n      onHiddenTabSelected: this.handleHiddenTabSelected.bind(this, pane),\n      onSelectedTabOutOfView: this.handleSelectedTabOutOfView.bind(this, pane),\n      onRendered: this.handleTabsRendered.bind(this, pane),\n      tabHeadersPosition: position,\n      resourceStrings: this.resourceStrings,\n      ref: el => {\n        if (el) {\n          this.panesElementMap.set(pane, el);\n        }\n      },\n      class: {\n        'maximized': this.maximizedPane === pane\n      }\n    }, isSingleTab ? this.renderTabPanel(tabs[0], false, isFloating) : tabs.map(p => {\n      return [this.renderTabHeader(p, position, isFloating), this.renderTabPanel(p, isInDocumentHost, isFloating)];\n    }));\n  }\n  renderTabPanel(pane, isInDocumentHost, isFloating) {\n    return h(\"igc-tab-panel-component\", {\n      key: pane.id,\n      disabled: pane.disabled,\n      onMouseDown: isInDocumentHost ? this.handlePaneContentMouseDown.bind(this, pane) : null,\n      onSelectedChanged: this.handleTabSelectedChanged.bind(this, pane),\n      onScroll: isInDocumentHost ? this.handlePaneContentScroll.bind(this, pane) : null\n    }, isInDocumentHost ? h(\"slot\", {\n      name: pane.contentId\n    }) : this.renderContentPane(pane, isFloating, false));\n  }\n  renderTabHeader(pane, position, isFloating) {\n    let forceDrag = false;\n    const allowClose = this.service.getActualAllowClose(pane);\n    const allowPinning = pane.allowPinning !== false;\n    const iconName = isFloating ? allowClose ? 'close' : null : position === IgcTabHeadersPosition.bottom ? allowClose || allowPinning ? 'arrow_drop_down' : null : allowClose ? 'close' : null;\n    if (this.service.forceDragTabHeader === pane) {\n      this.service.forceDragTabHeader = null;\n      forceDrag = true;\n    }\n    return h(\"igc-tab-header-component\", {\n      key: pane.id,\n      slot: \"tabHeader\",\n      isActive: pane === this.activePane,\n      disabled: pane.disabled,\n      showHeaderIconOnHover: this.showHeaderIconOnHover,\n      header: pane.header,\n      resourceStrings: this.resourceStrings,\n      onDragStarted: this.handleTabHeaderDragStart.bind(this, pane),\n      onDragMoved: this.handleTabHeaderDragMove.bind(this, pane),\n      onDragEnded: this.handleTabHeaderDragEnd.bind(this, pane),\n      onMouseDown: this.handleTabHeaderMouseDown.bind(this, pane),\n      onIconKeyDown: this.handleTabIconKeyDown.bind(this, iconName, pane),\n      position: position,\n      onIconClicked: this.handleTabIconClick.bind(this, pane, position, isFloating),\n      iconName: iconName,\n      forcedDrag: forceDrag,\n      onElementConnected: this.emitTabHeaderConnected.bind(this, pane),\n      onElementDisconnected: this.emitTabHeaderDisconnected.bind(this, pane),\n      ref: el => {\n        if (el) {\n          this.tabHeadersMap.set(pane, el);\n        }\n      },\n      onFocusin: this.handleTabHeaderFocus.bind(this, pane)\n    }, pane.tabHeaderId ? h(\"slot\", {\n      name: pane.tabHeaderId\n    }) : h(\"span\", {\n      part: \"header-title\",\n      title: pane.header\n    }, pane.header));\n  }\n  renderSplitPane(splitPane, isFloating, isInDocumentHost) {\n    const panes = this.service.getSplitPaneVisibleChildren(splitPane);\n    return (splitPane.allowEmpty || panes.length > 0) && h(\"igc-split-pane-component\", {\n      key: splitPane.id,\n      orientation: splitPane.orientation,\n      size: splitPane.size,\n      onRendered: this.handleSplitPaneRendered.bind(this, panes),\n      ref: el => {\n        if (el) {\n          this.panesElementMap.set(splitPane, el);\n        }\n      }\n    }, panes.map((p, i) => {\n      let paneComponent;\n      if (p.type === IgcDockManagerPaneType.splitPane) {\n        paneComponent = this.renderSplitPane(p, isFloating, isInDocumentHost);\n      } else if (p.type === IgcDockManagerPaneType.contentPane) {\n        paneComponent = isInDocumentHost ? this.renderTabGroup(p, isFloating, true) : this.renderContentPane(p, isFloating, false);\n      } else if (p.type === IgcDockManagerPaneType.documentHost) {\n        paneComponent = this.renderDocumentHost(p);\n      } else if (p.type === IgcDockManagerPaneType.tabGroupPane) {\n        paneComponent = this.renderTabGroup(p, isFloating, isInDocumentHost);\n      }\n      return i > 0 ? [this.renderSplitter(splitPane, p), paneComponent] : paneComponent;\n    }));\n  }\n  renderUnpinnedTabArea(location) {\n    const panes = [];\n    const isHorizontal = location === IgcUnpinnedLocation.top || location === IgcUnpinnedLocation.bottom;\n    const isLeft = location === IgcUnpinnedLocation.left;\n    const isRight = location === IgcUnpinnedLocation.right;\n    const isBottom = location === IgcUnpinnedLocation.bottom;\n    this.service.unpinnedLocationMap.forEach((l, p) => {\n      if (l === location && p.hidden !== true) {\n        panes.push(p);\n      }\n    });\n    const tabAreaClasses = {\n      'unpinned-tab-area': true,\n      'unpinned-tab-area--left': isLeft,\n      'unpinned-tab-area--right': isRight,\n      'unpinned-tab-area--bottom': isBottom,\n      'unpinned-tab-area--horizontal': isHorizontal,\n      'unpinned-tab-area--hidden': panes.length === 0\n    };\n    return h(\"div\", {\n      class: tabAreaClasses,\n      part: Utils.partNameMap(tabAreaClasses),\n      role: \"tablist\",\n      \"aria-orientation\": isHorizontal ? 'horizontal' : 'vertical'\n    }, panes.map(p => h(\"igc-unpinned-pane-header-component\", {\n      location: location,\n      isActive: p === this.activePane,\n      disabled: p.disabled,\n      onMouseDown: this.handleUnpinnedTabMouseDown.bind(this, p),\n      onKeyDown: this.handleUnpinnedTabKeyDown.bind(this, p),\n      onFocus: this.handleUnpinnedHeaderFocus.bind(this, p),\n      ref: el => {\n        if (el) {\n          const slot = el.querySelector('slot');\n          if (slot && p.unpinnedHeaderId) {\n            slot.name = p.unpinnedHeaderId;\n          }\n          this.unpinnedHeadersMap.set(p, el);\n        }\n      }\n    }, p.unpinnedHeaderId ? h(\"slot\", {\n      name: p.unpinnedHeaderId\n    }) : p.header)));\n  }\n  renderFlyoutPane() {\n    const location = this.service.unpinnedLocationMap.get(this.flyoutPane);\n    const flyoutClasses = {\n      'flyout-pane': true,\n      'flyout-pane--right': location === IgcUnpinnedLocation.right,\n      'flyout-pane--bottom': location === IgcUnpinnedLocation.bottom,\n      'flyout-pane--left': location === IgcUnpinnedLocation.left\n    };\n    let splitPaneOrientation = IgcSplitPaneOrientation.vertical;\n    if (location === IgcUnpinnedLocation.left || location === IgcUnpinnedLocation.right) {\n      splitPaneOrientation = IgcSplitPaneOrientation.horizontal;\n    }\n    const maximized = this.maximizedPane === this.flyoutPane;\n    return this.flyoutPane && h(\"div\", {\n      class: flyoutClasses,\n      style: {\n        'z-index': maximized ? '10002' : '2'\n      }\n    }, this.renderContentPane(this.flyoutPane, false, true), h(\"igc-splitter-component\", {\n      flyoutLocation: location,\n      splitPaneOrientation: splitPaneOrientation,\n      onResizeStart: this.handleSplitterResizeStart.bind(this, this.flyoutPane),\n      onResizeEnd: this.handleFlyoutSplitterResizeEnd.bind(this, this.flyoutPane, splitPaneOrientation)\n    }));\n  }\n  renderFloatingPanes() {\n    var _a, _b;\n    return h(\"div\", {\n      class: \"floating-panes\",\n      style: {\n        position: this.maximizedPane ? 'absolute' : 'fixed'\n      }\n    }, (_b = (_a = this.layout) === null || _a === void 0 ? void 0 : _a.floatingPanes) === null || _b === void 0 ? void 0 : _b.map(p => {\n      var _a;\n      const panes = this.service.getSplitPaneVisibleChildren(p);\n      if (panes.length === 0) {\n        return null;\n      }\n      const hasHeader = this.service.hasFloatingPaneHeader(p);\n      let forceDrag = false;\n      if (p === this.service.forceDragPane && hasHeader) {\n        this.service.forceDragPane = null;\n        forceDrag = true;\n      }\n      const containsMaximizedPane = this.maximizedPane && this.service.getRootParent(this.maximizedPane) === p;\n      return h(\"igc-floating-pane-component\", {\n        key: p.id,\n        floatingId: p.id,\n        style: {\n          zIndex: this.floatingPaneZIndicesMap.get(p).toString()\n        },\n        floatingLocation: p.floatingLocation ? p.floatingLocation : {\n          x: 0,\n          y: 0\n        },\n        floatingWidth: p.floatingWidth ? p.floatingWidth : IGC_DEFAULT_PANE_SIZE,\n        floatingHeight: p.floatingHeight ? p.floatingHeight : IGC_DEFAULT_PANE_SIZE,\n        hasHeader: hasHeader,\n        onWndResizeStart: this.handleFloatingPaneResizeStart.bind(this, p),\n        onWndResizeMove: this.handleFloatingPaneResizeMove.bind(this, p),\n        onWndResizeEnd: this.handleFloatingPaneResizeEnd.bind(this, p),\n        onMouseDown: this.handleFloatingPaneMouseDown.bind(this, p),\n        class: {\n          'maximized': this.maximizedPane === p\n        },\n        maximized: this.maximizedPane === p || containsMaximizedPane,\n        allowResize: (_a = p.floatingResizable) !== null && _a !== void 0 ? _a : this.allowFloatingPanesResize\n      }, hasHeader ? h(\"igc-pane-header-component\", {\n        slot: \"header\",\n        isFloating: true,\n        isFloatingPaneHeader: true,\n        forcedDrag: forceDrag,\n        allowMaximize: this.resolveAllowMaximize(p),\n        maximized: this.maximizedPane === p,\n        resourceStrings: this.resourceStrings,\n        onDragStarted: this.handlePaneDragStart.bind(this, p),\n        onDragMoved: this.handlePaneDragMove.bind(this),\n        onDragEnded: this.handlePaneDragEnd.bind(this),\n        onClose: this.handleFloatingPaneClose.bind(this, p),\n        onMaximize: this.handleMaximize.bind(this, p),\n        onFocusin: this.clearActivePane.bind(this)\n      }) : null, this.renderSplitPane(p, true, false));\n    }));\n  }\n  renderRootDockingIndicator(position) {\n    return h(\"igc-root-docking-indicator-component\", {\n      position: position\n    });\n  }\n  renderDockingIndicators() {\n    const startPosition = this.direction !== 'rtl' ? IgcDockingIndicatorPosition.left : IgcDockingIndicatorPosition.right;\n    const endPosition = this.direction !== 'rtl' ? IgcDockingIndicatorPosition.right : IgcDockingIndicatorPosition.left;\n    return h(\"div\", {\n      class: \"docking-indicators-container\",\n      style: {\n        display: this.showDockingIndicators ? 'flex' : 'none'\n      }\n    }, !this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(IgcDockingIndicatorPosition.top), h(\"div\", {\n      style: {\n        flexGrow: '1',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n      }\n    }, !this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(startPosition), !this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(endPosition)), !this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(IgcDockingIndicatorPosition.bottom), this.dropTargetPaneInfo && !this.proximityDock && h(\"igc-joystick-indicator-component\", {\n      dropTargetPaneInfo: this.dropTargetPaneInfo,\n      documentOnlyDrag: this.documentOnlyDrag,\n      allowCenterDock: this.allowInnerDock\n    }));\n  }\n  renderContextMenu() {\n    return this.contextMenuMeta && h(\"igc-context-menu-component\", {\n      onMenuClosed: this.handleContextMenuClosed.bind(this),\n      orientation: IgcContextMenuOrientation.bottom,\n      items: this.contextMenuMeta.menuItems,\n      target: this.contextMenuMeta.target,\n      position: this.contextMenuMeta.position\n    });\n  }\n  renderDropShadow() {\n    var _a, _b, _c, _d;\n    return this.dropShadowRect && h(\"div\", {\n      part: \"docking-preview\",\n      class: \"drop-shadow\",\n      style: {\n        top: `${(_a = this.dropShadowRect) === null || _a === void 0 ? void 0 : _a.y}px`,\n        left: `${(_b = this.dropShadowRect) === null || _b === void 0 ? void 0 : _b.x}px`,\n        width: `${(_c = this.dropShadowRect) === null || _c === void 0 ? void 0 : _c.width}px`,\n        height: `${(_d = this.dropShadowRect) === null || _d === void 0 ? void 0 : _d.height}px`\n      }\n    });\n  }\n  handlePaneNavigatorClosed(ev) {\n    this.service.normalizeMaximizedPane(ev.detail);\n    const parent = this.service.getRootParent(ev.detail);\n    const isParentFloating = this.service.isFloatingPane(parent);\n    if (isParentFloating) {\n      this.service.bringFloatingPaneOnTop(parent);\n    }\n    if (ev.detail && this.activePane !== ev.detail) {\n      this.activePane = ev.detail;\n    }\n    this.navigationPaneMeta = null;\n  }\n  renderPaneNavigator() {\n    return this.navigationPaneMeta && h(\"igc-pane-navigator-component\", {\n      onClosed: this.handlePaneNavigatorClosed.bind(this),\n      activePanes: this.navigationPaneMeta.activePanes,\n      activeDocuments: this.navigationPaneMeta.activeDocuments,\n      selectedIndex: this.navigationPaneMeta.initialIndex,\n      previousActivePaneIndex: this.navigationPaneMeta.previousActivePaneIndex,\n      resourceStrings: this.resourceStrings\n    });\n  }\n  render() {\n    var _a;\n    this.panesElementMap = new TwoWayMap();\n    this.tabHeadersMap = new Map();\n    this.unpinnedHeadersMap = new Map();\n    this.contentPanesElementMap = new Map();\n    return h(Host, {\n      tabindex: \"0\",\n      role: \"group\"\n    }, this.renderButtonsTemplates(), this.renderUnpinnedTabArea(IgcUnpinnedLocation.left), h(\"div\", {\n      class: \"pane-container--vertical\",\n      style: {\n        position: this.maximizedPane ? 'absolute' : 'relative'\n      }\n    }, this.renderUnpinnedTabArea(IgcUnpinnedLocation.top), h(\"div\", {\n      ref: el => this.dockedPanesContainer = el,\n      class: \"pane-container--horizontal\",\n      style: {\n        position: this.maximizedPane ? 'absolute' : 'relative'\n      }\n    }, ((_a = this.layout) === null || _a === void 0 ? void 0 : _a.rootPane) && this.renderSplitPane(this.layout.rootPane, false, false), this.renderFlyoutPane(), this.renderDockingIndicators()), this.renderUnpinnedTabArea(IgcUnpinnedLocation.bottom)), this.renderUnpinnedTabArea(IgcUnpinnedLocation.right), this.renderFloatingPanes(), this.renderContextMenu(), this.renderPaneNavigator(), h(\"igc-trial-watermark\", {\n      text: \"Trial version of Ignite UI\",\n      style: {\n        'z-index': '10005'\n      }\n    }), this.renderDropShadow());\n  }\n  get element() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"flyoutPane\": [\"flyoutPaneChanged\"],\n      \"containedInBoundaries\": [\"containedInBoundariesChanged\"],\n      \"layout\": [\"layoutChanged\"],\n      \"draggedPane\": [\"draggedPaneChanged\"],\n      \"dropPosition\": [\"dropPositionChanged\"],\n      \"activePane\": [\"activePaneChange\"]\n    };\n  }\n};\nIgcDockManager.style = dockmanagerComponentCss;\nconst documentHostComponentCss = \".sc-igc-document-host-component-h{display:flex;box-sizing:border-box;min-width:0px;min-height:0px}\";\nconst IgcDocumentHostComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.size = undefined;\n  }\n  render() {\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\n    return h(Host, {\n      role: \"group\",\n      style: {\n        flex: `${size} 1 ${size}px`\n      }\n    });\n  }\n};\nIgcDocumentHostComponent.style = documentHostComponentCss;\nconst floatingPaneComponentCss = \":host{--min-pane-size:30px;display:flex;flex-direction:column;overflow:visible;min-width:var(--min-pane-size);min-height:var(--min-pane-size);box-sizing:border-box;color:var(--igc-dock-text, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-dock-background, var(--igc-background-color, #E5E7E9));pointer-events:all;border:1px solid var(--igc-floating-pane-border-color, var(--igc-border-color, #F3F5F7));box-shadow:0 4px 16px rgba(0, 0, 0, 0.24);z-index:0}\";\nconst IgcFloatingPaneComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.wndResizeStart = createEvent(this, \"wndResizeStart\", 7);\n    this.wndResizeMove = createEvent(this, \"wndResizeMove\", 7);\n    this.wndResizeEnd = createEvent(this, \"wndResizeEnd\", 7);\n    this.allowResize = true;\n    this.floatingLocation = undefined;\n    this.floatingWidth = undefined;\n    this.floatingHeight = undefined;\n    this.hasHeader = undefined;\n    this.maximized = undefined;\n    this.floatingMinHeight = IGC_DEFAULT_PANE_SIZE;\n    this.floatingMinWidth = IGC_DEFAULT_PANE_SIZE;\n    this.floatingId = undefined;\n  }\n  handleResizerMove(event) {\n    const el = event.target;\n    this.wndResizeMove.emit({\n      dragMoveArgs: event.detail,\n      resizerLocation: el.orientation\n    });\n  }\n  handleResizeStart(event) {\n    const el = event.target;\n    const args = {\n      dragMoveArgs: Object.assign(Object.assign({}, event.detail), {\n        offsetX: 0,\n        offsetY: 0\n      }),\n      resizerLocation: el.orientation\n    };\n    this.wndResizeStart.emit(args);\n    if (args.dragMoveArgs.cancel) {\n      event.detail.cancel = true;\n    }\n  }\n  handleResizeEnd(event) {\n    const el = event.target;\n    this.wndResizeEnd.emit({\n      dragMoveArgs: event.detail,\n      resizerLocation: el.orientation\n    });\n  }\n  render() {\n    const styles = {\n      position: 'absolute',\n      left: this.floatingLocation.x + 'px',\n      top: this.floatingLocation.y + 'px',\n      minWidth: this.floatingMinWidth + 'px',\n      minHeight: this.floatingMinHeight + 'px',\n      width: this.floatingWidth + 'px',\n      height: this.floatingHeight + 'px'\n    };\n    return h(Host, {\n      style: this.maximized ? {} : styles,\n      role: \"dialog\",\n      \"aria-label\": \"dialog\",\n      part: \"floating-window\"\n    }, this.allowResize && h(Fragment, null, h(\"igc-resizer-component\", {\n      orientation: IgcResizerLocation.left,\n      onResizerDragStart: this.handleResizeStart.bind(this),\n      onResizerMoved: this.handleResizerMove.bind(this),\n      onResizerDragEnd: this.handleResizeEnd.bind(this)\n    }), h(\"igc-resizer-component\", {\n      orientation: IgcResizerLocation.top,\n      onResizerDragStart: this.handleResizeStart.bind(this),\n      onResizerMoved: this.handleResizerMove.bind(this),\n      onResizerDragEnd: this.handleResizeEnd.bind(this)\n    }), h(\"igc-resizer-component\", {\n      orientation: IgcResizerLocation.right,\n      onResizerDragStart: this.handleResizeStart.bind(this),\n      onResizerMoved: this.handleResizerMove.bind(this),\n      onResizerDragEnd: this.handleResizeEnd.bind(this)\n    }), h(\"igc-resizer-component\", {\n      orientation: IgcResizerLocation.bottom,\n      onResizerDragStart: this.handleResizeStart.bind(this),\n      onResizerMoved: this.handleResizerMove.bind(this),\n      onResizerDragEnd: this.handleResizeEnd.bind(this)\n    })), h(\"slot\", {\n      name: \"header\"\n    }), h(\"slot\", null), this.allowResize && h(Fragment, null, h(\"igc-resizer-component\", {\n      orientation: IgcResizerLocation.topRight,\n      onResizerDragStart: this.handleResizeStart.bind(this),\n      onResizerMoved: this.handleResizerMove.bind(this),\n      onResizerDragEnd: this.handleResizeEnd.bind(this)\n    }), h(\"igc-resizer-component\", {\n      orientation: IgcResizerLocation.topLeft,\n      onResizerDragStart: this.handleResizeStart.bind(this),\n      onResizerMoved: this.handleResizerMove.bind(this),\n      onResizerDragEnd: this.handleResizeEnd.bind(this)\n    }), h(\"igc-resizer-component\", {\n      orientation: IgcResizerLocation.bottomRight,\n      onResizerDragStart: this.handleResizeStart.bind(this),\n      onResizerMoved: this.handleResizerMove.bind(this),\n      onResizerDragEnd: this.handleResizeEnd.bind(this)\n    }), h(\"igc-resizer-component\", {\n      orientation: IgcResizerLocation.bottomLeft,\n      onResizerDragStart: this.handleResizeStart.bind(this),\n      onResizerMoved: this.handleResizerMove.bind(this),\n      onResizerDragEnd: this.handleResizeEnd.bind(this)\n    })));\n  }\n  get elem() {\n    return getElement(this);\n  }\n};\nIgcFloatingPaneComponent.style = floatingPaneComponentCss;\n\n/**\n * @hidden\n */\nconst icons = {\n  close: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>`,\n  pin: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z\"/>\n    </svg>`,\n  unpin: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path fill=\"none\" d=\"M0 0h24v25H0V0z\"/>\n      <path d=\"M11.84 14.08L6.7 19.22H5.28V17.8l5.14-5.14L2 4.26 3.29 3l18 18L20 22.21zm4-.49l-5-5h.73l3.55-3.54v-2.8l7.07 7.07h-2.77l-3.54 3.54z\" />\n    </svg>`,\n  first_page: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"/>\n      <path fill=\"none\" d=\"M24 24H0V0h24v24z\"/>\n    </svg>`,\n  chevron_left: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    </svg>`,\n  flip: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/>\n    </svg>`,\n  crop_square: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z\"/>\n    </svg>\n    `,\n  arrow_drop_down: `<svg class=\"icon icon-arrow_drop_down\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M7 10l5 5 5-5z\"></path>\n    </svg>`,\n  maximize: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n        <path d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z\"/>\n    </svg>`,\n  minimize: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n      <path d=\"M6 19h12v2H6z\"/>\n    </svg>`,\n  more: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n      <path d=\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"/>\n    </svg>`\n};\nconst iconComponentCss = \".sc-igc-icon-component-h{display:flex;align-items:center;justify-content:center;width:17px;height:17px;fill:currentColor}\";\nconst IgcIconComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.name = undefined;\n  }\n  render() {\n    return h(Host, {\n      innerHTML: icons[this.name]\n    });\n  }\n};\nIgcIconComponent.style = iconComponentCss;\nconst joystickIconComponentCss = \".sc-igc-joystick-icon-component-h{display:flex;width:30px;height:30px;align-items:center;justify-content:center;color:var(--igc-joystick-icon-color, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-joystick-background, var(--igc-accent-color, #fff));border:1px solid var(--igc-joystick-border-color, var(--igc-accent-color, #fff))}.inner-top.sc-igc-joystick-icon-component-h{border-bottom:none}.inner-start.sc-igc-joystick-icon-component-h{border-right:none}.inner-end.sc-igc-joystick-icon-component-h{border-left:none}.inner-bottom.sc-igc-joystick-icon-component-h{border-top:none}.inner-center.sc-igc-joystick-icon-component-h{border:1px solid var(--igc-joystick-background, var(--igc-accent-color, #fff))}.sc-igc-joystick-icon-component-h:hover{background:var(--igc-joystick-background-active, var(--igc-accent-color, #fff));color:var(--igc-joystick-icon-color-active, #000)}\";\nconst IgcJoystickIconComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.isDocHost = undefined;\n    this.position = undefined;\n    this.direction = undefined;\n    this.empty = undefined;\n  }\n  resolveIconDivClass() {\n    let positionClass;\n    switch (this.position) {\n      case IgcDockingIndicatorPosition.outerTop:\n        positionClass = 'outer-top';\n        break;\n      case IgcDockingIndicatorPosition.outerBottom:\n        positionClass = 'outer-bottom';\n        break;\n      case IgcDockingIndicatorPosition.outerLeft:\n        positionClass = 'outer-start';\n        break;\n      case IgcDockingIndicatorPosition.outerRight:\n        positionClass = 'outer-end';\n        break;\n      case IgcDockingIndicatorPosition.top:\n        positionClass = 'inner-top';\n        break;\n      case IgcDockingIndicatorPosition.bottom:\n        positionClass = 'inner-bottom';\n        break;\n      case IgcDockingIndicatorPosition.left:\n        positionClass = 'inner-start';\n        break;\n      case IgcDockingIndicatorPosition.right:\n        positionClass = 'inner-end';\n        break;\n      case IgcDockingIndicatorPosition.center:\n        positionClass = 'inner-center';\n        break;\n    }\n    const classes = {};\n    if (positionClass) {\n      classes[positionClass] = true;\n    }\n    return classes;\n  }\n  resolveMargin() {\n    switch (this.position) {\n      case IgcDockingIndicatorPosition.outerTop:\n        return '0px 0px 10px 0px';\n      case IgcDockingIndicatorPosition.outerRight:\n        return '0px 0px 0px 10px';\n      case IgcDockingIndicatorPosition.outerLeft:\n        return '0px 10px 0px 0px';\n      case IgcDockingIndicatorPosition.outerBottom:\n        return '10px 0px 0px 0px';\n      default:\n        return '0px';\n    }\n  }\n  resolveGridRow() {\n    switch (this.position) {\n      case IgcDockingIndicatorPosition.outerTop:\n        return '1';\n      case IgcDockingIndicatorPosition.top:\n        return this.isDocHost ? '2' : '1';\n      case IgcDockingIndicatorPosition.center:\n        return this.isDocHost ? '3' : '2';\n      case IgcDockingIndicatorPosition.outerRight:\n      case IgcDockingIndicatorPosition.outerLeft:\n        return '3';\n      case IgcDockingIndicatorPosition.right:\n      case IgcDockingIndicatorPosition.left:\n        return this.isDocHost ? '3' : '2';\n      case IgcDockingIndicatorPosition.outerBottom:\n        return '5';\n      case IgcDockingIndicatorPosition.bottom:\n        return this.isDocHost ? '4' : '3';\n    }\n  }\n  resolveGridColumn() {\n    switch (this.position) {\n      case IgcDockingIndicatorPosition.outerLeft:\n        return this.direction !== 'rtl' ? '1' : '5';\n      case IgcDockingIndicatorPosition.left:\n        if (this.direction !== 'rtl') {\n          return this.isDocHost ? '2' : '1';\n        } else {\n          return this.isDocHost ? '4' : '3';\n        }\n      case IgcDockingIndicatorPosition.center:\n        return this.isDocHost ? '3' : '2';\n      case IgcDockingIndicatorPosition.outerTop:\n      case IgcDockingIndicatorPosition.outerBottom:\n        return '3';\n      case IgcDockingIndicatorPosition.top:\n      case IgcDockingIndicatorPosition.bottom:\n        return this.isDocHost ? '3' : '2';\n      case IgcDockingIndicatorPosition.outerRight:\n        return this.direction !== 'rtl' ? '5' : '1';\n      case IgcDockingIndicatorPosition.right:\n        if (this.direction !== 'rtl') {\n          return this.isDocHost ? '4' : '3';\n        } else {\n          return this.isDocHost ? '2' : '1';\n        }\n    }\n  }\n  renderIcon() {\n    const position = this.position;\n    if (position === IgcDockingIndicatorPosition.outerLeft || position === IgcDockingIndicatorPosition.left && !this.isDocHost) {\n      return h(\"igc-icon-component\", {\n        name: \"chevron_left\"\n      });\n    } else if (position === IgcDockingIndicatorPosition.left) {\n      return h(\"igc-icon-component\", {\n        name: \"flip\",\n        style: {\n          transform: 'rotate(180deg)'\n        }\n      });\n    } else if (position === IgcDockingIndicatorPosition.outerTop || position === IgcDockingIndicatorPosition.top && !this.isDocHost) {\n      return h(\"igc-icon-component\", {\n        name: \"chevron_left\",\n        style: {\n          transform: 'rotate(90deg)'\n        }\n      });\n    } else if (position === IgcDockingIndicatorPosition.top) {\n      return h(\"igc-icon-component\", {\n        name: \"flip\",\n        style: {\n          transform: 'rotate(270deg)'\n        }\n      });\n    } else if (position === IgcDockingIndicatorPosition.center) {\n      return h(\"igc-icon-component\", {\n        name: \"crop_square\"\n      });\n    } else if (position === IgcDockingIndicatorPosition.outerRight || position === IgcDockingIndicatorPosition.right && !this.isDocHost) {\n      return h(\"igc-icon-component\", {\n        name: \"chevron_left\",\n        style: {\n          transform: 'rotate(180deg)'\n        }\n      });\n    } else if (position === IgcDockingIndicatorPosition.right) {\n      return h(\"igc-icon-component\", {\n        name: \"flip\"\n      });\n    } else if (position === IgcDockingIndicatorPosition.outerBottom || position === IgcDockingIndicatorPosition.bottom && !this.isDocHost) {\n      return h(\"igc-icon-component\", {\n        name: \"chevron_left\",\n        style: {\n          transform: 'rotate(270deg)'\n        }\n      });\n    } else if (position === IgcDockingIndicatorPosition.bottom) {\n      return h(\"igc-icon-component\", {\n        name: \"flip\",\n        style: {\n          transform: 'rotate(90deg)'\n        }\n      });\n    }\n  }\n  render() {\n    return h(Host, {\n      part: \"docking-indicator\",\n      class: this.resolveIconDivClass(),\n      style: {\n        gridRow: this.resolveGridRow(),\n        gridColumn: this.resolveGridColumn(),\n        margin: this.resolveMargin()\n      }\n    }, !this.empty && this.renderIcon());\n  }\n};\nIgcJoystickIconComponent.style = joystickIconComponentCss;\nconst joystickIndicatorComponentCss = \".sc-igc-joystick-indicator-component-h{position:fixed;display:flex;align-items:center;justify-content:center}.indicators-container.sc-igc-joystick-indicator-component{display:grid;grid-template-columns:repeat(3, auto);grid-template-rows:repeat(3, auto);box-sizing:border-box;pointer-events:all}.indicators-container--doc-host.sc-igc-joystick-indicator-component{grid-template-columns:repeat(5, auto);grid-template-rows:repeat(5, auto)}\";\nconst IgcJoystickIndicatorComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.dropTargetPaneInfo = undefined;\n    this.documentOnlyDrag = undefined;\n    this.allowCenterDock = undefined;\n  }\n  isEmptyCenter(position) {\n    return this.documentOnlyDrag && position === IgcDockingIndicatorPosition.center && this.dropTargetPaneInfo.floatingPaneWithoutDocHost;\n  }\n  isEmptyEdge(position) {\n    return this.documentOnlyDrag && position !== IgcDockingIndicatorPosition.center && this.dropTargetPaneInfo.pane.type === IgcDockManagerPaneType.documentHost;\n  }\n  closestElement(selector, el) {\n    return el && el.closest(selector) || this.closestElement(selector, el.getRootNode().host);\n  }\n  shouldAllowCenterDock() {\n    let targetPane = this.dropTargetPaneInfo.pane;\n    targetPane = targetPane.type === IgcDockManagerPaneType.tabGroupPane && targetPane.selectedIndex > -1 ? targetPane.panes[targetPane.selectedIndex] : targetPane;\n    return targetPane.type === IgcDockManagerPaneType.contentPane && targetPane.acceptsInnerDock !== undefined && this.allowCenterDock ? targetPane.acceptsInnerDock : this.allowCenterDock;\n  }\n  renderBlankIndicator(position) {\n    return h(\"igc-joystick-icon-component\", {\n      isDocHost: this.isDocHost,\n      position: position,\n      direction: Utils.getDirection(this.closestElement('igc-dockmanager', this.element)),\n      empty: true\n    });\n  }\n  renderIndicator(position) {\n    return h(\"igc-joystick-icon-component\", {\n      isDocHost: this.isDocHost,\n      position: position,\n      direction: Utils.getDirection(this.closestElement('igc-dockmanager', this.element)),\n      empty: this.isEmptyCenter(position) || this.isEmptyEdge(position)\n    });\n  }\n  render() {\n    this.isDocHost = !!this.dropTargetPaneInfo.docHost;\n    return h(Host, {\n      style: {\n        top: `${this.dropTargetPaneInfo.targetRect.y}px`,\n        left: `${this.dropTargetPaneInfo.targetRect.x}px`,\n        width: `${this.dropTargetPaneInfo.targetRect.width}px`,\n        height: `${this.dropTargetPaneInfo.targetRect.height}px`\n      }\n    }, h(\"div\", {\n      class: {\n        'indicators-container': true,\n        'indicators-container--doc-host': this.isDocHost\n      }\n    }, this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerLeft), this.renderIndicator(IgcDockingIndicatorPosition.left), this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerTop), this.renderIndicator(IgcDockingIndicatorPosition.top), !this.shouldAllowCenterDock() && this.renderBlankIndicator(IgcDockingIndicatorPosition.center), this.shouldAllowCenterDock() && this.renderIndicator(IgcDockingIndicatorPosition.center), this.renderIndicator(IgcDockingIndicatorPosition.right), this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerRight), this.renderIndicator(IgcDockingIndicatorPosition.bottom), this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerBottom)));\n  }\n  get element() {\n    return getElement(this);\n  }\n};\nIgcJoystickIndicatorComponent.style = joystickIndicatorComponentCss;\nconst IGNORE_DRAG = 'data-ignore-drag';\n/**\n * @hidden\n */\nclass IgcDragService {\n  get captureTarget() {\n    return this._capturedElement || this.element;\n  }\n  set captureTarget(val) {\n    this._capturedElement = val;\n  }\n  constructor(element) {\n    this.element = element;\n    this.dragTolerance = 5;\n    this.dragEdgeTolerance = 0;\n    this.handleWheel = event => {\n      event.preventDefault();\n    };\n    this.handlePointerDown = event => {\n      let targets = event.composedPath();\n      targets = targets.slice(0, targets.indexOf(event.currentTarget));\n      for (const target of targets) {\n        if (target instanceof Element && target.hasAttribute(IGNORE_DRAG)) {\n          return;\n        }\n      }\n      // TODO Not sure if we need this\n      // this.element.focus();\n      // event.preventDefault();\n      this.startX = event.clientX;\n      this.startY = event.clientY;\n      this.lastX = this.startX;\n      this.lastY = this.startY;\n      this.captureTarget = event.target;\n      this.captureTarget.setPointerCapture(event.pointerId);\n      this.subscribeDragEvents();\n    };\n    this.handlePointerMove = event => {\n      event.preventDefault();\n      const maxHeight = document.documentElement.clientHeight;\n      const maxWidth = document.documentElement.clientWidth;\n      if (event.clientX < this.dragEdgeTolerance) {\n        this.currentX = this.dragEdgeTolerance;\n      } else if (event.clientX > maxWidth - this.dragEdgeTolerance) {\n        this.currentX = maxWidth - this.dragEdgeTolerance;\n      } else {\n        this.currentX = event.clientX;\n      }\n      if (event.clientY < this.dragEdgeTolerance) {\n        this.currentY = this.dragEdgeTolerance;\n      } else if (event.clientY > maxHeight - this.dragEdgeTolerance) {\n        this.currentY = maxHeight - this.dragEdgeTolerance;\n      } else {\n        this.currentY = event.clientY;\n      }\n      if (!this.dragStarted) {\n        if (this.forcedDrag) {\n          this.forcedDrag = false;\n          this.startX = this.currentX;\n          this.startY = this.currentY;\n          this.lastX = this.startX;\n          this.lastY = this.startY;\n          this.captureTarget.setPointerCapture(event.pointerId);\n          this.triggerDragStart();\n        } else {\n          const offsetX = this.currentX - this.lastX;\n          const offsetY = this.currentY - this.lastY;\n          if (Math.abs(offsetX) > this.dragTolerance || Math.abs(offsetY) > this.dragTolerance) {\n            this.triggerDragStart();\n          }\n        }\n      }\n      if (!this.dragStarted) {\n        return;\n      }\n      if (this.dragMove) {\n        const args = {\n          offsetX: this.currentX - this.lastX,\n          offsetY: this.currentY - this.lastY,\n          totalOffsetX: this.currentX - this.startX,\n          totalOffsetY: this.currentY - this.startY,\n          clientX: this.currentX,\n          clientY: this.currentY\n        };\n        this.dragMove(args);\n        if (args.cancel) {\n          this.unsubscribeDragEvents();\n        }\n      }\n      this.lastX = this.currentX;\n      this.lastY = this.currentY;\n    };\n    this.handlePointerUp = event => {\n      this.unsubscribeDragEvents();\n      this.captureTarget.releasePointerCapture(event.pointerId);\n      if (this.dragStarted && this.dragEnd) {\n        this.dragEnd({\n          offsetX: this.currentX - this.startX,\n          offsetY: this.currentY - this.startY,\n          clientX: event.clientX,\n          clientY: event.clientY\n        });\n      }\n    };\n    this.element.addEventListener('pointerdown', this.handlePointerDown, false);\n  }\n  triggerDragStart() {\n    if (this.dragStart) {\n      const args = {\n        clientX: this.startX,\n        clientY: this.startY\n      };\n      this.dragStart(args);\n      if (args.cancel) {\n        this.unsubscribeDragEvents();\n        return;\n      }\n    }\n    this.dragStarted = true;\n  }\n  subscribeDragEvents() {\n    this.dragStarted = false;\n    document.addEventListener('pointermove', this.handlePointerMove, false);\n    document.addEventListener('pointerup', this.handlePointerUp, false);\n    document.addEventListener('wheel', this.handleWheel, {\n      passive: false\n    });\n  }\n  unsubscribeDragEvents() {\n    document.removeEventListener('pointermove', this.handlePointerMove);\n    document.removeEventListener('pointerup', this.handlePointerUp);\n    document.removeEventListener('wheel', this.handleWheel);\n  }\n  destroy() {\n    this.element.removeEventListener('pointerdown', this.handlePointerDown);\n    this.unsubscribeDragEvents();\n    this.element = null;\n    this.dragStart = null;\n    this.dragEnd = null;\n    this.dragMove = null;\n  }\n  forceDragging() {\n    this.forcedDrag = true;\n    this.subscribeDragEvents();\n  }\n}\nconst paneHeaderComponentCss = \":host{display:flex;align-items:center;box-sizing:border-box;user-select:none;padding:4px 8px;font-size:14px;font-weight:400;color:var(--igc-pane-header-text, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-pane-header-background, var(--igc-background-color, #E5E7E9));min-height:40px}:host igc-icon-component svg{width:17px;height:17px}:host([part~=window]){border-bottom:1px solid var(--igc-border-color, #F3F5F7);min-height:auto}.header-text{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;flex:1 1 100%;line-height:2.3}.header-actions{display:flex}.header-actions igc-button-component+igc-button-component{margin-left:4px}:host([part~=active]){box-shadow:inset 0 -2px 0 0 var(--igc-active-color, cornflowerblue);color:var(--igc-active-color, cornflowerblue)}:host([part~=disabled]){pointer-events:none;color:var(--igc-disabled-color, rgba(0, 0, 0, 0.38))}\";\nconst IgcPaneHeaderComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.pinToggle = createEvent(this, \"pinToggle\", 7);\n    this.maximize = createEvent(this, \"maximize\", 3);\n    this.close = createEvent(this, \"close\", 7);\n    this.dragStarted = createEvent(this, \"dragStarted\", 7);\n    this.dragEnded = createEvent(this, \"dragEnded\", 7);\n    this.dragMoved = createEvent(this, \"dragMoved\", 7);\n    this.elementConnected = createEvent(this, \"elementConnected\", 7);\n    this.elementDisconnected = createEvent(this, \"elementDisconnected\", 7);\n    this.pinButtonClick = () => {\n      this.pinToggle.emit();\n    };\n    this.maximizeButtonClick = () => {\n      this.maximize.emit();\n    };\n    this.closeButtonClick = () => {\n      this.close.emit();\n    };\n    this.dragService = undefined;\n    this.pinned = undefined;\n    this.maximized = undefined;\n    this.isFloating = undefined;\n    this.forcedDrag = undefined;\n    this.isFloatingPaneHeader = undefined;\n    this.allowClose = true;\n    this.allowMaximize = true;\n    this.allowPinning = true;\n    this.pane = undefined;\n    this.isActive = undefined;\n    this.disabled = false;\n    this.resourceStrings = undefined;\n  }\n  connectedCallback() {\n    this.dragService = new IgcDragService(this.element);\n    this.dragService.dragEdgeTolerance = 3;\n    this.dragService.dragStart = args => {\n      this.dragStarted.emit(args);\n    };\n    this.dragService.dragEnd = args => {\n      this.dragEnded.emit(args);\n    };\n    this.dragService.dragMove = args => {\n      this.dragMoved.emit(args);\n    };\n    this.forceDragging();\n    this.elementConnected.emit(this.element);\n  }\n  disconnectedCallback() {\n    if (this.dragService) {\n      this.dragService.destroy();\n    }\n    this.elementDisconnected.emit(this.element);\n  }\n  forcedDragChanged() {\n    this.forceDragging();\n  }\n  forceDragging() {\n    if (this.forcedDrag) {\n      this.dragService.forceDragging();\n    }\n  }\n  renderCloseButton() {\n    return h(\"slot\", {\n      name: \"paneHeaderCloseButton\"\n    }, h(\"igc-button-component\", {\n      part: \"pane-header-close-button\"\n    }, h(\"igc-icon-component\", {\n      name: \"close\",\n      \"aria-label\": this.resourceStrings.close,\n      title: this.resourceStrings.close\n    })));\n  }\n  renderMaximizeButton() {\n    return h(\"slot\", {\n      name: \"paneHeaderMaximizeButton\"\n    }, h(\"igc-button-component\", {\n      part: \"pane-header-maximize-button\"\n    }, h(\"igc-icon-component\", {\n      name: \"maximize\",\n      \"aria-label\": this.resourceStrings.maximize,\n      title: this.resourceStrings.maximize\n    })));\n  }\n  renderMinimizeButton() {\n    return h(\"div\", null, h(\"slot\", {\n      name: \"paneHeaderMinimizeButton\"\n    }, h(\"igc-button-component\", {\n      part: \"pane-header-minimize-button\"\n    }, h(\"igc-icon-component\", {\n      name: \"minimize\",\n      \"aria-label\": this.resourceStrings.minimize,\n      title: this.resourceStrings.minimize\n    }))));\n  }\n  renderPinButton() {\n    return h(Fragment, null, !this.isFloating && h(\"slot\", {\n      name: \"paneHeaderPinButton\"\n    }, h(\"igc-button-component\", {\n      part: \"pane-header-pin-button\",\n      style: {\n        display: this.isFloating ? 'none' : 'flex'\n      }\n    }, h(\"igc-icon-component\", {\n      name: \"pin\",\n      \"aria-label\": this.resourceStrings.pin,\n      title: this.resourceStrings.pin\n    })), \" \"));\n  }\n  renderUnpinButton() {\n    return h(Fragment, null, !this.isFloating && h(\"slot\", {\n      name: \"paneHeaderUnpinButton\"\n    }, h(\"igc-button-component\", {\n      part: \"pane-header-unpin-button\",\n      style: {\n        display: this.isFloating ? 'none' : 'flex'\n      }\n    }, h(\"igc-icon-component\", {\n      name: \"unpin\",\n      \"aria-label\": this.resourceStrings.unpin,\n      title: this.resourceStrings.unpin\n    }))));\n  }\n  render() {\n    const commonParts = {\n      active: this.isActive,\n      disabled: this.disabled,\n      floating: this.isFloating,\n      window: this.isFloatingPaneHeader\n    };\n    const paneHeaderParts = Utils.partNameMap(Object.assign({\n      'pane-header': true\n    }, commonParts));\n    const paneHeaderContentParts = Utils.partNameMap(Object.assign({\n      'pane-header-content': true\n    }, commonParts));\n    const paneHeaderActionsParts = Utils.partNameMap(Object.assign({\n      'pane-header-actions': true\n    }, commonParts));\n    const exportParts = Utils.partNameMap(Object.assign({\n      'pane-header': true,\n      'pane-header-actions': true,\n      'pane-header-content': true,\n      'pane-header-close-button': true,\n      'pane-header-maximize-button': true,\n      'pane-header-minimize-button': true,\n      'pane-header-pin-button': true,\n      'pane-header-unpin-button': true\n    }, commonParts), ',');\n    return h(Host, {\n      part: paneHeaderParts,\n      exportparts: exportParts\n    }, h(\"div\", {\n      part: paneHeaderContentParts,\n      class: \"header-text\"\n    }, h(\"slot\", null)), h(\"div\", {\n      part: paneHeaderActionsParts,\n      class: \"header-actions\",\n      [IGNORE_DRAG]: true\n    }, this.allowPinning && h(\"div\", {\n      onClick: this.pinButtonClick\n    }, this.pinned ? this.renderUnpinButton() : this.renderPinButton()), this.allowMaximize && h(\"div\", {\n      onClick: this.maximizeButtonClick\n    }, this.maximized ? this.renderMinimizeButton() : this.renderMaximizeButton()), this.allowClose && h(\"div\", {\n      onClick: this.closeButtonClick\n    }, this.renderCloseButton())));\n  }\n  get element() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"forcedDrag\": [\"forcedDragChanged\"]\n    };\n  }\n};\nIgcPaneHeaderComponent.style = paneHeaderComponentCss;\nconst paneNavigatorComponentCss = \":host,:host *{box-sizing:border-box}:host{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:10002}.pane-navigator{display:flex;flex-direction:column;background:var(--igc-pane-content-background, var(--igc-border-color, #F3F5F7));width:350px;height:auto;max-height:336px;overflow:hidden;line-height:24px;z-index:10002;box-shadow:0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.26)}.pane-navigator:focus{outline-style:none}header{background:var(--igc-background-color, #E5E7E9);min-height:40px;height:40px}header h3{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:unset;font-size:0.875em;padding:8px}.body{display:flex;overflow:auto}.group{display:flex;flex:1 0 50%;flex-direction:column;overflow:hidden;padding:16px}.title{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;position:sticky;top:0;background:var(--igc-pane-content-background, var(--igc-border-color, #F3F5F7));font-size:0.875em;margin:unset;flex-shrink:0}.items{overflow:auto;scrollbar-width:none}.items::-webkit-scrollbar{display:none}[part~=item]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;user-select:none;cursor:pointer;font-size:16px;padding:8px 0}[part~=item][part~=selected]{color:var(--igc-active-color, cornflowerblue)}[part~=item][part~=disabled]{pointer-events:none;color:var(--igc-disabled-color, rgba(0, 0, 0, 0.38))}\";\nconst IgcPaneNavigatorComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.closed = createEvent(this, \"closed\", 7);\n    this.activeDocuments = undefined;\n    this.activePanes = undefined;\n    this.selectedIndex = undefined;\n    this.previousActivePaneIndex = undefined;\n    this.resourceStrings = undefined;\n  }\n  scrollItemToView() {\n    const selectedItem = this.allItemsElement[this.selectedIndex];\n    const selectedItemRect = selectedItem.getBoundingClientRect();\n    const itemsContainerRect = selectedItem.parentElement.getBoundingClientRect();\n    if (selectedItemRect.top < itemsContainerRect.top) {\n      this.allItemsElement[this.selectedIndex].parentElement.scrollTop -= itemsContainerRect.top - selectedItemRect.top;\n    }\n    if (selectedItemRect.bottom > itemsContainerRect.bottom) {\n      this.allItemsElement[this.selectedIndex].parentElement.scrollTop += selectedItemRect.bottom - itemsContainerRect.bottom;\n    }\n  }\n  handleKeyUp(event) {\n    if (event.code === 'AltLeft' || event.code === 'AltRight' || event.key === 'Control' || event.key === 'OS' || event.key === 'Meta') {\n      this.closed.emit(this.allItems[this.selectedIndex]);\n    }\n  }\n  handleKeydown(event) {\n    event.stopPropagation();\n    const isShiftPressed = event.shiftKey;\n    let index;\n    if (Utils.isControlOrMetaPressed(event) && !event.altKey) {\n      switch (event.key) {\n        case 'ArrowUp':\n          this.decreaseSelectedIndex();\n          break;\n        case 'ArrowDown':\n          this.increaseSelectedIndex();\n          break;\n        case 'ArrowRight':\n        case 'ArrowLeft':\n          {\n            if (this.activePanes.length === 0 || this.activeDocuments.length === 0) {\n              return;\n            }\n            if (this.selectedIndex >= 0 && this.selectedIndex < this.activePanes.length) {\n              index = this.selectedIndex + this.activePanes.length;\n              this.navigateToIndex(index >= this.allItems.length ? this.allItems.length - 1 : index, 'next');\n            } else if (this.selectedIndex >= this.activePanes.length && this.selectedIndex < this.allItems.length) {\n              index = this.selectedIndex - this.activePanes.length;\n              this.navigateToIndex(index > this.activePanes.length - 1 ? this.activePanes.length - 1 : index, 'previous');\n            }\n          }\n      }\n    }\n    if (event.key === 'F7' || event.key === 'F8') {\n      if (isShiftPressed) {\n        this.decreaseSelectedIndex();\n      } else {\n        this.increaseSelectedIndex();\n      }\n    }\n    this.scrollItemToView();\n  }\n  navigateToIndex(index, direction) {\n    if (index === -1) {\n      index = this.allItems.length - 1;\n    } else if (index === this.allItems.length) {\n      index = 0;\n    }\n    let counter = 0;\n    while (this.allItems[index].disabled && counter <= this.allItems.length) {\n      counter++;\n      index = index + (direction === 'next' ? 1 : -1);\n      if (index === -1) {\n        index = this.allItems.length - 1;\n      } else if (index === this.allItems.length) {\n        index = 0;\n      }\n    }\n    this.selectedIndex = index;\n  }\n  increaseSelectedIndex() {\n    let amount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    const newValue = this.selectedIndex + amount;\n    this.navigateToIndex(newValue, 'next');\n  }\n  decreaseSelectedIndex() {\n    let amount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    const newValue = this.selectedIndex - amount;\n    this.navigateToIndex(newValue, 'previous');\n  }\n  connectedCallback() {\n    this.allItems = [...this.activePanes, ...this.activeDocuments];\n  }\n  componentDidLoad() {\n    this.paneNav.focus();\n    this.allItemsElement = Array.from(this.paneNav.querySelectorAll('[part~=item]'));\n    this.navigateToIndex(this.selectedIndex, 'next');\n    this.scrollItemToView();\n  }\n  resolveItemPart(item, index, isDocHost) {\n    const part = Utils.partNameMap({\n      item: true,\n      selected: isDocHost ? index === this.selectedIndex - this.activePanes.length : index === this.selectedIndex,\n      disabled: item.disabled\n    });\n    return part;\n  }\n  selectItem(index, isDocHost) {\n    this.selectedIndex = !isDocHost ? index : this.activePanes.length + index;\n  }\n  renderItems(title, items, isDocHost) {\n    return h(\"article\", {\n      part: \"group\",\n      class: \"group\"\n    }, h(\"h4\", {\n      part: \"title\",\n      class: \"title\"\n    }, title), h(\"section\", {\n      class: \"items\"\n    }, items === null || items === void 0 ? void 0 : items.map((item, index) => {\n      return h(\"div\", {\n        part: this.resolveItemPart(item, index, isDocHost),\n        onMouseDown: () => this.selectItem(index, isDocHost),\n        onMouseUp: () => this.closed.emit(this.allItems[this.selectedIndex])\n      }, item.header);\n    })));\n  }\n  render() {\n    var _a;\n    return h(Host, {\n      onClick: () => this.closed.emit(this.allItems[this.previousActivePaneIndex]),\n      exportparts: \"base: pane-navigator, header: pane-navigator-header, body: pane-navigator-body,\\r\\n                     group: pane-navigator-items-group, title: pane-navigator-items-group-title, item: pane-navigator-item, selected, disabled\"\n    }, h(\"article\", {\n      part: \"base\",\n      class: \"pane-navigator\",\n      ref: el => this.paneNav = el,\n      tabIndex: 0,\n      onClick: ev => ev.stopPropagation()\n    }, h(\"header\", {\n      part: \"header\"\n    }, h(\"h3\", null, (_a = this.allItems[this.selectedIndex]) === null || _a === void 0 ? void 0 : _a.header)), h(\"section\", {\n      part: \"body\",\n      class: \"body\"\n    }, this.renderItems(this.resourceStrings.panes, this.activePanes, false), this.renderItems(this.resourceStrings.documents, this.activeDocuments, true))));\n  }\n};\nIgcPaneNavigatorComponent.style = paneNavigatorComponentCss;\nconst resizerComponentCss = \"\";\nconst IgcResizerComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.resizerMoved = createEvent(this, \"resizerMoved\", 7);\n    this.resizerDragStart = createEvent(this, \"resizerDragStart\", 7);\n    this.resizerDragEnd = createEvent(this, \"resizerDragEnd\", 7);\n    this.dragStart = args => {\n      this.resizerDragStart.emit(args);\n    };\n    this.dragEnd = args => {\n      this.resizerDragEnd.emit(args);\n    };\n    this.dragMove = args => {\n      this.resizerMoved.emit(args);\n    };\n    this.dragOffsetX = undefined;\n    this.dragOffsetY = undefined;\n    this.orientation = undefined;\n  }\n  get isCornerResizer() {\n    return this.orientation === IgcResizerLocation.bottomLeft || this.orientation === IgcResizerLocation.bottomRight || this.orientation === IgcResizerLocation.topLeft || this.orientation === IgcResizerLocation.topRight;\n  }\n  connectedCallback() {\n    this.dragService = new IgcDragService(this.element);\n    this.dragService.dragStart = this.dragStart;\n    this.dragService.dragEnd = this.dragEnd;\n    this.dragService.dragMove = this.dragMove;\n  }\n  disconnectedCallback() {\n    this.dragService.destroy();\n  }\n  render() {\n    return h(Host, {\n      style: {\n        position: 'absolute',\n        pointerEvents: 'all',\n        height: this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right ? '100%' : this.isCornerResizer ? '10px' : '5px',\n        width: this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right ? '5px' : this.isCornerResizer ? '10px' : '100%',\n        cursor: this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right ? 'ew-resize' : this.orientation === IgcResizerLocation.bottomLeft || this.orientation === IgcResizerLocation.topRight ? 'ne-resize' : this.orientation === IgcResizerLocation.bottomRight || this.orientation === IgcResizerLocation.topLeft ? 'nw-resize' : 'ns-resize',\n        left: this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.topLeft || this.orientation === IgcResizerLocation.bottomLeft ? '-3px' : null,\n        top: this.orientation === IgcResizerLocation.top || this.orientation === IgcResizerLocation.topLeft || this.orientation === IgcResizerLocation.topRight ? '0px' : null,\n        right: this.orientation === IgcResizerLocation.right || this.orientation === IgcResizerLocation.bottomRight || this.orientation === IgcResizerLocation.topRight ? '-3px' : null,\n        bottom: this.orientation === IgcResizerLocation.bottom || this.orientation === IgcResizerLocation.bottomRight || this.orientation === IgcResizerLocation.bottomLeft ? '-3px' : null,\n        zIndex: '10002'\n      }\n    });\n  }\n  get element() {\n    return getElement(this);\n  }\n};\nIgcResizerComponent.style = resizerComponentCss;\nconst rootDockingIndicatorComponentCss = \".sc-igc-root-docking-indicator-component-h{display:flex;box-sizing:border-box;align-self:center;pointer-events:all;justify-content:center;align-items:center;margin:10px;width:30px;height:30px;color:var(--igc-joystick-icon-color, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-joystick-background, var(--igc-accent-color, #fff));transition:color 0.25s ease-out, background 0.25s ease-out;border:1px solid var(--igc-joystick-border-color, var(--igc-accent-color, #fff))}.sc-igc-root-docking-indicator-component-h:hover{color:var(--igc-joystick-icon-color-active, #000);background:var(--igc-joystick-background-active, var(--igc-accent-color, #fff))}\";\nconst IgcRootDockingIndicatorComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.position = undefined;\n  }\n  render() {\n    return h(Host, {\n      part: \"root-docking-indicator\"\n    }, h(\"igc-icon-component\", {\n      name: \"first_page\",\n      style: {\n        transform: this.position === IgcDockingIndicatorPosition.top ? 'rotate(90deg)' : this.position === IgcDockingIndicatorPosition.right ? 'rotate(180deg)' : this.position === IgcDockingIndicatorPosition.bottom ? 'rotate(270deg)' : 'rotate(0deg)'\n      }\n    }));\n  }\n};\nIgcRootDockingIndicatorComponent.style = rootDockingIndicatorComponentCss;\nconst splitPaneComponentCss = \".sc-igc-split-pane-component-h{height:100%;display:flex;align-items:stretch;box-sizing:border-box;min-width:0;min-height:0;border:none;overflow:auto}\";\nconst IgcSplitPaneComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.rendered = createEvent(this, \"rendered\", 7);\n    this.orientation = undefined;\n    this.size = undefined;\n  }\n  componentDidRender() {\n    this.rendered.emit();\n  }\n  render() {\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\n    return h(Host, {\n      role: \"group\",\n      style: {\n        flexDirection: this.orientation === IgcSplitPaneOrientation.horizontal ? 'row' : 'column',\n        flex: `${size} 1 ${size}px`\n      },\n      part: \"split-pane\"\n    });\n  }\n};\nIgcSplitPaneComponent.style = splitPaneComponentCss;\nconst splitterComponentCss = \":host{position:relative;display:flex;flex:0 0 4px;box-sizing:border-box;pointer-events:all}.splitter{display:flex;justify-content:center;align-items:center;width:100%;height:100%;cursor:ew-resize;background:var(--igc-splitter-background, #D3D6D9);--resize-handle-width:2px;--resize-handle-height:80px;outline-style:none}.splitter:not(.splitter--custom-handle)::after{position:absolute;content:\\\"\\\";background:var(--igc-splitter-handle, var(--igc-accent-color, #fff));top:50%;left:50%;width:var(--resize-handle-width);height:var(--resize-handle-height);max-height:100%;max-width:100%;border-radius:1px;transform:translateX(-50%) translateY(-50%)}.splitter:focus-within{background-color:var(--igc-active-color, cornflowerblue)}.splitter--vertical{cursor:ns-resize}.splitter--vertical:not(.splitter--custom-handle)::after{width:var(--resize-handle-height);height:var(--resize-handle-width)}.splitter-ghost{position:absolute;cursor:ew-resize;opacity:0.3;background:black;width:100%;height:100%;z-index:5}.splitter-ghost--vertical{cursor:ns-resize}\";\nconst IgcSplitterComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.resizeStart = createEvent(this, \"resizeStart\", 7);\n    this.resizeEnd = createEvent(this, \"resizeEnd\", 7);\n    this.handleMouseUp = () => {\n      document.documentElement.removeEventListener('mouseup', this.handleMouseUp, false);\n      this.showDragGhost = false;\n    };\n    this.dragStart = () => {\n      this.dragStartHelper(0);\n    };\n    this.dragEnd = () => {\n      this.dragEndHelper();\n    };\n    this.dragMove = args => {\n      if (!this.ghostElement) {\n        return;\n      }\n      const rect = this.ghostElement.getBoundingClientRect();\n      const isHorizontal = this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal;\n      const clientCoordinate = isHorizontal ? args.clientX : args.clientY;\n      const offset = isHorizontal ? args.offsetX : args.offsetY;\n      const startCoordinate = isHorizontal ? rect.left : rect.top;\n      const endCoordinate = isHorizontal ? rect.right : rect.bottom;\n      if (offset <= 0 && startCoordinate < clientCoordinate) {\n        return;\n      }\n      if (offset >= 0 && endCoordinate > clientCoordinate) {\n        return;\n      }\n      this.dragOffset += offset;\n      if (this.flyoutLocation) {\n        this.constrainFlyoutResize();\n      } else {\n        this.constrainSplitPaneResize();\n      }\n    };\n    this.dragOffset = undefined;\n    this.hasCustomSplitterHandle = undefined;\n    this.showDragGhost = undefined;\n    this.splitPaneOrientation = undefined;\n    this.flyoutLocation = undefined;\n  }\n  connectedCallback() {\n    this.dragService = new IgcDragService(this.element);\n    this.dragService.dragStart = this.dragStart;\n    this.dragService.dragEnd = this.dragEnd;\n    this.dragService.dragMove = this.dragMove;\n  }\n  disconnectedCallback() {\n    this.dragService.destroy();\n    document.documentElement.removeEventListener('mouseup', this.handleMouseUp, false);\n  }\n  calculateOffset(event) {\n    if (this.isArrowUp(event) || this.isArrowLeft(event)) {\n      return -IGC_DEFAULT_RESIZE;\n    } else if (this.isArrowDown(event) || this.isArrowRight(event)) {\n      return IGC_DEFAULT_RESIZE;\n    }\n  }\n  isArrowUp(event) {\n    return event.key === 'ArrowUp';\n  }\n  isArrowDown(event) {\n    return event.key === 'ArrowDown';\n  }\n  isArrowLeft(event) {\n    return event.key === 'ArrowLeft';\n  }\n  isArrowRight(event) {\n    return event.key === 'ArrowRight';\n  }\n  handleKeydownEvent(event) {\n    if (this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal && !this.isArrowLeft(event) && !this.isArrowRight(event)) {\n      return;\n    }\n    if (this.splitPaneOrientation === IgcSplitPaneOrientation.vertical && !this.isArrowUp(event) && !this.isArrowDown(event)) {\n      return;\n    }\n    this.showDragGhost = false;\n    this.dragStartHelper(this.calculateOffset(event));\n    if (this.flyoutLocation) {\n      this.constrainFlyoutResize();\n    } else {\n      this.constrainSplitPaneResize();\n    }\n    this.dragEndHelper();\n  }\n  handleMouseDown() {\n    this.showDragGhost = true;\n    document.documentElement.addEventListener('mouseup', this.handleMouseUp, false);\n    this.resizeStart.emit();\n  }\n  dragStartHelper(dragOffset) {\n    this.dragOffset = dragOffset;\n    const parent = this.element.parentElement;\n    const children = Array.from(parent.children);\n    if (this.flyoutLocation) {\n      const pane = children[0];\n      this.paneSizes = [this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ? pane.offsetWidth : pane.offsetHeight];\n      this.flyoutMaxSize = this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ? parent.offsetWidth - IGC_RESIZING_MIN_SIZE : parent.offsetHeight - IGC_RESIZING_MIN_SIZE;\n    } else {\n      const index = children.indexOf(this.element);\n      const panes = [children[index - 1], children[index + 1]];\n      this.paneSizes = panes.map(p => this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ? p.offsetWidth : p.offsetHeight);\n    }\n  }\n  dragEndHelper() {\n    const dragOffset = this.dragOffset;\n    this.showDragGhost = false;\n    this.dragOffset = 0;\n    this.paneSizes = null;\n    this.resizeEnd.emit(dragOffset);\n  }\n  constrainFlyoutResize() {\n    const paneSize = this.paneSizes[0];\n    const isStartLocation = this.flyoutLocation === IgcUnpinnedLocation.left || this.flyoutLocation === IgcUnpinnedLocation.top;\n    const offset = isStartLocation ? this.dragOffset : -this.dragOffset;\n    if (paneSize + offset < IGC_RESIZING_MIN_SIZE) {\n      const minOffset = paneSize - IGC_RESIZING_MIN_SIZE;\n      this.dragOffset = isStartLocation ? -minOffset : minOffset;\n    } else if (paneSize + offset > this.flyoutMaxSize) {\n      const maxOffset = this.flyoutMaxSize - paneSize;\n      this.dragOffset = isStartLocation ? maxOffset : -maxOffset;\n    }\n  }\n  constrainSplitPaneResize() {\n    let rtl = false;\n    const dockmanager = this.closestElement('igc-dockmanager', this.element);\n    if (dockmanager.dir !== '') {\n      rtl = dockmanager.dir === 'rtl';\n    } else {\n      let parent = dockmanager.parentElement;\n      while (parent) {\n        if (parent.dir !== '') {\n          rtl = parent.dir === 'rtl';\n          break;\n        }\n        parent = parent.parentElement;\n      }\n    }\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\n    if (this.dragOffset < 0) {\n      const referencePaneSize = !rtl || isVertical ? this.paneSizes[0] : this.paneSizes[1];\n      if (referencePaneSize > IGC_RESIZING_MIN_SIZE) {\n        if (referencePaneSize + this.dragOffset < IGC_RESIZING_MIN_SIZE) {\n          this.dragOffset = -(referencePaneSize - IGC_RESIZING_MIN_SIZE);\n        }\n      } else {\n        this.dragOffset = 0;\n      }\n    } else {\n      const referencePaneSize = !rtl || isVertical ? this.paneSizes[1] : this.paneSizes[0];\n      if (referencePaneSize > IGC_RESIZING_MIN_SIZE) {\n        if (referencePaneSize - this.dragOffset < IGC_RESIZING_MIN_SIZE) {\n          this.dragOffset = referencePaneSize - IGC_RESIZING_MIN_SIZE;\n        }\n      } else {\n        this.dragOffset = 0;\n      }\n    }\n  }\n  closestElement(selector, el) {\n    return el && el.closest(selector) || this.closestElement(selector, el.getRootNode().host);\n  }\n  handleSlotChange() {\n    const handleSlot = this.element.shadowRoot.querySelector('slot[name=\"splitterHandle\"]');\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\n    this.hasCustomSplitterHandle = handleSlot.assignedElements().length > 0;\n    if (this.hasCustomSplitterHandle) {\n      const handle = this.element.querySelector('[part=\"splitter-handle\"]');\n      const parts = Utils.partNameMap({\n        'splitter-handle': true,\n        'vertical': isVertical,\n        'horizontal': !isVertical\n      });\n      handle.setAttribute('part', parts);\n    }\n  }\n  render() {\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\n    const splitterClasses = {\n      'splitter': true,\n      'splitter--vertical': isVertical,\n      'splitter--custom-handle': this.hasCustomSplitterHandle\n    };\n    const ghostClasses = {\n      'splitter-ghost': true,\n      'splitter-ghost--vertical': isVertical\n    };\n    return h(Host, {\n      part: \"splitter\",\n      exportparts: \"splitter,\\r\\n        splitter-base,\\r\\n        splitter-ghost\"\n    }, h(\"div\", {\n      part: \"splitter-base\",\n      class: splitterClasses,\n      tabIndex: 0,\n      role: \"separator\",\n      \"aria-orientation\": this.splitPaneOrientation.toString()\n    }, h(\"slot\", {\n      name: \"splitterHandle\",\n      onSlotchange: this.handleSlotChange.bind(this)\n    })), this.showDragGhost && h(\"div\", {\n      part: \"splitter-ghost\",\n      class: ghostClasses,\n      style: {\n        left: `${isVertical ? 0 : this.dragOffset}px`,\n        top: `${isVertical ? this.dragOffset : 0}px`\n      },\n      ref: el => this.ghostElement = el\n    }));\n  }\n  get element() {\n    return getElement(this);\n  }\n};\nIgcSplitterComponent.style = splitterComponentCss;\nconst tabHeaderComponentCss = \":host([part~=hover-preview-close][part~=selected]) ::slotted(span),:host([part~=hover-preview-close]:hover) ::slotted(span){max-width:calc(100% - 18px);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}:host{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;position:relative;display:flex;align-items:center;box-sizing:border-box;height:100%;padding:0.5em;user-select:none;color:var(--igc-tab-text, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-tab-background, var(--igc-background-color, #E5E7E9));border-style:solid;border-color:var(--igc-tab-border-color, var(--igc-border-color, #F3F5F7));border-top-width:1px;border-left-width:1px;border-bottom-width:0;border-right-width:1px;font-size:0.75em;line-height:2;outline-style:none}:host igc-icon-component svg{width:17px;height:17px}:host *+igc-button-component{margin-left:0.5em}:host([part~=selected]){color:var(--igc-tab-text-active, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-tab-background-active, var(--igc-border-color, #F3F5F7));border-color:var(--igc-tab-border-color-active, var(--igc-border-color, #F3F5F7))}:host([part~=bottom]){border-top-width:0;border-bottom-width:1px}:host([part~=bottom]):first-of-type{border-left:none}:host([part~=active]){box-shadow:inset 0 -2px 0 0 var(--igc-active-color, cornflowerblue);color:var(--igc-active-color, cornflowerblue)}:host([part~=active]) igc-icon-component{color:var(--igc-icon-active-color, var(--igc-active-color, cornflowerblue))}:host([part~=disabled]){pointer-events:none;color:var(--igc-disabled-color, rgba(0, 0, 0, 0.38))}:host(:hover) [part*=floating]{opacity:1}[part*=floating]{position:absolute;inset-inline-end:0;background:inherit;opacity:0;transition:opacity 0.1s ease-out}[part*=selected]{opacity:1}\";\nconst IgcTabHeaderComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.dragStarted = createEvent(this, \"dragStarted\", 7);\n    this.dragMoved = createEvent(this, \"dragMoved\", 7);\n    this.dragEnded = createEvent(this, \"dragEnded\", 7);\n    this.tabMouseDown = createEvent(this, \"tabMouseDown\", 7);\n    this.iconClicked = createEvent(this, \"iconClicked\", 7);\n    this.iconKeyDown = createEvent(this, \"iconKeyDown\", 7);\n    this.elementConnected = createEvent(this, \"elementConnected\", 7);\n    this.elementDisconnected = createEvent(this, \"elementDisconnected\", 7);\n    this.iconClick = ev => {\n      this.iconClicked.emit(ev);\n    };\n    this.keyDown = ev => {\n      this.iconKeyDown.emit(ev);\n    };\n    this.dragService = undefined;\n    this.selected = false;\n    this.hovered = false;\n    this.position = IgcTabHeadersPosition.top;\n    this.iconName = undefined;\n    this.header = undefined;\n    this.isActive = undefined;\n    this.resourceStrings = undefined;\n    this.forcedDrag = undefined;\n    this.disabled = false;\n    this.showHeaderIconOnHover = undefined;\n  }\n  connectedCallback() {\n    this.dragService = new IgcDragService(this.element);\n    this.dragService.dragStart = args => {\n      this.dragStarted.emit(args);\n    };\n    this.dragService.dragMove = args => {\n      this.dragMoved.emit(args);\n    };\n    this.dragService.dragEnd = args => {\n      this.dragEnded.emit(args);\n    };\n    this.forceDragging();\n    this.elementConnected.emit(this.element);\n  }\n  disconnectedCallback() {\n    if (this.dragService) {\n      this.dragService.destroy();\n    }\n    this.elementDisconnected.emit(this.element);\n  }\n  handleMouseDown(ev) {\n    const iconSlot = this.element.shadowRoot.querySelector('div[part*=\"tab-header-more-options\"]');\n    const isIconClicked = ev.composedPath().filter(p => p === iconSlot).length > 0;\n    this.tabMouseDown.emit({\n      showHeaderIconOnHover: this.showHeaderIconOnHover,\n      isIconClicked\n    });\n  }\n  handleMouseEnter() {\n    this.hovered = true;\n  }\n  handleMouseLeave() {\n    this.hovered = false;\n  }\n  forcedDragChanged() {\n    this.forceDragging();\n  }\n  forceDragging() {\n    if (this.forcedDrag) {\n      this.dragService.forceDragging();\n    }\n  }\n  activeChanged() {\n    const queryButton = 'tab-header-close-button';\n    const button = this.element.querySelector(`[part^=${queryButton}]`);\n    const parts = Utils.partNameMap({\n      [queryButton]: true,\n      active: this.isActive,\n      selected: this.selected,\n      hovered: this.hovered\n    });\n    button === null || button === void 0 ? void 0 : button.setAttribute('part', parts);\n  }\n  renderCloseButton() {\n    const showHeaderIconOnHover = this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'closeOnly' || this.showHeaderIconOnHover === 'all');\n    const shouldShowButton = this.selected || showHeaderIconOnHover;\n    const pointerEvents = this.selected && !this.disabled || this.showHeaderIconOnHover ? 'all' : 'none';\n    return shouldShowButton && h(\"slot\", {\n      name: \"tabHeaderCloseButton\"\n    }, h(\"igc-button-component\", {\n      part: \"tab-header-close-button\",\n      style: {\n        pointerEvents\n      }\n    }, h(\"igc-icon-component\", {\n      name: this.iconName,\n      \"aria-label\": this.resourceStrings.close,\n      title: this.resourceStrings.close\n    })));\n  }\n  renderMoreOptionsButton() {\n    const showHeaderIconOnHover = this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'moreOptionsOnly' || this.showHeaderIconOnHover === 'all');\n    const shouldShowButton = this.selected || showHeaderIconOnHover;\n    const pointerEvents = this.selected && !this.disabled || this.showHeaderIconOnHover ? 'all' : 'none';\n    return shouldShowButton && h(\"slot\", {\n      name: \"tabHeaderMoreOptionsButton\"\n    }, h(\"igc-button-component\", {\n      part: \"tab-header-more-options-button\",\n      style: {\n        pointerEvents\n      }\n    }, h(\"igc-icon-component\", {\n      name: this.iconName,\n      \"aria-label\": this.resourceStrings.moreOptions,\n      title: this.resourceStrings.moreOptions\n    })));\n  }\n  render() {\n    const showCloseOnHover = this.iconName === 'close' && this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'closeOnly' || this.showHeaderIconOnHover === 'all');\n    const showMoreOptionsOnHover = this.iconName !== 'close' && this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'moreOptionsOnly' || this.showHeaderIconOnHover === 'all');\n    const parts = Utils.partNameMap({\n      'tab-header': true,\n      top: this.position === IgcTabHeadersPosition.top,\n      active: this.isActive,\n      selected: this.selected,\n      disabled: this.disabled,\n      'hover-preview-close': showCloseOnHover,\n      'hover-preview-options': showMoreOptionsOnHover,\n      bottom: this.position === IgcTabHeadersPosition.bottom\n    });\n    const tabParts = Utils.partNameMap({\n      'tab-header-more-options': true,\n      'floating': !this.selected && (showCloseOnHover || showMoreOptionsOnHover),\n      'selected': this.selected\n    });\n    const exportparts = Utils.partNameMap({\n      'tab-header-close-button': true,\n      'tab-header-more-options': true,\n      'tab-header-more-options-button': true,\n      'floating': true,\n      'selected': true,\n      'active': true\n    }, ',');\n    return h(Host, {\n      role: \"tab\",\n      part: parts,\n      exportparts: exportparts,\n      \"aria-label\": this.header,\n      \"aria-selected\": this.selected ? 'true' : 'false',\n      \"aria-disabled\": this.disabled ? 'true' : 'false',\n      tabIndex: !this.selected || this.disabled ? -1 : 0\n    }, h(\"slot\", null), this.iconName && h(\"div\", {\n      part: tabParts,\n      onClick: this.iconClick,\n      onKeyDown: this.keyDown,\n      [IGNORE_DRAG]: true\n    }, this.iconName === 'close' ? this.renderCloseButton() : this.renderMoreOptionsButton()));\n  }\n  get element() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"forcedDrag\": [\"forcedDragChanged\"],\n      \"isActive\": [\"activeChanged\"],\n      \"selected\": [\"activeChanged\"],\n      \"hovered\": [\"activeChanged\"]\n    };\n  }\n};\nIgcTabHeaderComponent.style = tabHeaderComponentCss;\nconst tabPanelComponentCss = \":host{display:block;box-sizing:border-box;overflow:auto;flex-grow:1;height:100%;color:var(--igc-pane-content-text, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background-color:var(--igc-pane-content-background, var(--igc-border-color, #F3F5F7))}:host([part~=disabled]){pointer-events:none;color:var(--igc-disabled-color, rgba(0, 0, 0, 0.38))}\";\nconst IgcTabPanelComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.selectedChanged = createEvent(this, \"selectedChanged\", 7);\n    this.emitSelectedChanged = false;\n    this.selected = false;\n    this.disabled = false;\n  }\n  selectedPropChange() {\n    this.emitSelectedChanged = true;\n  }\n  componentDidUpdate() {\n    if (this.emitSelectedChanged) {\n      this.emitSelectedChanged = false;\n      this.selectedChanged.emit(this.selected);\n    }\n  }\n  render() {\n    const parts = Utils.partNameMap({\n      'tab-panel': true,\n      selected: this.selected,\n      disabled: this.disabled\n    });\n    return h(Host, {\n      role: \"tabpanel\",\n      part: parts,\n      style: {\n        display: this.selected ? 'block' : 'none'\n      }\n    }, h(\"slot\", null));\n  }\n  get element() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"selected\": [\"selectedPropChange\"]\n    };\n  }\n};\nIgcTabPanelComponent.style = tabPanelComponentCss;\nconst tabsComponentCss = \":host{display:flex;flex-direction:column;box-sizing:border-box;min-width:0px;min-height:0px}.tabs{display:flex;overflow:hidden;min-height:32px;max-height:32px;background:var(--igc-dock-background, var(--igc-background-color, #E5E7E9))}.tabs--top{padding-top:8px}.tabs--top .tab-headers-container--wrapped{flex-wrap:wrap}.tabs--bottom{padding-bottom:8px}.tabs--bottom .tab-headers-container--wrapped{flex-wrap:wrap-reverse}.content{flex-grow:1;height:100%;overflow:auto}.tab-headers-container{width:100%;display:flex;overflow:hidden}.tab-header-icon-container{display:flex;flex-grow:1;justify-content:flex-end;padding-left:8px;padding-right:8px}\";\n\n/**\n * @hidden\n */\nlet NEXT_TAB_ID = 0;\nconst IgcTabsComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.maximize = createEvent(this, \"maximize\", 7);\n    this.maximizeMinimizeFocus = createEvent(this, \"maximizeMinimizeFocus\", 7);\n    this.selectedIndexChanged = createEvent(this, \"selectedIndexChanged\", 3);\n    this.hiddenTabSelected = createEvent(this, \"hiddenTabSelected\", 3);\n    this.selectedTabOutOfView = createEvent(this, \"selectedTabOutOfView\", 3);\n    this.rendered = createEvent(this, \"rendered\", 7);\n    this.forcedUpdate = false;\n    this.selectionOrder = [];\n    this.resizeObserver = new ResizeObserver(this.tabHeadersDivResized.bind(this));\n    this.slotChanged = () => {\n      this.setTabsAttributes();\n      this.updateSelection();\n      this.handleSelectedIndexChanged(this.selectedIndex);\n      this.forceUpdate();\n    };\n    this.onTabKeyDown = ev => {\n      const tabHeaders = this.tabHeaders;\n      if (Utils.isAltPressed(ev) || Utils.isControlOrMetaPressed(ev) || ev.shiftKey) {\n        return;\n      }\n      if (ev.key === 'ArrowRight') {\n        for (let i = this.selectedIndex; i < tabHeaders.length - this.hiddenTabHeaders.length - 1; i++) {\n          if (!tabHeaders[i + 1].disabled) {\n            this.selectedIndex = i + 1;\n            tabHeaders[i + 1].focus();\n            return;\n          }\n        }\n      } else if (ev.key === 'ArrowLeft') {\n        for (let i = this.selectedIndex; i > 0; i--) {\n          if (!tabHeaders[i - 1].disabled) {\n            this.selectedIndex = i - 1;\n            tabHeaders[i - 1].focus();\n            return;\n          }\n        }\n      }\n    };\n    this.maximizeButtonClick = () => {\n      this.maximize.emit();\n    };\n    this.handleMaximizeMinimizeFocus = () => {\n      this.maximizeMinimizeFocus.emit();\n    };\n    this.hiddenTabsMenuMeta = undefined;\n    this.hasHiddenTabs = false;\n    this.size = undefined;\n    this.maximized = undefined;\n    this.allowMaximize = true;\n    this.tabHeadersPosition = IgcTabHeadersPosition.top;\n    this.selectedIndex = undefined;\n    this.hasHeaders = true;\n    this.showHiddenTabsMenu = true;\n    this.resourceStrings = undefined;\n    this.contentIds = [];\n  }\n  selectedIndexPropertyChanged(newValue) {\n    this.handleSelectedIndexChanged(newValue);\n    this.selectedIndexChanged.emit(newValue);\n  }\n  componentWillLoad() {\n    this.hiddenTabsMenuMeta = null;\n    this.handleSelectedIndexChanged(this.selectedIndex);\n    this.checkForActivePane();\n  }\n  componentWillUpdate() {\n    this.updateSelection();\n  }\n  updateSelection() {\n    var _a;\n    const headers = this.tabHeaders;\n    // if any header is removed - delete its id from selection order & update selected index\n    const missingMatchIndex = this.selectionOrder.findIndex(s => headers.findIndex(h => h.id === s) < 0);\n    if (missingMatchIndex > -1) {\n      this.selectionOrder.splice(missingMatchIndex, 1);\n      const newSelectedIndex = headers.findIndex(h => h.id === this.selectionOrder[this.selectionOrder.length - 1]);\n      this.selectedIndex = newSelectedIndex > -1 ? newSelectedIndex : 0;\n    }\n    const currentSelectionId = (_a = headers[this.selectedIndex]) === null || _a === void 0 ? void 0 : _a.id;\n    const existingMatchIndex = this.selectionOrder.indexOf(currentSelectionId);\n    if (existingMatchIndex > -1) {\n      this.selectionOrder.splice(existingMatchIndex, 1);\n    }\n    if (currentSelectionId) {\n      this.selectionOrder.push(currentSelectionId);\n    }\n  }\n  componentDidRender() {\n    this.rendered.emit();\n  }\n  componentDidLoad() {\n    this.setTabsAttributes();\n    this.tabHeadersDiv = this.el.shadowRoot.querySelector('div.tabs');\n    if (this.tabHeadersDiv) {\n      this.resizeObserver.observe(this.tabHeadersDiv);\n    }\n  }\n  componentDidUpdate() {\n    if (this.forcedUpdate) {\n      this.forcedUpdate = false;\n      this.checkForActivePane();\n    }\n    this.setHasHiddenTabs();\n  }\n  setTabsAttributes() {\n    const tabHeaders = this.tabHeaders;\n    const tabPanels = this.tabPanels;\n    for (let i = 0; i < tabHeaders.length; i++) {\n      if (!tabHeaders[i].getAttribute('id')) {\n        const tabHeaderId = `tab-item-${NEXT_TAB_ID}`;\n        const tabPanelId = `tab-panel-${NEXT_TAB_ID++}`;\n        tabPanels[i].setAttribute('id', tabPanelId);\n        tabHeaders[i].setAttribute('id', tabHeaderId);\n        tabPanels[i].setAttribute('aria-labelledby', tabHeaderId);\n        tabHeaders[i].setAttribute('aria-controls', tabPanelId);\n      }\n    }\n  }\n  disconnectedCallback() {\n    this.resizeObserver.disconnect();\n  }\n  forceUpdate() {\n    this.forcedUpdate = true;\n    forceUpdate(this);\n  }\n  get tabPanels() {\n    return Array.from(this.el.querySelectorAll('igc-tab-panel-component'));\n  }\n  get tabHeaders() {\n    return Array.from(this.el.querySelectorAll('igc-tab-header-component'));\n  }\n  get hiddenTabHeaders() {\n    var _a;\n    const containerTop = (_a = this.tabHeaders[0]) === null || _a === void 0 ? void 0 : _a.offsetTop;\n    return this.tabHeaders.filter(t => t.offsetTop !== containerTop);\n  }\n  handleSelectedIndexChanged(newValue) {\n    const tabHeaders = this.tabHeaders;\n    const tabPanels = this.tabPanels;\n    tabHeaders.forEach((t, i) => {\n      t.selected = i === newValue;\n    });\n    tabPanels.forEach((t, i) => {\n      t.selected = i === newValue;\n    });\n  }\n  handleTabMouseDown(ev) {\n    const tabHeader = ev.target;\n    const tabHeaders = this.tabHeaders;\n    const headerIndex = tabHeaders.indexOf(tabHeader);\n    if (headerIndex >= 0 && (!ev.detail.showHeaderIconOnHover || !ev.detail.isIconClicked)) {\n      this.selectedIndex = headerIndex;\n    }\n  }\n  tabHeadersDivResized() {\n    var _a;\n    const containerTop = (_a = this.tabHeaders[0]) === null || _a === void 0 ? void 0 : _a.offsetTop;\n    const selectedTabHeader = this.tabHeaders.filter(t => t.selected)[0];\n    if ((selectedTabHeader === null || selectedTabHeader === void 0 ? void 0 : selectedTabHeader.offsetTop) !== containerTop) {\n      const index = this.selectedIndex;\n      this.selectedTabOutOfView.emit(index);\n    }\n    this.setHasHiddenTabs();\n  }\n  setHasHiddenTabs() {\n    this.hasHiddenTabs = this.hiddenTabHeaders.length > 0;\n  }\n  checkForActivePane() {\n    const activeTabHeader = this.tabHeaders.filter(t => t.isActive);\n    if (activeTabHeader.length > 0) {\n      const hiddenActiveTabIndex = this.hiddenTabHeaders.indexOf(activeTabHeader[0]);\n      const activeTabIndex = this.tabHeaders.indexOf(activeTabHeader[0]);\n      if (hiddenActiveTabIndex >= 0) {\n        this.selectedTabOutOfView.emit(activeTabIndex);\n      } else if (activeTabIndex >= 0) {\n        this.selectedIndex = activeTabIndex;\n      }\n    }\n  }\n  handleHiddenTabsMenuClick(ev) {\n    const button = ev.currentTarget;\n    const items = this.hiddenTabHeaders.map(header => ({\n      displayText: header.header,\n      disabled: header.disabled,\n      iconName: null,\n      clickHandler: () => {\n        const index = this.tabHeaders.indexOf(header);\n        this.hiddenTabSelected.emit(index);\n      }\n    }));\n    this.hiddenTabsMenuMeta = {\n      target: button,\n      menuItems: items,\n      position: 'end'\n    };\n  }\n  handleContextMenuClosed() {\n    this.hiddenTabsMenuMeta = null;\n  }\n  renderHiddenTabsMenu() {\n    return this.hiddenTabsMenuMeta && h(\"igc-context-menu-component\", {\n      onMenuClosed: this.handleContextMenuClosed.bind(this),\n      orientation: this.tabHeadersPosition === IgcTabHeadersPosition.top ? IgcContextMenuOrientation.bottom : IgcContextMenuOrientation.top,\n      items: this.hiddenTabsMenuMeta.menuItems,\n      target: this.hiddenTabsMenuMeta.target,\n      position: this.hiddenTabsMenuMeta.position\n    });\n  }\n  renderTabHeaders(top) {\n    const classes = {\n      'tabs': true,\n      'tabs--top': top,\n      'tabs--bottom': !top\n    };\n    const commontParts = {\n      top,\n      bottom: !top\n    };\n    const tabStripParts = Utils.partNameMap(Object.assign({\n      'tab-strip-area': true\n    }, commontParts));\n    const tabStripActionsParts = Utils.partNameMap(Object.assign({\n      'tab-strip-actions': true\n    }, commontParts));\n    return h(\"div\", {\n      part: tabStripParts,\n      style: {\n        display: this.hasHeaders ? 'flex' : 'none'\n      },\n      class: classes,\n      onKeyDown: this.onTabKeyDown\n    }, h(\"div\", {\n      class: {\n        'tab-headers-container': true,\n        'tab-headers-container--wrapped': this.showHiddenTabsMenu\n      }\n    }, h(\"slot\", {\n      name: \"tabHeader\"\n    })), h(\"div\", {\n      part: tabStripActionsParts,\n      class: \"tab-header-icon-container\"\n    }, this.showHiddenTabsMenu && this.hasHiddenTabs && h(\"div\", {\n      onClick: this.handleHiddenTabsMenuClick.bind(this)\n    }, this.renderMoreTabsButton()), !(this.showHiddenTabsMenu && this.hasHiddenTabs) && h(\"span\", {\n      style: {\n        width: '25px'\n      }\n    }), this.allowMaximize && h(\"div\", {\n      onClick: this.maximizeButtonClick,\n      onFocusin: this.handleMaximizeMinimizeFocus\n    }, this.maximized ? this.renderMinimizeButton() : this.renderMaximizeButton())));\n  }\n  renderMoreTabsButton() {\n    return h(\"span\", null, h(\"slot\", {\n      name: \"tabsMoreButton\"\n    }, h(\"igc-button-component\", {\n      part: \"tabs-more-button\"\n    }, h(\"igc-icon-component\", {\n      name: \"more\",\n      \"aria-label\": this.resourceStrings.moreTabs,\n      title: this.resourceStrings.moreTabs,\n      style: {\n        display: 'block'\n      }\n    }))));\n  }\n  renderMaximizeButton() {\n    return h(\"div\", null, h(\"slot\", {\n      name: \"tabsMaximizeButton\"\n    }, h(\"igc-button-component\", {\n      part: \"tabs-maximize-button\"\n    }, h(\"igc-icon-component\", {\n      name: \"maximize\",\n      \"aria-label\": this.resourceStrings.maximize,\n      title: this.resourceStrings.maximize\n    }))));\n  }\n  renderMinimizeButton() {\n    return h(\"slot\", {\n      name: \"tabsMinimizeButton\"\n    }, h(\"igc-button-component\", {\n      part: \"tabs-minimize-button\"\n    }, h(\"igc-icon-component\", {\n      name: \"minimize\",\n      \"aria-label\": this.resourceStrings.minimize,\n      title: this.resourceStrings.minimize\n    })));\n  }\n  render() {\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\n    const top = this.tabHeadersPosition === IgcTabHeadersPosition.top;\n    const bottom = this.tabHeadersPosition === IgcTabHeadersPosition.bottom;\n    const contentIds = this.contentIds.join(' ');\n    const parts = \"tabs-container \" + contentIds;\n    const tabsContentParts = Utils.partNameMap({\n      'tabs-content': true,\n      document: top\n    });\n    const exportParts = Utils.partNameMap({\n      'tab-strip-area': true,\n      'tab-strip-actions': true,\n      'tabs-content': true,\n      'tabs-more-button': true,\n      'tabs-maximize-button': true,\n      'tabs-minimize-button': true,\n      'context-menu-content: tabs-more-menu-content': true,\n      'context-menu-item: tabs-more-menu-item': true,\n      document: top,\n      top,\n      bottom\n    }, ',');\n    return h(Host, {\n      role: \"tablist\",\n      style: {\n        flex: `${size} 1 ${size}px`\n      },\n      exportparts: exportParts,\n      part: parts\n    }, top && this.renderTabHeaders(top), h(\"div\", {\n      part: tabsContentParts,\n      class: \"content\"\n    }, h(\"slot\", {\n      onSlotchange: this.slotChanged.bind(this)\n    })), bottom && this.renderTabHeaders(top), this.renderHiddenTabsMenu());\n  }\n  get el() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"selectedIndex\": [\"selectedIndexPropertyChanged\"]\n    };\n  }\n};\nIgcTabsComponent.style = tabsComponentCss;\nconst unpinnedPaneHeaderComponentCss = \":host{display:flex;justify-content:center;align-items:center;flex-direction:column;box-sizing:border-box;user-select:none;font-size:12px;padding:4px;margin-right:4px;color:var(--igc-pinned-header-text, var(--igc-text-color, rgba(0, 0, 0, 0.72)));background:var(--igc-pinned-header-background, var(--igc-accent-color, #fff));cursor:pointer;outline-style:none}:host([part~=vertical]){writing-mode:tb-rl;margin-right:unset;margin-bottom:4px}:host([part~=active]){color:var(--igc-active-color, cornflowerblue);box-shadow:inset 0 -2px 0 0 var(--igc-active-color, cornflowerblue)}:host([part~=vertical][part~=active]){box-shadow:inset 2px 0 0 0 var(--igc-active-color, cornflowerblue)}:host([part~=disabled]){pointer-events:none;color:var(--igc-disabled-color, rgba(0, 0, 0, 0.38))}\";\nconst IgcUnpinnedPaneHeaderComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.location = undefined;\n    this.isActive = undefined;\n    this.disabled = false;\n  }\n  render() {\n    const isHorizontal = this.location === IgcUnpinnedLocation.top || this.location === IgcUnpinnedLocation.bottom;\n    const isLeft = this.location === IgcUnpinnedLocation.left;\n    const isRight = this.location === IgcUnpinnedLocation.right;\n    const isTop = this.location === IgcUnpinnedLocation.top;\n    const isBottom = this.location === IgcUnpinnedLocation.bottom;\n    const parts = Utils.partNameMap({\n      'unpinned-pane-header': true,\n      horizontal: isHorizontal,\n      vertical: !isHorizontal,\n      start: isLeft || isTop,\n      end: isRight || isBottom,\n      active: this.isActive,\n      disabled: this.disabled\n    });\n    return h(Host, {\n      part: parts,\n      role: \"tab\",\n      \"aria-disabled\": this.disabled ? 'true' : 'false',\n      tabindex: this.disabled ? -1 : 0\n    }, h(\"slot\", null));\n  }\n};\nIgcUnpinnedPaneHeaderComponent.style = unpinnedPaneHeaderComponentCss;\nconst sampleComponentCss = \".sc-sample-component-h{display:flex;flex-direction:column;height:100%}\";\n\n/**\n * @hidden\n */\nconst customResourceStrings = {\n  close: '[Custom]Close',\n  pin: '[Custom]Pin',\n  unpin: '[Custom]Unpin',\n  maximize: '[Custom]Maximize',\n  minimize: '[Custom]Minimize',\n  moreOptions: '[Custom]More options'\n};\naddResourceStrings('custom', customResourceStrings);\nconst SampleComponent = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.teamExplorerPane = {\n      type: IgcDockManagerPaneType.contentPane,\n      header: 'Team Explorer',\n      contentId: 'content7',\n      allowMaximize: true\n    };\n    this.unpinnedToolboxPane = {\n      type: IgcDockManagerPaneType.contentPane,\n      header: 'Toolbox',\n      contentId: 'content1',\n      isPinned: false,\n      unpinnedHeaderId: \"toolboxHeader\"\n    };\n    this.unpinnedTeamExplorerPane = {\n      type: IgcDockManagerPaneType.contentPane,\n      header: 'Team Explorer',\n      contentId: 'content14',\n      isPinned: false,\n      unpinnedHeaderId: \"teamExplorerHeader\"\n    };\n    this.layout1 = {\n      rootPane: {\n        type: IgcDockManagerPaneType.splitPane,\n        orientation: IgcSplitPaneOrientation.horizontal,\n        panes: [this.unpinnedToolboxPane, this.unpinnedTeamExplorerPane, {\n          type: IgcDockManagerPaneType.splitPane,\n          orientation: IgcSplitPaneOrientation.vertical,\n          size: 300,\n          panes: [{\n            type: IgcDockManagerPaneType.documentHost,\n            size: 300,\n            rootPane: {\n              type: IgcDockManagerPaneType.splitPane,\n              orientation: IgcSplitPaneOrientation.horizontal,\n              allowEmpty: true,\n              panes: [{\n                type: IgcDockManagerPaneType.tabGroupPane,\n                panes: [{\n                  type: IgcDockManagerPaneType.contentPane,\n                  header: 'MainWindow.xaml',\n                  contentId: 'content2',\n                  documentOnly: true\n                  // allowMaximize: false,\n                }, {\n                  type: IgcDockManagerPaneType.contentPane,\n                  header: 'MainWindow.xaml.cs',\n                  contentId: 'content6',\n                  documentOnly: true,\n                  allowFloating: false\n                }]\n              }, {\n                type: IgcDockManagerPaneType.contentPane,\n                header: 'App.xaml',\n                contentId: 'content8',\n                allowMaximize: true,\n                acceptsInnerDock: false\n              }]\n            }\n          }, {\n            type: IgcDockManagerPaneType.splitPane,\n            orientation: IgcSplitPaneOrientation.horizontal,\n            allowEmpty: true,\n            panes: []\n          }, {\n            type: IgcDockManagerPaneType.contentPane,\n            header: 'Error List',\n            contentId: 'content3',\n            allowDocking: false,\n            allowFloating: false,\n            allowMaximize: false\n          }]\n        }, {\n          type: IgcDockManagerPaneType.splitPane,\n          orientation: IgcSplitPaneOrientation.vertical,\n          panes: [{\n            type: IgcDockManagerPaneType.tabGroupPane,\n            size: 200,\n            allowEmpty: true,\n            panes: [{\n              type: IgcDockManagerPaneType.contentPane,\n              header: 'Solution Explorer',\n              headerId: 'header1',\n              tabHeaderId: 'tabHeader1',\n              unpinnedHeaderId: 'unpinnedHeader1',\n              contentId: 'content4',\n              allowMaximize: false\n            }, this.teamExplorerPane]\n          }, {\n            type: IgcDockManagerPaneType.contentPane,\n            header: 'Properties',\n            contentId: 'content5',\n            unpinnedLocation: IgcUnpinnedLocation.top,\n            allowFloating: false,\n            allowMaximize: false\n          }]\n        }]\n      },\n      floatingPanes: [{\n        type: IgcDockManagerPaneType.splitPane,\n        orientation: IgcSplitPaneOrientation.horizontal,\n        floatingLocation: {\n          x: 50,\n          y: 100\n        },\n        floatingWidth: 200,\n        floatingHeight: 100,\n        panes: [{\n          type: IgcDockManagerPaneType.contentPane,\n          header: 'Notifications',\n          contentId: 'content9',\n          allowDocking: false\n        }]\n        // floatingResizable: true\n      }, {\n        type: IgcDockManagerPaneType.splitPane,\n        allowEmpty: true,\n        orientation: IgcSplitPaneOrientation.horizontal,\n        floatingLocation: {\n          x: 250,\n          y: 350\n        },\n        floatingWidth: 300,\n        floatingHeight: 200,\n        panes: [{\n          type: IgcDockManagerPaneType.contentPane,\n          header: 'Floating 1',\n          contentId: 'content10',\n          acceptsInnerDock: false\n        }, {\n          type: IgcDockManagerPaneType.contentPane,\n          header: 'Floating 2',\n          contentId: 'content11',\n          allowMaximize: false\n        }]\n      }, {\n        type: IgcDockManagerPaneType.splitPane,\n        orientation: IgcSplitPaneOrientation.horizontal,\n        floatingLocation: {\n          x: 750,\n          y: 200\n        },\n        floatingWidth: 300,\n        floatingHeight: 200,\n        panes: [{\n          type: IgcDockManagerPaneType.tabGroupPane,\n          allowEmpty: true,\n          panes: [{\n            type: IgcDockManagerPaneType.contentPane,\n            header: 'Floating Tab 1',\n            contentId: 'content12'\n          }, {\n            type: IgcDockManagerPaneType.contentPane,\n            header: 'Floating Tab 2',\n            contentId: 'content13'\n          }]\n        }]\n      }]\n    };\n    this.layout2 = {\n      rootPane: {\n        type: IgcDockManagerPaneType.splitPane,\n        orientation: IgcSplitPaneOrientation.horizontal,\n        panes: [{\n          type: IgcDockManagerPaneType.splitPane,\n          orientation: IgcSplitPaneOrientation.vertical,\n          panes: [{\n            type: IgcDockManagerPaneType.contentPane,\n            contentId: 'content1',\n            header: 'Content Pane 1'\n          }, {\n            type: IgcDockManagerPaneType.contentPane,\n            contentId: 'content2',\n            header: 'Unpinned Pane 1',\n            isPinned: false\n          }]\n        }, {\n          type: IgcDockManagerPaneType.splitPane,\n          orientation: IgcSplitPaneOrientation.vertical,\n          size: 200,\n          panes: [{\n            type: IgcDockManagerPaneType.documentHost,\n            size: 200,\n            rootPane: {\n              type: IgcDockManagerPaneType.splitPane,\n              orientation: IgcSplitPaneOrientation.horizontal,\n              panes: [{\n                type: IgcDockManagerPaneType.tabGroupPane,\n                panes: [{\n                  type: IgcDockManagerPaneType.contentPane,\n                  header: 'Document 1',\n                  contentId: 'content3'\n                }, {\n                  type: IgcDockManagerPaneType.contentPane,\n                  header: 'Document 2',\n                  contentId: 'content4'\n                }]\n              }]\n            }\n          }, {\n            type: IgcDockManagerPaneType.contentPane,\n            contentId: 'content5',\n            header: 'Unpinned Pane 2',\n            isPinned: false\n          }]\n        }, {\n          type: IgcDockManagerPaneType.splitPane,\n          orientation: IgcSplitPaneOrientation.vertical,\n          panes: [{\n            type: IgcDockManagerPaneType.tabGroupPane,\n            size: 200,\n            // selectedIndex: 1,\n            panes: [{\n              type: IgcDockManagerPaneType.contentPane,\n              contentId: 'content6',\n              header: 'Tab 1'\n            }, {\n              type: IgcDockManagerPaneType.contentPane,\n              contentId: 'content7',\n              header: 'Tab 2'\n            }, {\n              type: IgcDockManagerPaneType.contentPane,\n              contentId: 'content8',\n              header: 'Tab 3'\n            }, {\n              type: IgcDockManagerPaneType.contentPane,\n              contentId: 'content9',\n              header: 'Tab 4'\n            }, {\n              type: IgcDockManagerPaneType.contentPane,\n              contentId: 'content10',\n              header: 'Tab 5'\n            }]\n          }, {\n            type: IgcDockManagerPaneType.contentPane,\n            contentId: 'content11',\n            header: 'Content Pane 2'\n          }]\n        }]\n      },\n      floatingPanes: [{\n        type: IgcDockManagerPaneType.splitPane,\n        orientation: IgcSplitPaneOrientation.horizontal,\n        floatingHeight: 150,\n        floatingWidth: 250,\n        floatingLocation: {\n          x: 300,\n          y: 200\n        },\n        panes: [{\n          type: IgcDockManagerPaneType.contentPane,\n          contentId: 'content12',\n          header: 'Floating Pane'\n        }]\n      }]\n    };\n    this.layout = this.layout1;\n    this.logEnabled = false;\n    this.id = 100;\n    this.foundElem = [];\n    this.hiddenPanes = [];\n  }\n  saveLayout() {\n    this.savedLayout = JSON.stringify(this.dockManager.layout);\n  }\n  loadLayout() {\n    this.dockManager.layout = JSON.parse(this.savedLayout);\n  }\n  setActivePane() {\n    // this.dockManager.activePane = this.teamExplorerPane;\n    this.dockManager.activePane = this.unpinnedToolboxPane;\n  }\n  addPane() {\n    this.newId = `content${this.id++}`;\n    const newDiv = this.createElement(this.newId, 'input');\n    this.dockManager.appendChild(newDiv);\n    this.layout.floatingPanes[1].panes.push({\n      type: IgcDockManagerPaneType.contentPane,\n      header: 'NewPane',\n      contentId: this.newId\n    });\n    this.dockManager.layout = Object.assign({}, this.layout);\n  }\n  addTab() {\n    this.findElement(this.layout.rootPane, IgcDockManagerPaneType.tabGroupPane);\n    this.newId = `content${this.id++}`;\n    const newDiv = this.createElement(this.newId, 'button');\n    this.dockManager.appendChild(newDiv);\n    const tabGroupPane = this.foundElem[0];\n    tabGroupPane.panes.push({\n      type: IgcDockManagerPaneType.contentPane,\n      header: 'NewTab',\n      contentId: this.newId\n    });\n    this.dockManager.layout = Object.assign({}, this.layout);\n  }\n  disableContentPane() {\n    this.findElement(this.layout.rootPane, IgcDockManagerPaneType.tabGroupPane);\n    const tabGroupPane = this.foundElem[0];\n    tabGroupPane.panes[0].disabled = true;\n    this.dockManager.layout = Object.assign({}, this.layout);\n  }\n  toggleProximityDock() {\n    this.dockManager.proximityDock = !this.dockManager.proximityDock;\n  }\n  focusPane() {\n    this.dockManager.focusPane('content12');\n  }\n  findElement(pane, type) {\n    if (!pane) {\n      return;\n    }\n    if (pane.type === type) {\n      this.foundElem.push(pane);\n    }\n    if (pane.type === IgcDockManagerPaneType.tabGroupPane || pane.type === IgcDockManagerPaneType.splitPane) {\n      for (const c of pane.panes) {\n        this.findElement(c, type);\n      }\n    }\n    if (pane.type === IgcDockManagerPaneType.documentHost) {\n      this.findElement(pane.rootPane, type);\n    }\n  }\n  showPane() {\n    const index = this.hiddenPanesSelect.selectedIndex;\n    if (index >= 0) {\n      this.hiddenPanes[index].hidden = false;\n      this.hiddenPanes.splice(index, 1);\n      this.hiddenPanes = [...this.hiddenPanes];\n      this.dockManager.layout = Object.assign({}, this.dockManager.layout);\n    }\n  }\n  showAllPanes() {\n    if (this.hiddenPanes.length > 0) {\n      for (const pane of this.hiddenPanes) {\n        pane.hidden = false;\n      }\n      this.hiddenPanes = [];\n      this.dockManager.layout = Object.assign({}, this.dockManager.layout);\n    }\n  }\n  toggleInBoundaries() {\n    this.dockManager.containedInBoundaries = !this.dockManager.containedInBoundaries;\n  }\n  createElement(content, typeOfElement) {\n    const someContent = document.createTextNode(content);\n    let elem;\n    switch (typeOfElement) {\n      case 'button':\n        elem = document.createElement('button');\n        elem.appendChild(someContent);\n        break;\n      case 'input':\n        elem = document.createElement('input');\n        break;\n    }\n    const divContent = document.createElement('div');\n    divContent.appendChild(elem ? elem : someContent);\n    divContent.setAttribute('slot', content);\n    divContent.setAttribute('style', 'width: 100%; height: 100%;');\n    return divContent;\n  }\n  handlePaneClose(event) {\n    this.log(event);\n    if (this.hideOnCloseCheckbox.checked) {\n      for (const pane of event.detail.panes) {\n        pane.hidden = true;\n        this.hiddenPanes.splice(0, 0, pane);\n        this.hiddenPanes = [...this.hiddenPanes];\n      }\n      event.preventDefault();\n    }\n    // const panes = event.detail.panes;\n    // const confirmed = confirm(`Are you sure you want to close panes '${panes.map(p => p.header).join(', ')}'?`);\n    // // event.detail.panes = [panes[0]];\n    // if (confirmed) {\n    //   for (const pane of panes) {\n    //     const contentChild = this.dockManager.querySelector(`[slot=${pane.contentId}]`);\n    //     this.dockManager.removeChild(contentChild);\n    //   }\n    // } else {\n    //   event.preventDefault();\n    // }\n  }\n\n  handlePaneScroll(event) {\n    this.log(event);\n    // // check if the pane content is scrolled to bottom\n    // let scrolledToBottom = false;\n    // const contentEl = event.detail.contentElement;\n    // if (contentEl.scrollHeight - contentEl.scrollTop - contentEl.clientHeight < 1)\n    // {\n    //   scrolledToBottom = true;\n    // }\n    // this.log(\"Scrolled to bottom: \" + scrolledToBottom);\n  }\n\n  handlePinnedToggle(event) {\n    this.log(event);\n    // if (event.detail.sourcePane.type === IgcDockManagerPaneType.contentPane) {\n    //   event.detail.panes = [event.detail.sourcePane];\n    // }\n    // event.preventDefault();\n  }\n\n  handleActivePaneChanged(event) {\n    this.log(event);\n  }\n  handleDragStart(event) {\n    this.log(event);\n    // event.preventDefault();\n  }\n\n  handleDragOver(event) {\n    const args = event.detail;\n    this.log(args.action);\n  }\n  handleDragEnd(event) {\n    this.log(event);\n  }\n  handleSplitterResizeStart(event) {\n    this.log(event, Object.assign({}, event.detail));\n    // event.preventDefault();\n  }\n\n  handleSplitterResizeEnd(event) {\n    this.log(event, Object.assign({}, event.detail));\n  }\n  handleFloatingPaneResizeStart(event) {\n    this.log(event, Object.assign({}, event.detail));\n    // event.preventDefault();\n  }\n\n  handleFloatingPaneResizeMove(event) {\n    this.log(event, Object.assign({}, event.detail));\n  }\n  handleFloatingPaneResizeEnd(event) {\n    this.log(event, Object.assign({}, event.detail));\n  }\n  handleLayoutChange(event) {\n    this.log(event);\n  }\n  // private getCustomResourceStrings(): IgcDockManagerResourceStrings {\n  //   const customResourceStrings: IgcDockManagerResourceStrings = {\n  //     close: '[Custom]Close',\n  //     pin: '[Custom]Pin',\n  //     unpin: '[Custom]Unpin',\n  //     maximize: '[Custom]Maximize',\n  //     minimize: '[Custom]Minimize',\n  //     moreOptions: '[Custom]More options'\n  //   };\n  //   return customResourceStrings;\n  // }\n  log(message) {\n    if (this.logEnabled) {\n      for (var _len = arguments.length, optionalParams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        optionalParams[_key - 1] = arguments[_key];\n      }\n      console.log(message, optionalParams);\n    }\n  }\n  render() {\n    return h(Host, null, h(\"div\", null, h(\"button\", {\n      onClick: () => this.saveLayout()\n    }, \"Save Layout\"), h(\"button\", {\n      onClick: () => this.loadLayout()\n    }, \"Load Layout\"), h(\"button\", {\n      onClick: () => this.setActivePane()\n    }, \"Set Active Pane\"), h(\"button\", {\n      onClick: () => this.addPane()\n    }, \"Add Floating Pane\"), h(\"button\", {\n      onClick: () => this.addTab()\n    }, \"Add Tab Pane\"), h(\"button\", {\n      onClick: () => this.disableContentPane()\n    }, \"Disable Tab Pane\"), h(\"button\", {\n      onClick: () => this.focusPane()\n    }, \"Focus Pane\"), h(\"button\", {\n      onClick: () => this.toggleProximityDock()\n    }, \"Toggle Proximity Dock\"), h(\"input\", {\n      id: \"hideOnClose\",\n      type: \"checkbox\",\n      style: {\n        marginLeft: '20px'\n      },\n      ref: el => this.hideOnCloseCheckbox = el\n    }), h(\"label\", {\n      htmlFor: \"hideOnClose\"\n    }, \"Hide on close\"), h(\"span\", {\n      style: {\n        marginLeft: '20px'\n      }\n    }, \"Hidden Panes:\"), h(\"select\", {\n      style: {\n        width: '150px'\n      },\n      ref: el => this.hiddenPanesSelect = el\n    }, this.hiddenPanes.map(p => {\n      return h(\"option\", {\n        value: p.id\n      }, p.header);\n    })), h(\"button\", {\n      onClick: () => this.showPane()\n    }, \"Show Pane\"), h(\"button\", {\n      onClick: () => this.showAllPanes()\n    }, \"Show All Panes\"), h(\"button\", {\n      onClick: () => this.toggleInBoundaries()\n    }, \"Toggle In Boundaries\")), h(\"igc-dockmanager\", {\n      layout: this.layout,\n      onPaneClose: this.handlePaneClose.bind(this),\n      onPaneScroll: this.handlePaneScroll.bind(this),\n      onPanePinnedToggle: this.handlePinnedToggle.bind(this),\n      onActivePaneChanged: this.handleActivePaneChanged.bind(this),\n      onPaneDragStart: this.handleDragStart.bind(this),\n      onPaneDragOver: this.handleDragOver.bind(this),\n      onPaneDragEnd: this.handleDragEnd.bind(this),\n      onSplitterResizeStart: this.handleSplitterResizeStart.bind(this),\n      onSplitterResizeEnd: this.handleSplitterResizeEnd.bind(this),\n      onFloatingPaneResizeStart: this.handleFloatingPaneResizeStart.bind(this),\n      onFloatingPaneResizeMove: this.handleFloatingPaneResizeMove.bind(this),\n      onFloatingPaneResizeEnd: this.handleFloatingPaneResizeEnd.bind(this),\n      onLayoutChange: this.handleLayoutChange.bind(this),\n      // resourceStrings={this.getCustomResourceStrings()}\n      ref: el => this.dockManager = el,\n      // allowFloatingPanesResize={false}\n      showHeaderIconOnHover: 'closeOnly'\n    }, h(\"div\", {\n      slot: \"header1\"\n    }, h(\"span\", {\n      style: {\n        color: 'red'\n      }\n    }, \"Solution Explorer\"), h(\"button\", null, \"H\")), h(\"div\", {\n      slot: \"tabHeader1\"\n    }, h(\"span\", {\n      style: {\n        color: 'orange'\n      }\n    }, \"Solution Explorer\"), h(\"button\", null, \"T\")), h(\"div\", {\n      slot: \"unpinnedHeader1\"\n    }, h(\"span\", {\n      style: {\n        color: 'blue'\n      }\n    }, \"Solution Explorer\"), h(\"button\", null, \"U\")), h(\"button\", {\n      style: {\n        background: 'pink'\n      },\n      slot: \"tabHeaderCloseButton\"\n    }, \"Y\"), h(\"div\", {\n      slot: \"content1\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, \"Content 1\"), h(\"div\", {\n      slot: \"content2\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, h(\"button\", null, \"Tests\")), h(\"div\", {\n      slot: \"content3\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, \"Content 3\"), h(\"div\", {\n      slot: \"content4\"\n    }, \"Content 4\"), h(\"div\", {\n      slot: \"content5\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, \"Content 5\"), h(\"div\", {\n      slot: \"content6\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, \"Content 6\"), h(\"div\", {\n      slot: \"content7\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, \"Content 7\"), h(\"div\", {\n      slot: \"content8\"\n    }, \"Content 8\"), h(\"div\", {\n      slot: \"content9\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, \"Content 9\"), h(\"div\", {\n      slot: \"content10\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, h(\"button\", null, \"Test\")), h(\"div\", {\n      slot: \"content11\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, h(\"input\", null)), h(\"div\", {\n      slot: \"content12\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, h(\"p\", null, \"Content 12 \"), h(\"p\", null, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. \")), h(\"div\", {\n      slot: \"content13\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, \"Content 13\"), h(\"div\", {\n      slot: \"content14\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, \"Content 14\"), h(\"div\", {\n      slot: \"toolboxHeader\"\n    }, h(\"span\", null, \"[U] Toolbox\")), h(\"div\", {\n      slot: \"teamExplorerHeader\"\n    }, h(\"span\", null, \"[U] Team Explorer\"))));\n  }\n};\nSampleComponent.style = sampleComponentCss;\nexport { IgcButtonComponent as igc_button_component, IgcContentPaneComponent as igc_content_pane_component, IgcContextMenuComponent as igc_context_menu_component, IgcDockManager as igc_dockmanager, IgcDocumentHostComponent as igc_document_host_component, IgcFloatingPaneComponent as igc_floating_pane_component, IgcIconComponent as igc_icon_component, IgcJoystickIconComponent as igc_joystick_icon_component, IgcJoystickIndicatorComponent as igc_joystick_indicator_component, IgcPaneHeaderComponent as igc_pane_header_component, IgcPaneNavigatorComponent as igc_pane_navigator_component, IgcResizerComponent as igc_resizer_component, IgcRootDockingIndicatorComponent as igc_root_docking_indicator_component, IgcSplitPaneComponent as igc_split_pane_component, IgcSplitterComponent as igc_splitter_component, IgcTabHeaderComponent as igc_tab_header_component, IgcTabPanelComponent as igc_tab_panel_component, IgcTabsComponent as igc_tabs_component, IgcUnpinnedPaneHeaderComponent as igc_unpinned_pane_header_component, SampleComponent as sample_component };","map":{"version":3,"names":["buttonComponentCss","IgcButtonComponent","render","h","Host","disabled","name","type","value","Utils","isDockingIndicatorVertical","position","IgcDockingIndicatorPosition","top","bottom","outerTop","outerBottom","isDockingIndicatorBefore","left","outerLeft","isDockingIndicatorBeforeRTL","right","outerRight","isDockingIndicatorOuter","isSplitPaneVertical","splitPane","orientation","IgcSplitPaneOrientation","vertical","isAltPressed","event","altKey","getModifierState","isControlOrMetaPressed","ctrlKey","metaKey","partNameMap","partNameInfo","delimiter","arguments","length","undefined","Object","keys","filter","key","join","getDirection","element","direction","dir","parent","parentElement","IGC_DEFAULT_PANE_SIZE","IGC_DEFAULT_UNPIN_PANE_SIZE","IGC_RESIZING_MIN_SIZE","IGC_DEFAULT_RESIZE","IGC_DRAG_FLYOUT_THRESHOLD","IgcTabHeadersPosition","IgcContextMenuOrientation","IgcPinBehavior","contentPaneComponentCss","IgcContentPaneComponent","componentDidRender","rendered","emit","size","unpinnedSize","parts","contentId","isSingleFloating","role","header","tabindex","style","flex","isFlyout","part","contextMenuComponentCss","IgcContextMenuComponent","handleDocumentResize","menuClosed","handleDocumentMouseDown","ev","composedPath","every","el","elem","emitMenuClosed","connectedCallback","document","defaultView","addEventListener","disconnectedCallback","removeEventListener","componentDidLoad","isTabsMoreButton","target","querySelector","menuItemsDivRect","menuItemsDiv","getBoundingClientRect","hostRect","rootNodeShadowHost","getRootNode","isFloating","host","rootHostRect","isTabs","tagName","toLowerCase","tabsContentHost","shadowRoot","tabRect","tabsContentRect","isRTL","shouldChangeOpenOrientation","window","innerHeight","height","menuToBottom","menuToTop","menuToStart","width","menuToEnd","menuToCenter","menuLeft","menuTop","menuBottom","visibility","focusItemAndSetActiveIndex","firstMenuItem","focus","parentNode","handleKeyboardEvents","item","menuItemChildren","querySelectorAll","activeIndex","clickHandler","handleMenuItemClick","renderItemIcon","Fragment","iconName","renderCloseButton","renderUnpinButton","exportparts","ref","onMouseDown","preventDefault","items","map","onKeyDown","bind","onClick","flexGrow","userSelect","displayText","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Map","_isNativeFunction","has","get","set","Wrapper","_construct","Parent","args","a","push","Function","sham","Proxy","Date","toString","e","fn","indexOf","o","p","setPrototypeOf","__proto__","getPrototypeOf","customElements","watermarkRegistered","TrialWatermark","_HTMLElement","_super","_this","shadow","attachShadow","mode","__anchor","createElement","setAttribute","img","textContent","appendChild","getElementById","__themes","hasAttribute","getAttribute","anchorImg","prepend","head","HTMLElement","define","TwoWayMap","reversedMap","getByValue","delete","hasValue","IgcDockManagerService","dockManager","unpinnedLocationMap","keyboardDockPane","getContent","clientContentPanesMap","generateUuid","replace","c","r","Math","random","v","populatePaneParents","isRoot","isInDocHost","id","pane","panes","paneParentMap","IgcDockManagerPaneType","contentPane","hidden","visibleDocuments","visibleContentPanes","tabGroupPane","cp","documentHost","documentHosts","rootPane","populatePinLocations","addContentPanePinLocation","resolvePaneUnpinLocation","unpinnedLocation","findClosestDocumentHost","findPaneUnpinLocation","IgcUnpinnedLocation","isPinned","panePath","getPanePath","maxCommonParents","closestDocHost","docHost","docHostPath","paneParent","docHostParent","commonParentIndex","commonParent","paneIndex","docHostIndex","horizontal","removePane","maximizedPane","layout","floatingPanes","floatingIndex","splice","index","allowEmpty","rootParent","getRootParent","isFloatingPane","removeFloatingPaneIfEmpty","childPanes","getChildContentPanes","addFloatingPane","content","location","floatingPane","floatingLocation","floatingWidth","floatingHeight","draggedPane","initialFloatingPaneLocation","forceDragPane","getChildContentPanesRecursive","children","child","getChildDocHostRecursive","getVisibleContentPanes","t","isContentPaneVisible","getPaneToDock","removeDocumentHost","getParent","dockToCenter","targetPane","targetContainer","targetParent","panesToDock","paneToDock","documentOnlyDrag","dockToEdge","isIndicatorVertical","proximityDock","dockingIndicator","dropTargetPaneInfo","floatingPaneWithoutDocHost","activePane","insertIndex","newSplitPane","updateLayout","assign","hasMaximizedProp","getLastMaximizedPane","Array","from","isMaximized","processLayout","indicesToDelete","floatingPaneZIndicesMap","flyoutPane","path","currentPane","getDocHostParent","resizeFlyoutPane","delta","paneSize","newSize","resizePane","deltaPercentage","parentPane","getSplitPaneVisibleChildren","paneSizes","sizeSum","reduce","calcDelta","togglePin","pinBehavior","allPanes","newValue","getActualIsPinned","isTabGroup","allowPinning","isTabGroupPinning","selectedPane","selectedIndex","sourcePane","panePinnedToggle","defaultPrevented","targetPanes","closePane","paneToRemove","paneRemoved","removeAllowedPanes","emitPaneClose","closeFloatingPane","paneClose","getActualAllowClose","maximizePane","moveFloatingPane","resizeFloatingPaneStart","resizerLocation","resizeArgs","resizeStartEvent","floatingPaneResizeStart","_a","x","y","initialFloatingPaneWidth","_b","initialFloatingPaneHeight","_c","resizeFloatingPane","currX","currY","currW","currH","minW","minH","initialWidth","initialHeight","initialLocation","totalOffsetY","dragMoveArgs","totalOffsetX","newX","newY","newWidth","newHeight","maxHeight","documentElement","clientHeight","maxWidth","clientWidth","IgcResizerLocation","topLeft","topRight","bottomLeft","bottomRight","resizingArgs","oldWidth","oldHeight","oldLocation","newLocation","resizingEvent","floatingPaneResizeMove","cancel","resizeFloatingPaneEnd","floatingPaneResizeEnd","layoutChange","floatPane","panesToRemove","paneToAdd","forEach","floatTab","documentOnly","hasFloatingPaneHeader","childPane","rootDockPane","newRootPane","dockPane","draggedFloatingPane","center","allowClose","some","closeTabPane","bringFloatingPaneOnTop","oldZIndex","zIndex","createContextMenuItems","resourceStrings","close","unpin","dragPaneStart","rect","clientX","clientY","disableDockingAndFloating","allowDocking","allowFloating","dragStartEvent","paneDragStart","draggedPanes","initialDragClientPoint","action","IgcPaneDragActionType","dragOverEvent","paneDragOver","isValid","detail","pointInBoundaries","minDragPosition","dockManagerRect","maxDragPosition","dragPaneMove","containedInBoundaries","isValidDrop","dragOver","dragPaneEnd","draggedTab","docked","paneDragEnd","dropShadowRect","proximityDockPosition","emitDragOverEvent","getDropShadowRectRoot","getDropShadowRect","disableDocking","dragTabStart","shiftLeftThreshold","Number","MAX_VALUE","shiftRightThreshold","initialTabHeaderClickOffset","dragTabMove","rects","offsetX","headerRect","prevHeaderRect","nextHeaderRect","lastVisibleHeaderRect","tabsRect","clickOffsetX","clickOffsetY","moveTab","oldIndex","newIndex","shiftTabLeft","shiftTabRight","abs","floatTabHeader","DOMRect","resolveChildPanesAllowMaximize","visiblePanes","allowMaximize","normalizeMaximizedPane","resolveAllowMaximize","dockingPosition","dockingDirection","shadowRect","parentRect","dropTargetParentRect","targetRect","draggedPaneSize","isOuter","baseRect","draggedPaneIndex","dropTargetIndex","isSameSplitPane","panesTotalSize","b","beforePanesTotalSize","slice","afterPanesTotalSize","rootRect","isEmptyDockManager","selectHiddenTab","tabGroup","draggedIndex","forceDragTabHeader","cacheDocumentsOrder","documentsCache","cacheContentPanesOrder","contentPanesCache","focusPrevContentPane","activePaneIndex","prevPane","focusNextContentPane","nextPane","IgcDockManagerKeyboardService","service","handleKeydown","disableKeyboardNavigation","ctrlOrMetaKey","shiftKey","startsWith","handleFocusPane","stopPropagation","focusElement","handleDockPane","setPaneNavigatorMeta","f6","arrowLeft","arrowRight","handleRootDockPane","activePaneParent","handleInnerDockPane","initIndex","allItems","concat","metadata","activePanes","activeDocuments","initialIndex","previousActivePaneIndex","navigationPaneMeta","dockmanagerComponentCss","ActionReason","PANE_HEADER_HEIGHT","IgcDockManager","_tabHeaderIconClicked","keyboardService","activePaneInternalSet","domObserver","MutationObserver","mutationCallback","shouldMovePane","scheduledCallbacks","shouldClearActivePane","isDragging","splitterOffset","loaded","resizeObserver","ResizeObserver","restrictFloatingPaneSize","proximityDockThreshold","proximityOuterDockThreshold","templatableComponents","slot","targetName","targetSlot","targetPart","updateTemplates","templates","slotted","slottedArray","usedTemplates","templatableSlots","comp","matchedSlots","s","assignedElements","handleCustomContentFocusIn","eventArgs","currentTarget","setActivePane","_isValidDrop","handleShadowRootFocusOut","paneToFocus","rootNode","requestAnimationFrame","activeElement","reason","maximizeOrMinimize","clearActivePane","flyoutPaneChanged","scheduleAfterRender","setFocus","containedInBoundariesChanged","layoutChanged","draggedPaneChanged","showDockingIndicators","dropPositionChanged","paneDragMoved","dropPosition","activePaneChange","oldValue","newPane","oldPane","activePaneChanged","contentPaneId","visibleTabs","tabHeaderElement","tabHeadersMap","firstTabRect","visibleIndex","handleFocusOut","_event","contains","handleKeyDown","handlePointerDown","pathHTMLElements","isMaximizeOrMinimize","attributes","getNamedItem","handlePointerUp","dropPane","handlePaneDragEnd","Promise","resolve","focusPane","isUnpinned","handlePaneFlyout","observe","subtree","childList","dockManagerChildren","htmlElem","componentWillLoad","contextMenuMeta","closestElement","closest","lang","resourceStringsMap","componentWillRender","lastMaximizedPane","shouldFlyout","handleMaximize","callback","shift","processTemplates","removeCustomContentEventListeners","disconnect","handleTabsRendered","drop","focusablePane","findFocusablePane","handleSplitPaneRendered","candidate","splitPanes","tabGroupPanes","docHostPane","find","component","template","componentMatches","match","slottedClose","cloneNode","handleTabHeaderFocus","handleContentPaneFocus","handleUnpinnedHeaderFocus","elemToFocus","contentPanesElementMap","unpinnedHeadersMap","Error","records","rec","addedNodes","removedNodes","body","cursor","paneElement","panesElementMap","isPaneSizeWithinConstraints","offset","minSize","maxSize","parseFloat","getComputedStyle","minWidth","minHeight","isNaN","handleFlyoutSplitterResizeEnd","splitter","previousPane","previousElementSibling","paneWidth","paneHeight","splitterResizeEnd","handleSplitterResizeStart","splitPaneOrientation","splitterEl","nextElementSibling","splitterResizeStart","showDragGhost","handleSplitterResizeEnd","splitPaneChildren","paneComponents","sizeProperty","offsetPercentage","rtl","handlePinToggle","handlePaneClose","handleFloatingPaneClose","handleUnpinnedTabMouseDown","handleUnpinnedTabKeyDown","handlePaneDragStart","dragStarted","handlePaneDragMove","handleDropPositionChange","cursorLocation","getProximityDockPosition","getInnerDropTargetParentRect","dragMoved","targetDocHostParent","targetPaneParent","allowOuterProximityDock","targetPaneParentRect","dropTarget","targetPaneRect","centerX","centerY","acceptsInnerDock","allowInnerDock","isOverSplitter","splitterRect","allowOuterTopDock","allowOuterBottomDock","allowOuterLeftDock","allowOuterRightDock","handleTabHeaderDragStart","handleTabHeaderDragMove","tabs","tabHeaders","headerIndex","th","tabRectsInfo","tabMoved","handleTabHeaderDragEnd","handleFloatingPaneResizeStart","resizeStarted","handleFloatingPaneResizeMove","handleFloatingPaneResizeEnd","elements","elementsFromPoint","splitterIndex","adjacentElement","floatingId","topElement","indicatorTarget","dockingIndicatorElement","joystickIcon","empty","joystickIndicator","getDropTargetParentRect","draggedHeader","topFloatingPane","lastIndexOf","dropPaneRoot","dockedPanesContainer","outerParent","outerParentRect","handlePaneContentMouseDown","handlePaneContentScroll","contentElement","paneScroll","handlePaneHeaderMouseDown","handleTabHeaderMouseDown","et","showHeaderIconOnHover","click","handleFloatingPaneMouseDown","isContextMenu","isFloatingPaneHeader","nodeName","handleTabIconClick","tabHeader","moreOptionsContainer","menuItems","contextMenuPosition","handleContextMenuClosed","handleTabSelectedIndexChanged","handleHiddenTabSelected","handleSelectedTabOutOfView","handleTabIconKeyDown","targetElem","handleTabSelectedChanged","emitPaneHeaderConnected","paneHeaderConnected","emitPaneHeaderDisconnected","paneHeaderDisconnected","emitTabHeaderConnected","tabHeaderConnected","emitTabHeaderDisconnected","tabHeaderDisconnected","removeHoveredPane","hoveredPane","togglePaneHeaderVisibility","paneRect","withinPane","renderButtonsTemplates","onSlotchange","renderContentPane","forceDrag","isSingleFloatingContentPane","hasHeader","maximized","onMouseMove","onMouseLeave","class","onFocusin","isActive","pinned","forcedDrag","onPinToggle","onMaximize","onDragMoved","onDragStarted","onDragEnded","onClose","onElementConnected","onElementDisconnected","showPaneHeaders","floatingHeaderId","headerId","onScroll","renderSplitter","onResizeStart","onResizeEnd","renderDocumentHost","renderSplitPane","renderTabGroup","isInDocumentHost","isSingleTab","contentIds","hasHeaders","onMaximizeMinimizeFocus","onSelectedIndexChanged","onHiddenTabSelected","onSelectedTabOutOfView","onRendered","tabHeadersPosition","renderTabPanel","renderTabHeader","onSelectedChanged","onIconKeyDown","onIconClicked","tabHeaderId","title","paneComponent","renderUnpinnedTabArea","isHorizontal","isLeft","isRight","isBottom","l","tabAreaClasses","onFocus","unpinnedHeaderId","renderFlyoutPane","flyoutClasses","flyoutLocation","renderFloatingPanes","containsMaximizedPane","onWndResizeStart","onWndResizeMove","onWndResizeEnd","allowResize","floatingResizable","allowFloatingPanesResize","renderRootDockingIndicator","renderDockingIndicators","startPosition","endPosition","display","flexDirection","justifyContent","allowCenterDock","renderContextMenu","onMenuClosed","renderDropShadow","_d","handlePaneNavigatorClosed","isParentFloating","renderPaneNavigator","onClosed","text","documentHostComponentCss","IgcDocumentHostComponent","floatingPaneComponentCss","IgcFloatingPaneComponent","handleResizerMove","wndResizeMove","handleResizeStart","offsetY","wndResizeStart","handleResizeEnd","wndResizeEnd","styles","floatingMinWidth","floatingMinHeight","onResizerDragStart","onResizerMoved","onResizerDragEnd","icons","pin","first_page","chevron_left","flip","crop_square","arrow_drop_down","maximize","minimize","more","iconComponentCss","IgcIconComponent","innerHTML","joystickIconComponentCss","IgcJoystickIconComponent","resolveIconDivClass","positionClass","classes","resolveMargin","resolveGridRow","isDocHost","resolveGridColumn","renderIcon","transform","gridRow","gridColumn","margin","joystickIndicatorComponentCss","IgcJoystickIndicatorComponent","isEmptyCenter","isEmptyEdge","selector","shouldAllowCenterDock","renderBlankIndicator","renderIndicator","IGNORE_DRAG","IgcDragService","captureTarget","_capturedElement","val","dragTolerance","dragEdgeTolerance","handleWheel","targets","Element","startX","startY","lastX","lastY","setPointerCapture","pointerId","subscribeDragEvents","handlePointerMove","currentX","currentY","triggerDragStart","dragMove","unsubscribeDragEvents","releasePointerCapture","dragEnd","dragStart","passive","destroy","forceDragging","paneHeaderComponentCss","IgcPaneHeaderComponent","pinButtonClick","pinToggle","maximizeButtonClick","closeButtonClick","dragService","dragEnded","elementConnected","elementDisconnected","forcedDragChanged","renderMaximizeButton","renderMinimizeButton","renderPinButton","commonParts","active","floating","paneHeaderParts","paneHeaderContentParts","paneHeaderActionsParts","exportParts","paneNavigatorComponentCss","IgcPaneNavigatorComponent","scrollItemToView","selectedItem","allItemsElement","selectedItemRect","itemsContainerRect","scrollTop","handleKeyUp","code","closed","isShiftPressed","decreaseSelectedIndex","increaseSelectedIndex","navigateToIndex","counter","amount","paneNav","resolveItemPart","selected","selectItem","renderItems","onMouseUp","tabIndex","documents","resizerComponentCss","IgcResizerComponent","resizerDragStart","resizerDragEnd","resizerMoved","isCornerResizer","pointerEvents","rootDockingIndicatorComponentCss","IgcRootDockingIndicatorComponent","splitPaneComponentCss","IgcSplitPaneComponent","splitterComponentCss","IgcSplitterComponent","handleMouseUp","dragStartHelper","dragEndHelper","ghostElement","clientCoordinate","startCoordinate","endCoordinate","dragOffset","constrainFlyoutResize","constrainSplitPaneResize","calculateOffset","isArrowUp","isArrowLeft","isArrowDown","isArrowRight","handleKeydownEvent","handleMouseDown","resizeStart","offsetWidth","offsetHeight","flyoutMaxSize","resizeEnd","isStartLocation","minOffset","maxOffset","dockmanager","isVertical","referencePaneSize","handleSlotChange","handleSlot","hasCustomSplitterHandle","handle","splitterClasses","ghostClasses","tabHeaderComponentCss","IgcTabHeaderComponent","iconClick","iconClicked","keyDown","iconKeyDown","iconSlot","isIconClicked","tabMouseDown","handleMouseEnter","hovered","handleMouseLeave","activeChanged","queryButton","button","shouldShowButton","renderMoreOptionsButton","moreOptions","showCloseOnHover","showMoreOptionsOnHover","tabParts","tabPanelComponentCss","IgcTabPanelComponent","emitSelectedChanged","selectedPropChange","componentDidUpdate","selectedChanged","tabsComponentCss","NEXT_TAB_ID","IgcTabsComponent","forcedUpdate","selectionOrder","tabHeadersDivResized","slotChanged","setTabsAttributes","updateSelection","handleSelectedIndexChanged","forceUpdate","onTabKeyDown","hiddenTabHeaders","handleMaximizeMinimizeFocus","maximizeMinimizeFocus","selectedIndexPropertyChanged","selectedIndexChanged","hiddenTabsMenuMeta","checkForActivePane","componentWillUpdate","headers","missingMatchIndex","findIndex","newSelectedIndex","currentSelectionId","existingMatchIndex","tabHeadersDiv","setHasHiddenTabs","tabPanels","tabPanelId","containerTop","offsetTop","handleTabMouseDown","selectedTabHeader","selectedTabOutOfView","hasHiddenTabs","activeTabHeader","hiddenActiveTabIndex","activeTabIndex","handleHiddenTabsMenuClick","hiddenTabSelected","renderHiddenTabsMenu","renderTabHeaders","commontParts","tabStripParts","tabStripActionsParts","showHiddenTabsMenu","renderMoreTabsButton","moreTabs","tabsContentParts","unpinnedPaneHeaderComponentCss","IgcUnpinnedPaneHeaderComponent","isTop","start","end","sampleComponentCss","customResourceStrings","addResourceStrings","SampleComponent","teamExplorerPane","unpinnedToolboxPane","unpinnedTeamExplorerPane","layout1","layout2","logEnabled","foundElem","saveLayout","savedLayout","JSON","stringify","loadLayout","parse","addPane","newId","newDiv","addTab","findElement","disableContentPane","toggleProximityDock","showPane","hiddenPanesSelect","hiddenPanes","showAllPanes","toggleInBoundaries","typeOfElement","someContent","createTextNode","divContent","log","hideOnCloseCheckbox","checked","handlePaneScroll","handlePinnedToggle","handleActivePaneChanged","handleDragStart","handleDragOver","handleDragEnd","handleLayoutChange","message","_len","optionalParams","_key","console","marginLeft","htmlFor","onPaneClose","onPaneScroll","onPanePinnedToggle","onActivePaneChanged","onPaneDragStart","onPaneDragOver","onPaneDragEnd","onSplitterResizeStart","onSplitterResizeEnd","onFloatingPaneResizeStart","onFloatingPaneResizeMove","onFloatingPaneResizeEnd","onLayoutChange","color","background"],"sources":["src/components/button/button-component.scss?tag=igc-button-component&encapsulation=shadow","src/components/button/button-component.tsx","src/utils/utils.ts","src/components/dockmanager/dockmanager.interfaces.ts","src/components/dockmanager/panes/content-pane-component.scss?tag=igc-content-pane-component&encapsulation=shadow","src/components/dockmanager/panes/content-pane-component.tsx","src/components/context-menu/context-menu-component.scss?tag=igc-context-menu-component&encapsulation=shadow","src/components/context-menu/context-menu-component.tsx","node_modules/igniteui-trial-watermark/index.js","src/utils/two-way-map.ts","src/components/dockmanager/dockmanager.service.ts","src/components/dockmanager/keyboard/keyboard.service.ts","src/components/dockmanager/dockmanager-component.scss?tag=igc-dockmanager&encapsulation=shadow","src/components/dockmanager/dockmanager-component.tsx","src/components/dockmanager/panes/document-host-component.css?tag=igc-document-host-component&encapsulation=scoped","src/components/dockmanager/panes/document-host-component.tsx","src/components/dockmanager/panes/floating-pane-component.scss?tag=igc-floating-pane-component&encapsulation=shadow","src/components/dockmanager/panes/floating-pane-component.tsx","src/components/icon/icons.ts","src/components/icon/icon-component.scss?tag=igc-icon-component&encapsulation=scoped","src/components/icon/icon-component.tsx","src/components/dockmanager/docking/joystick-icon-component.scss?tag=igc-joystick-icon-component&encapsulation=scoped","src/components/dockmanager/docking/joystick-icon-component.tsx","src/components/dockmanager/docking/joystick-indicator-component.scss?tag=igc-joystick-indicator-component&encapsulation=scoped","src/components/dockmanager/docking/joystick-indicator-component.tsx","src/components/drag-drop/drag.service.ts","src/components/dockmanager/panes/pane-header-component.scss?tag=igc-pane-header-component&encapsulation=shadow","src/components/dockmanager/panes/pane-header-component.tsx","src/components/dockmanager/pane-navigator/pane-navigator-component.scss?tag=igc-pane-navigator-component&encapsulation=shadow","src/components/dockmanager/pane-navigator/pane-navigator-component.tsx","src/components/dockmanager/panes/resizer-component.scss?tag=igc-resizer-component&encapsulation=scoped","src/components/dockmanager/panes/resizer-component.tsx","src/components/dockmanager/docking/root-docking-indicator-component.scss?tag=igc-root-docking-indicator-component&encapsulation=scoped","src/components/dockmanager/docking/root-docking-indicator-component.tsx","src/components/dockmanager/panes/split-pane-component.scss?tag=igc-split-pane-component&encapsulation=scoped","src/components/dockmanager/panes/split-pane-component.tsx","src/components/dockmanager/panes/splitter-component.scss?tag=igc-splitter-component&encapsulation=shadow","src/components/dockmanager/panes/splitter-component.tsx","src/components/tabs/tab-header-component.scss?tag=igc-tab-header-component&encapsulation=shadow","src/components/tabs/tab-header-component.tsx","src/components/tabs/tab-panel-component.scss?tag=igc-tab-panel-component&encapsulation=shadow","src/components/tabs/tab-panel-component.tsx","src/components/tabs/tabs-component.scss?tag=igc-tabs-component&encapsulation=shadow","src/components/tabs/tabs-component.tsx","src/components/dockmanager/panes/unpinned-pane-header-component.scss?tag=igc-unpinned-pane-header-component&encapsulation=shadow","src/components/dockmanager/panes/unpinned-pane-header-component.tsx","src/components/sample-component/sample-component.css?tag=sample-component&encapsulation=scoped","src/components/sample-component/sample-component.tsx"],"sourcesContent":["%button-display {\r\n  position: static;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: auto;\r\n  height: 100%;\r\n  min-width: 10px;\r\n  padding: 2px 4px;\r\n  border-radius: 2px;\r\n  color: $button-text;\r\n  cursor: pointer;\r\n  outline-style: none;\r\n  font-size: 14px;\r\n  font-family: inherit;\r\n  background: transparent;\r\n  border: none;\r\n  -webkit-tap-highlight-color: transparent;\r\n  opacity: .7;\r\n  transition: background .25s ease-out,\r\n    opacity .25s ease-out,\r\n    box-shadow .25s ease-out;\r\n}\r\n\r\n:host([disabled]) {\r\n  pointer-events: none;\r\n}\r\n\r\n:host {\r\n  display: flex;\r\n}\r\n\r\nbutton {\r\n  @include ellipsis();\r\n  @extend %button-display;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  &:focus {\r\n    background: $accent-color;\r\n    box-shadow: inset 0 0 0 1px $active-color;\r\n    opacity: 1;\r\n  }\r\n\r\n  &[disabled] {\r\n    opacity: .54;\r\n  }\r\n}\r\n\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-button-component',\r\n  styleUrl: 'button-component.scss',\r\n  shadow: true,\r\n})\r\nexport class IgcButtonComponent {\r\n  @Prop() disabled: boolean;\r\n  @Prop({ reflect: true }) name: string;\r\n  @Prop({ reflect: true }) type: string;\r\n  @Prop({ reflect: true }) value: string;\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        disabled={this.disabled}\r\n      >\r\n        <button\r\n          name={this.name}\r\n          type={this.type}\r\n          value={this.value}\r\n          aria-disabled={this.disabled ? 'true' : null}\r\n        >\r\n          <slot />\r\n        </button>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import { IgcSplitPane, IgcSplitPaneOrientation } from '..';\r\nimport { PartNameInfo } from '../components/dockmanager/dockmanager.interfaces';\r\nimport { IgcDockingIndicatorPosition } from '../components/dockmanager/dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class Utils {\r\n  static isDockingIndicatorVertical(position: IgcDockingIndicatorPosition): boolean {\r\n    return position === IgcDockingIndicatorPosition.top ||\r\n      position === IgcDockingIndicatorPosition.bottom ||\r\n      position === IgcDockingIndicatorPosition.outerTop ||\r\n      position === IgcDockingIndicatorPosition.outerBottom;\r\n  }\r\n\r\n  static isDockingIndicatorBefore(position: IgcDockingIndicatorPosition): boolean {\r\n    return position === IgcDockingIndicatorPosition.top ||\r\n      position === IgcDockingIndicatorPosition.left ||\r\n      position === IgcDockingIndicatorPosition.outerTop ||\r\n      position === IgcDockingIndicatorPosition.outerLeft;\r\n  }\r\n\r\n  static isDockingIndicatorBeforeRTL(position: IgcDockingIndicatorPosition): boolean {\r\n    return position === IgcDockingIndicatorPosition.top ||\r\n      position === IgcDockingIndicatorPosition.right ||\r\n      position === IgcDockingIndicatorPosition.outerTop ||\r\n      position === IgcDockingIndicatorPosition.outerRight;\r\n  }\r\n\r\n  static isDockingIndicatorOuter(position: IgcDockingIndicatorPosition): boolean {\r\n    return position === IgcDockingIndicatorPosition.outerLeft ||\r\n      position === IgcDockingIndicatorPosition.outerRight ||\r\n      position === IgcDockingIndicatorPosition.outerTop ||\r\n      position === IgcDockingIndicatorPosition.outerBottom;\r\n  }\r\n\r\n  static isSplitPaneVertical(splitPane: IgcSplitPane): boolean {\r\n    return splitPane.orientation === IgcSplitPaneOrientation.vertical;\r\n  }\r\n\r\n  static isAltPressed(event: KeyboardEvent): boolean {\r\n    return event.altKey || event.getModifierState('Alt') || event.getModifierState('AltGraph');\r\n  }\r\n\r\n  static isControlOrMetaPressed(event: KeyboardEvent): boolean {\r\n    return event.ctrlKey || event.metaKey || event.getModifierState('Meta') || event.getModifierState('OS');\r\n  }\r\n\r\n  static partNameMap(partNameInfo: PartNameInfo, delimiter = ' ') {\r\n    return Object.keys(partNameInfo).filter(key => partNameInfo[key]).join(delimiter);\r\n  }\r\n\r\n  static getDirection(element: any): string {\r\n    let direction = '';\r\n    if (element.dir !== '') {\r\n      direction = element.dir;\r\n    } else {\r\n      let parent = element.parentElement;\r\n      while (parent) {\r\n        if (parent.dir !== '') {\r\n          direction = parent.dir;\r\n          break;\r\n        }\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n    return direction;\r\n  }\r\n}\r\n","import { EventEmitter } from '@stencil/core';\r\n\r\nimport {\r\n  IgcContentPane, IgcDockManagerLayout, IgcDockManagerPane, IgcDockManagerResourceStrings, IgcDocumentHost,\r\n  IgcFloatingPaneResizeEventArgs,\r\n  IgcFloatingPaneResizeMoveEventArgs,\r\n  IgcPaneCloseEventArgs, IgcPaneDragEndEventArgs, IgcPaneDragOverEventArgs, IgcPaneDragStartEventArgs, IgcPanePinnedEventArgs, IgcPaneScrollEventArgs, IgcSplitPane, IgcTabGroupPane\r\n} from './dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_DEFAULT_PANE_SIZE = 100;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_DEFAULT_UNPIN_PANE_SIZE = 200;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_RESIZING_MIN_SIZE = 42;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_DEFAULT_RESIZE = 10;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_DRAG_FLYOUT_THRESHOLD = 50;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport enum IgcTabHeadersPosition {\r\n  top = 'top',\r\n  bottom = 'bottom'\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport enum IgcContextMenuOrientation {\r\n  top = 'top',\r\n  bottom = 'bottom'\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport type IgcContextMenuPosition = 'start' | 'center' | 'end' | 'stretch';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport enum IgcPinBehavior {\r\n  allPanes = 'allPanes',\r\n  selectedPane = 'selectedPane'\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDropTargetPaneInfo {\r\n  pane: IgcDockManagerPane;\r\n  docHost: IgcDocumentHost;\r\n  targetRect: DOMRect;\r\n  floatingPaneWithoutDocHost?: boolean;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDockManagerComponentBase {\r\n  activePane: IgcContentPane;\r\n  draggedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n  dropTargetPaneInfo: IgcDropTargetPaneInfo;\r\n  documentOnlyDrag: boolean;\r\n  dropShadowRect: DOMRect;\r\n  isValidDrop: boolean;\r\n  allowMaximize: boolean;\r\n  proximityDock: boolean;\r\n  containedInBoundaries: boolean;\r\n  flyoutPane: IgcContentPane;\r\n  maximizedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n  layout: IgcDockManagerLayout;\r\n  disableKeyboardNavigation: boolean;\r\n  floatingPaneZIndicesMap: Map<IgcSplitPane, number>;\r\n  paneClose: EventEmitter<IgcPaneCloseEventArgs>;\r\n  paneScroll: EventEmitter<IgcPaneScrollEventArgs>;\r\n  panePinnedToggle: EventEmitter<IgcPanePinnedEventArgs>;\r\n  paneDragStart: EventEmitter<IgcPaneDragStartEventArgs>;\r\n  paneDragOver: EventEmitter<IgcPaneDragOverEventArgs>;\r\n  paneDragEnd: EventEmitter<IgcPaneDragEndEventArgs>;\r\n  resourceStrings: IgcDockManagerResourceStrings;\r\n  focusElement: () => void;\r\n  navigationPaneMeta?: IgcPaneNavigatorMetadata;\r\n  floatingPaneResizeStart: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n  floatingPaneResizeMove: EventEmitter<IgcFloatingPaneResizeMoveEventArgs>;\r\n  floatingPaneResizeEnd: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n  layoutChange: EventEmitter;\r\n  direction: string;\r\n  allowInnerDock: boolean;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcContextMenuMetadata {\r\n  menuItems: IgcContextMenuItem[];\r\n  target: HTMLElement;\r\n  position: IgcContextMenuPosition;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcContextMenuItem {\r\n  iconName: string;\r\n  displayText: string;\r\n  disabled?: boolean;\r\n  clickHandler: () => void;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcTabRectsInfo {\r\n  headerRect: DOMRect;\r\n  prevHeaderRect: DOMRect;\r\n  nextHeaderRect: DOMRect;\r\n  lastVisibleHeaderRect: DOMRect;\r\n  tabsRect: DOMRect;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcPaneNavigatorMetadata {\r\n  activePanes: IgcContentPane[];\r\n  activeDocuments: IgcContentPane[];\r\n  initialIndex: number;\r\n  previousActivePaneIndex: number;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface PartNameInfo {\r\n  readonly [name: string]: string | boolean | number;\r\n}\r\n",":host {\r\n  --min-pane-size: 0px;\r\n\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 100%;\r\n  min-width: var(--min-pane-size);\r\n  min-height: var(--min-pane-size);\r\n  box-sizing: border-box;\r\n  pointer-events: all;\r\n}\r\n\r\n:host(:focus) {\r\n  outline-style: none;\r\n}\r\n\r\n:host([part~='disabled']:not([part~='single-floating'])),\r\n:host([part~='disabled']) > slot:not([name]) {\r\n  pointer-events: none;\r\n}\r\n","import { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IGC_DEFAULT_PANE_SIZE, IGC_DEFAULT_UNPIN_PANE_SIZE } from '../dockmanager.interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-content-pane-component',\r\n  styleUrl: 'content-pane-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcContentPaneComponent {\r\n  @Prop() size: number;\r\n  @Prop() isFlyout: boolean;\r\n  @Prop() unpinnedSize: number;\r\n  @Prop() header: string;\r\n  @Prop() disabled = false;\r\n  @Prop() isSingleFloating = false;\r\n  @Prop() contentId: string;\r\n\r\n  @Event() rendered: EventEmitter<HTMLIgcContentPaneComponentElement>;\r\n\r\n  componentDidRender() {\r\n    this.rendered.emit();\r\n  }\r\n\r\n  render() {\r\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\r\n    const unpinnedSize = this.unpinnedSize ? this.unpinnedSize : IGC_DEFAULT_UNPIN_PANE_SIZE;\r\n\r\n    const parts = Utils.partNameMap({\r\n      'content-pane': true,\r\n      [this.contentId]: true,\r\n      disabled: this.disabled,\r\n      'single-floating': this.isSingleFloating\r\n    });\r\n    return (\r\n      <Host\r\n        role=\"group\"\r\n        aria-label={this.header}\r\n        aria-disabled={this.disabled ? 'true' : 'false'}\r\n        tabindex={this.disabled ? -1 : 0}\r\n        style={{\r\n          flex: this.isFlyout ? `0 1 ${unpinnedSize}px` : `${size} 1 ${size}px`\r\n        }}\r\n        part={parts}\r\n      >\r\n        <slot name=\"header\">\r\n        </slot>\r\n        <slot></slot>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  position: absolute;\r\n  display: block;\r\n  box-sizing: border-box;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  z-index: 10002;\r\n  pointer-events: none;\r\n\r\n  igc-icon-component svg {\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n\r\n  igc-icon-component {\r\n    margin-left: 8px;\r\n  }\r\n}\r\n\r\n[part='menu-content'] {\r\n  position: absolute;\r\n  visibility: hidden;\r\n  color: $context-menu-color;\r\n  background: $context-menu-background;\r\n  border: 1px solid $context-menu-background;\r\n  pointer-events: all;\r\n  box-shadow: 0 5px 22px rgba(0, 0, 0, .08),\r\n  0 12px 17px 2px rgba(0, 0, 0, .12),\r\n  0 7px 8px -4px rgba(0, 0, 0, .26);\r\n  box-sizing: border-box;\r\n}\r\n\r\n[part~='menu-item'] {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 6px 8px;\r\n  font-size: em(12px);\r\n  line-height: 1.7;\r\n  cursor: pointer;\r\n  transition: background .25s ease-out, color .25s ease-out;\r\n  outline-style: none;\r\n\r\n  &:hover {\r\n    background: $context-menu-background-active;\r\n    color: $context-menu-color-active;\r\n  }\r\n\r\n  &:focus {\r\n    background: $context-menu-background-active;\r\n    color: $context-menu-color-active;\r\n  }\r\n}\r\n\r\n[part~='disabled'] {\r\n  pointer-events: none;\r\n  color: $disabled-color;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Fragment, Host, Listen, Prop, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../utils/utils';\r\nimport { IgcContextMenuItem, IgcContextMenuOrientation, IgcContextMenuPosition } from '../dockmanager/dockmanager.interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-context-menu-component',\r\n  styleUrl: 'context-menu-component.scss',\r\n  shadow: true\r\n})\r\nexport class IgcContextMenuComponent {\r\n  private menuItemsDiv: HTMLElement;\r\n\r\n  @Element() elem: HTMLElement;\r\n\r\n  @Prop() orientation: IgcContextMenuOrientation;\r\n  @Prop() position: IgcContextMenuPosition;\r\n  @Prop() target: HTMLElement;\r\n  @Prop() items: IgcContextMenuItem[];\r\n\r\n  @Event() menuClosed: EventEmitter;\r\n\r\n  @Prop({ mutable: true }) activeIndex = 0;\r\n\r\n  @Listen('focusout')\r\n  emitMenuClosed() {\r\n    this.menuClosed.emit();\r\n  }\r\n\r\n  connectedCallback() {\r\n    document.defaultView.addEventListener('resize', this.handleDocumentResize, false);\r\n    document.defaultView.addEventListener('mousedown', this.handleDocumentMouseDown, false);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    document.defaultView.removeEventListener('resize', this.handleDocumentResize, false);\r\n    document.defaultView.removeEventListener('mousedown', this.handleDocumentMouseDown, false);\r\n  }\r\n\r\n  handleDocumentResize = () => {\r\n    this.menuClosed.emit();\r\n  }\r\n\r\n  handleDocumentMouseDown = (ev: MouseEvent) => {\r\n    if (ev.composedPath().every(el => el !== this.elem)) {\r\n      // mousedown outside of context menu\r\n      this.menuClosed.emit();\r\n    }\r\n  }\r\n\r\n  componentDidLoad() {\r\n    const isTabsMoreButton = this.target.querySelector('slot[name=\"tabsMoreButton\"]') !== null;\r\n    const menuItemsDivRect = this.menuItemsDiv.getBoundingClientRect();\r\n    const hostRect = this.elem.getBoundingClientRect();\r\n    const rootNodeShadowHost = (this.target.getRootNode() as ShadowRoot);\r\n    const isFloating = this.isFloating(rootNodeShadowHost.host);\r\n    const rootHostRect = rootNodeShadowHost.host.getBoundingClientRect();\r\n    const isTabs = rootNodeShadowHost.host.tagName.toLowerCase() === 'igc-tab-header-component';\r\n    const tabsContentHost = isTabs ? rootNodeShadowHost.host.parentElement.shadowRoot : rootNodeShadowHost;\r\n    const tabRect = tabsContentHost.host.getBoundingClientRect();\r\n    const tabsContentRect = tabsContentHost.querySelector('div[part~=\"tabs-content\"]').getBoundingClientRect();\r\n    const isRTL = rootHostRect.right - menuItemsDivRect.right < 1;\r\n    const shouldChangeOpenOrientation = tabRect.bottom + menuItemsDivRect.bottom >= window.innerHeight\r\n      || tabRect.height + menuItemsDivRect.bottom >= window.innerHeight\r\n      || (isTabsMoreButton && tabsContentRect.height- menuItemsDivRect.height > 0);\r\n    const menuToBottom = shouldChangeOpenOrientation\r\n      ? tabsContentRect.top + (tabsContentRect.height - menuItemsDivRect.bottom)\r\n      : rootHostRect.top - menuItemsDivRect.top + rootHostRect.height;\r\n\r\n    const menuToTop = tabsContentRect.top - menuItemsDivRect.top;\r\n    const menuToStart = isRTL ? rootHostRect.right - menuItemsDivRect.width : rootHostRect.left;\r\n    const menuToEnd = isRTL && !isFloating ? rootHostRect.left : rootHostRect.right - menuItemsDivRect.right;\r\n    const menuToCenter = rootHostRect.left + (rootHostRect.width - menuItemsDivRect.width) / 2;\r\n\r\n    let menuLeft = !isRTL ? menuToStart : menuToEnd;\r\n    let menuTop = this.orientation === IgcContextMenuOrientation.bottom\r\n      ? isTabs\r\n        ? menuToBottom\r\n        : menuToTop\r\n      : menuToBottom;\r\n\r\n    const menuBottom = menuTop + menuItemsDivRect.height;\r\n\r\n    menuTop = menuTop >= 0 ? menuTop : menuToBottom;\r\n\r\n    switch (this.position) {\r\n      case 'start':\r\n        menuLeft = menuToStart;\r\n        break;\r\n      case 'center':\r\n        menuLeft = rootHostRect.width > menuItemsDivRect.width && menuToCenter;\r\n        break;\r\n      case 'stretch':\r\n        this.menuItemsDiv.style.width = rootHostRect.width > menuItemsDivRect.width && `${rootHostRect.width}px`;\r\n        break;\r\n      case 'end':\r\n      default:\r\n        menuLeft = menuToEnd;\r\n    }\r\n\r\n    if (this.orientation === IgcContextMenuOrientation.bottom && menuBottom > hostRect.height) {\r\n      menuTop = menuToTop;\r\n    }\r\n\r\n    this.menuItemsDiv.style.left = `${menuLeft}px`;\r\n    this.menuItemsDiv.style.top = `${menuTop}px`;\r\n    this.menuItemsDiv.style.visibility = 'visible';\r\n\r\n    this.focusItemAndSetActiveIndex();\r\n  }\r\n\r\n  private focusItemAndSetActiveIndex() {\r\n    const firstMenuItem = this.menuItemsDiv.querySelector('div[part=\"menu-item\"]');\r\n\r\n    (firstMenuItem as HTMLElement)?.focus();\r\n  }\r\n\r\n  private isFloating(host: Element): boolean {\r\n    while (host) {\r\n      if (host.tagName && host.tagName.toLowerCase() === 'igc-floating-pane-component') {\r\n        return true;\r\n      }\r\n\r\n      host = host.parentNode as Element;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private handleKeyboardEvents(item: IgcContextMenuItem, ev: KeyboardEvent) {\r\n    const menuItemChildren = this.menuItemsDiv.querySelectorAll('div[part=\"menu-item\"]');\r\n\r\n    if (ev.key === 'ArrowDown') {\r\n      if (this.activeIndex < menuItemChildren.length - 1) {\r\n        this.activeIndex++;\r\n        (menuItemChildren[this.activeIndex] as HTMLElement).focus();\r\n      }\r\n    } else if (ev.key === 'ArrowUp') {\r\n      if (this.activeIndex > 0) {\r\n        this.activeIndex--;\r\n        (menuItemChildren[this.activeIndex] as HTMLElement).focus();\r\n      }\r\n    } else if (ev.key === 'Enter' || ev.key === ' ') {\r\n      item.clickHandler();\r\n      this.emitMenuClosed();\r\n    } else if (ev.key === 'Escape') {\r\n      this.emitMenuClosed();\r\n    }\r\n  }\r\n\r\n  private handleMenuItemClick(item: IgcContextMenuItem) {\r\n    item.clickHandler();\r\n    this.emitMenuClosed();\r\n  }\r\n\r\n  private renderItemIcon(item: IgcContextMenuItem) {\r\n    return (\r\n      <Fragment>\r\n        {item.iconName === 'close' && this.renderCloseButton()}\r\n        {item.iconName === 'unpin' && this.renderUnpinButton()}\r\n        {item.iconName !== null && item.iconName !== 'close' && item.iconName !== 'unpin' &&\r\n          <igc-icon-component name={item.iconName} />\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  private renderCloseButton() {\r\n    return (\r\n      <slot name=\"contextMenuCloseButton\">\r\n        <igc-icon-component part=\"context-menu-close-button\" name=\"close\" />\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  private renderUnpinButton() {\r\n    return (\r\n      <slot name=\"contextMenuUnpinButton\">\r\n        <igc-icon-component part=\"context-menu-unpin-button\" name=\"unpin\" />\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        part=\"context-menu\"\r\n        exportparts=\"context-menu,\r\n        menu-item: context-menu-item,\r\n        menu-content: context-menu-content,\r\n        context-menu-close-button,\r\n        context-menu-unpin-button\"\r\n      >\r\n        <div\r\n          role=\"menu\"\r\n          part=\"menu-content\"\r\n          ref={el => this.menuItemsDiv = el as HTMLElement}\r\n          onMouseDown={ev => {\r\n            ev.preventDefault();\r\n          }}\r\n        >\r\n          {this.items.map(item => {\r\n            const parts = Utils.partNameMap({\r\n              'menu-item': true,\r\n              disabled: item.disabled\r\n            });\r\n\r\n            return (\r\n              <div\r\n                role=\"menuitem\"\r\n                part={parts}\r\n                tabindex=\"-1\"\r\n                onKeyDown={this.handleKeyboardEvents.bind(this, item)}\r\n                onClick={this.handleMenuItemClick.bind(this, item)}\r\n              >\r\n                <span\r\n                  style={{\r\n                    flexGrow: '1',\r\n                    userSelect: 'none',\r\n                  }}\r\n                >\r\n                  {item.displayText}\r\n                </span>\r\n\r\n                {this.renderItemIcon(item)}\r\n              </div>\r\n            );\r\n          })\r\n          }\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","\"use strict\";function _typeof(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)===\"object\"||typeof call===\"function\")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return self}function _wrapNativeSuper(Class){var _cache=typeof Map===\"function\"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!==\"function\"){throw new TypeError(\"Super expression must either be null or a function\")}if(typeof _cache!==\"undefined\"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf(\"[native code]\")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}if(typeof customElements!==\"undefined\"){var watermarkRegistered=customElements.get(\"igc-trial-watermark\");if(!watermarkRegistered){(function(){var TrialWatermark=/*#__PURE__*/function(_HTMLElement){_inherits(TrialWatermark,_HTMLElement);var _super=_createSuper(TrialWatermark);function TrialWatermark(){var _this;_classCallCheck(this,TrialWatermark);_this=_super.call(this);var shadow=_this.attachShadow({mode:\"closed\"});_this.__anchor=document.createElement(\"a\");_this.__anchor.setAttribute(\"class\",\"watermark__link\");_this.__anchor.setAttribute(\"href\",\"https://www.infragistics.com/how-to-buy/renewal\");_this.__anchor.setAttribute(\"target\",\"_blank\");var img=document.createElement(\"span\");img.setAttribute(\"class\",\"watermark__background-img\");var style=document.createElement(\"style\");style.textContent=\":host{display:block;position:absolute;bottom:0;right:0;width:100%;height:100%;z-index:10000;pointer-events:none}:host .watermark__link{display:inline-flex;align-items:center;position:absolute;bottom:0;right:0;font-family:'Titillium Web', sans-serif;font-size:.875rem;padding:.125rem .25rem;line-height:normal;border:1px solid var(--igx-watermark-border-color, #09f);color:var(--igx-watermark-color, #fff);z-index:10002;background-color:var(--igx-watermark-link-background, #09f);pointer-events:all;text-decoration:none}:host .watermark__link img{margin-right:4px}:host .watermark__background-img{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;pointer-events:none;background-image:var(--igx-watermark-background-image, url(\\\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDYgMjYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MC4xMjtmaWxsOiMwMDk5RkY7fQo8L3N0eWxlPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJtNC4yIDIuNS0xLjctMC41IDAuNS0xLjctMS4zLTAuMy0wLjUgMS43LTAuNy0wLjItMC4zIDEuMSAwLjggMC4yLTAuOCAyLjhjLTAuMiAwLjgtMC4yIDEuNC0wLjEgMS44IDAuMiAwLjQgMC42IDAuNyAxLjIgMC44IDAuNCAwLjEgMC44IDAuMiAxLjIgMC4ybDAuMi0xLTEtMC4yYy0wLjItMC4xLTAuNC0wLjItMC40LTAuNCAwLTAuMyAwLjEtMC43IDAuMi0xbDAuNy0yLjYgMS43IDAuNCAwLjMtMS4xem0wLjcgNi42IDEuMS00LjFoMC4zYzAuNi0wLjEgMS4yLTAuMiAxLjktMC4xbDAuMy0xLjNjLTAuOC0wLjEtMS41IDAtMi4yIDAuM2wwLjItMC43LTEuNC0wLjMtMS41IDUuOCAxLjMgMC40em00LjMgMS4xIDEuNi01LjktMS4zLTAuNC0xLjYgNS45IDEuMyAwLjR6bTEuOS02LjkgMC40LTEuMy0xLjMtMC40LTAuNCAxLjMgMS4zIDAuNHptNS4xIDIuOGMtMC4yLTAuNC0wLjctMC43LTEuNC0wLjktMC44LTAuMi0xLjYtMC4zLTIuNS0wLjNsLTAuMyAwLjkgMC40IDAuMWMwLjggMC4xIDEuNCAwLjMgMS45IDAuNCAwLjIgMCAwLjQgMC4xIDAuNiAwLjMgMC4xIDAuMiAwLjEgMC41IDAgMC43bC0wLjEgMC40LTEuNS0wLjNjLTAuNS0wLjEtMS4xLTAuMS0xLjYgMC4xLTAuNCAwLjItMC43IDAuNi0wLjggMS4yLTAuMyAxLjIgMC4xIDIgMS4yIDIuNCAwLjcgMC4yIDEuMyAwLjIgMiAwLjEgMC40IDAuNCAwLjkgMC43IDEuNCAwLjlsMC4zLTFjLTAuMS0wLjEtMC4zLTAuMS0wLjMtMC4zLTAuMS0wLjEtMC4xLTAuMyAwLTAuNGwwLjctMi43YzAuMy0wLjcgMC4yLTEuMiAwLTEuNnptLTEuNiAyLjYtMC40IDEuNWgtMC4yYy0wLjQgMC0wLjkgMC0xLjMtMC4yLTAuNS0wLjEtMC42LTAuNS0wLjUtMXMwLjUtMC44IDAuOS0wLjdoMC4xYzAgMC4yIDEuNCAwLjQgMS40IDAuNHptMy41IDMuOSAyLjMtOC40LTEuMy0wLjQtMi4zIDguNCAxLjMgMC40eiIvPgo8L3N2Zz4K\\\"));background-size:200px 150px;background-position:top left}@media all and (-ms-high-contrast: none){:host .watermark__background-img{background-image:none}}\\n\";shadow.appendChild(style);shadow.appendChild(_this.__anchor);shadow.appendChild(img);if(!document.getElementById(\"igniteui-watermark-themes\")){_this.__themes=document.createElement(\"style\");_this.__themes.setAttribute(\"id\",\"igniteui-watermark-themes\");_this.__themes.textContent=\".dark-theme {\\n    --igx-watermark-border-color: #72da67;\\n    --igx-watermark-color: #fff;\\n    --igx-watermark-link-background: #72da67;\\n    --igx-watermark-background-image:  url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxODQiIGhlaWdodD0iMTA0IiB2aWV3Qm94PSIwIDAgMTg0IDEwNCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgICAgb3BhY2l0eTogMC4wNTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9InRyaWFsIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xNi43MiwxMC4xNDhMMTAuMyw4LjQzNGwxLjgwNi02LjcyM0w3LjA5LDAuMzY5LDUuMjgzLDcuMDkyLDIuMzA4LDYuMywxLjE1LDEwLjYwOWwyLjk3NSwwLjhMMS4yMzUsMjIuMTYxcS0xLjM0NSw1LjAwNy0uMzY3LDcuMjA3VDUuOCwzMi42MjNhMjguMTYzLDI4LjE2MywwLDAsMCw0LjkuNjY0bDAuODUxLTQuMS0zLjg1LS44OHEtMS43MjEtLjQ2LTEuODg5LTEuNWExMS4xODgsMTEuMTg4LDAsMCwxLC41OTEtMy44NjdsMi43NDEtMTAuMiw2LjQxNiwxLjcxNFpNMTkuNywzNS43OWw0LjM0OC0xNi4xODEsMS4xMzUtLjE0NGEzMy44NzEsMzMuODcxLDAsMCwxLDcuMzgyLS4yMTRMMzMuOTE5LDE0LjJhMjIuOTQxLDIyLjk0MSwwLDAsMC04Ljc4OCwxLjE4TDI1Ljg3OCwxMi42bC01LjAyMS0xLjM0MkwxNC42MjksMzQuNDM2Wm0xNi43ODMsNC40ODUsNi4yMjktMjMuMTgyTDM3LjY0LDE1LjczOCwzMS40MTIsMzguOTIxWm03LjI4Ny0yNy4xMjNMNDUuMiw3LjgyLDQwLjEzMiw2LjQ2NiwzOC43LDExLjhabTIwLjA0MiwxMXEtMS4zOTEtMi4zMzQtNS42NDUtMy40NzFhNDEuOTUxLDQxLjk1MSwwLDAsMC05LjY0NS0xLjI4NWwtMC43NzMsMy42MiwxLjUxMywwLjNxNC41NjMsMC44MjIsNy41MzgsMS42MTdhMy41NjIsMy41NjIsMCwwLDEsMi4yLDEuMzgyLDMuNTI4LDMuNTI4LDAsMCwxLC4xMTYsMi44MTRMNTguNjU4LDMwLjgsNTIuNTI0LDI5LjdhMTAuNjQ1LDEwLjY0NSwwLDAsMC02LjMuMzU0cS0yLjMwNiwxLjA3NC0zLjI1Myw0LjYtMS45ODEsNy4zNzIsNC45NDYsOS4yMjNhMTguMzU3LDE4LjM1NywwLDAsMCw3Ljk0Ni4yODUsMTAuMTM0LDEwLjEzNCwwLDAsMCw1LjcyMiwzLjM2OEw2Mi43Niw0My43MmEyLjY2NSwyLjY2NSwwLDAsMS0xLjM0My0xLjAzLDIuMjczLDIuMjczLDAsMCwxLS4xMy0xLjY1bDIuODQtMTAuNTcxUTY1LjIsMjYuNDgyLDYzLjgwOCwyNC4xNDdaTTU3LjcsMzQuMzY3bC0xLjY1Nyw2LjE2Ni0wLjkxMi4wNTVBMTguNjM1LDE4LjYzNSwwLDAsMSw1MCw0MC4wMTNxLTIuODM2LS43NTgtMS45NzYtMy45NTdhMy4yMzcsMy4yMzcsMCwwLDEsNC4xNDItMi42MlpNNzEuNTMyLDQ5LjY0Mmw4LjgyLTMyLjgyNi01LjA2OC0xLjM1NC04LjgyLDMyLjgyNloiLz4KPC9zdmc+Cg==');\\n}\\n\\n.light-theme {\\n    --igx-watermark-border-color: #e41c77;\\n    --igx-watermark-color: #fff;\\n    --igx-watermark-link-background: #e41c77;\\n    --igx-watermark-background-image:  url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjYiIGhlaWdodD0iMjA5IiB2aWV3Qm94PSIwIDAgMzY2IDIwOSI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbC1ydWxlOiBldmVub2RkOwogICAgICAgIG9wYWNpdHk6IDAuMDU7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoIGlkPSJ0cmlhbCIgY2xhc3M9ImNscy0xIiBkPSJNMzMuMzUsMjAuM2wtMTIuOC0zLjQyOSwzLjYtMTMuNDQ2TDE0LjE0MSwwLjczOGwtMy42LDEzLjQ0Nkw0LjYsMTIuNTk0LDIuMjkzLDIxLjIxOGw1LjkzNSwxLjU5TDIuNDYzLDQ0LjMyMVEtMC4yMiw1NC4zMzYsMS43MzIsNTguNzM1dDkuODM0LDYuNTExYTU2LjA2MSw1Ni4wNjEsMCwwLDAsOS43ODEsMS4zMjlsMS43LTguMTkyLTcuNjc4LTEuNzU5cS0zLjQzMi0uOTE5LTMuNzY5LTN0MS4xNzgtNy43MzVsNS40NjYtMjAuNCwxMi44LDMuNDI5Wk0zOS4yODUsNzEuNThsOC42NzEtMzIuMzYyLDIuMjY0LS4yODhBNjcuMzg4LDY3LjM4OCwwLDAsMSw2NC45NDUsMzguNWwyLjcwOC0xMC4xMDdhNDUuNjQyLDQ1LjY0MiwwLDAsMC0xNy41MjgsMi4zNmwxLjQ5MS01LjU2NEw0MS42LDIyLjUwNywyOS4xNzgsNjguODcyWk03Mi43Niw4MC41NUw4NS4xODMsMzQuMTg1LDc1LjA3NiwzMS40NzcsNjIuNjUyLDc3Ljg0MVpNODcuMjk1LDI2LjNsMi44NTctMTAuNjY0TDgwLjA0NSwxMi45MzEsNzcuMTg4LDIzLjU5NVptMzkuOTc0LDIxLjk5MXEtMi43NzUtNC42NjgtMTEuMjU5LTYuOTQzYTgzLjQ1OCw4My40NTgsMCwwLDAtMTkuMjM4LTIuNTcxbC0xLjU0Miw3LjI0LDMuMDE3LDAuNjFxOS4xLDEuNjQ0LDE1LjAzNSwzLjIzNGE3LjEsNy4xLDAsMCwxLDQuMzc4LDIuNzYzcTEuMjI0LDEuOTE5LjIzMiw1LjYyOEwxMTcsNjEuNTkzbC0xMi4yMzUtMi4xODVROTYuOCw1Ny45NzEsOTIuMiw2MC4xMTZUODUuNzEsNjkuMzFxLTMuOTUxLDE0Ljc0NCw5Ljg2NiwxOC40NDZhMzYuNTEzLDM2LjUxMywwLDAsMCwxNS44NDguNTY5cTMuNDM4LDQuNiwxMS40MTQsNi43MzZsMi4zNC03LjYyMkE1LjMxOSw1LjMxOSwwLDAsMSwxMjIuNSw4NS4zOGE0LjU2LDQuNTYsMCwwLDEtLjI1OS0zLjNsNS42NjUtMjEuMTQyUTEzMC4wNDQsNTIuOTY0LDEyNy4yNjksNDguMjk1Wk0xMTUuMDg0LDY4LjczM2wtMy4zMDUsMTIuMzMzLTEuODE4LjEwOWEzNy4wNywzNy4wNywwLDAsMS0xMC4yMjctMS4xNXEtNS42NTctMS41MTYtMy45NDItNy45MTR0OC4yNjItNS4yNFptMjcuNTkyLDMwLjU1LDE3LjU5MS02NS42NTJMMTUwLjE2LDMwLjkyMywxMzIuNTY4LDk2LjU3NVoiLz4KPC9zdmc+Cg==');\\n}\"}return _this}_createClass(TrialWatermark,[{key:\"connectedCallback\",value:function connectedCallback(){this.__anchor.textContent=this.hasAttribute(\"text\")?this.getAttribute(\"text\"):\"Trial version of Ignite UI for Angular\";var anchorImg=document.createElement(\"img\");anchorImg.setAttribute(\"src\",\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNyA3aC00djJoNGMxLjY1IDAgMyAxLjM1IDMgM3MtMS4zNSAzLTMgM2gtNHYyaDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6bS02IDhIN2MtMS42NSAwLTMtMS4zNS0zLTNzMS4zNS0zIDMtM2g0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0yem0tMy00aDh2Mkg4eiIvPjwvc3ZnPg==\");this.__anchor.prepend(anchorImg);if(this.__themes&&this.hasAttribute(\"theming\")&&this.getAttribute(\"theming\")){document.head.appendChild(this.__themes)}}}]);return TrialWatermark}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));customElements.define(\"igc-trial-watermark\",TrialWatermark)})()}}","/**\r\n * @hidden\r\n */\r\nexport class TwoWayMap<K, V> {\r\n  private map = new Map<K, V>();\r\n  private reversedMap = new Map<V, K>();\r\n\r\n  set(key: K, value: V) {\r\n    this.map.set(key, value);\r\n    this.reversedMap.set(value, key);\r\n  }\r\n\r\n  get(key: K): V | undefined {\r\n    return this.map.get(key);\r\n  }\r\n\r\n  getByValue(value: V): K | undefined {\r\n    return this.reversedMap.get(value);\r\n  }\r\n\r\n  delete(key: K) {\r\n    const value = this.map.get(key);\r\n\r\n    this.map.delete(key);\r\n    this.reversedMap.delete(value);\r\n  }\r\n\r\n  has(key: K): boolean {\r\n    return this.map.has(key);\r\n  }\r\n\r\n  hasValue(value: V): boolean {\r\n    return this.reversedMap.has(value);\r\n  }\r\n}\r\n","import { Utils } from '../../utils/utils';\r\nimport { IgcDragMoveEventArguments, IgcDragResizeEventArguments } from '../drag-drop/drag.service';\r\n\r\nimport {\r\n  IGC_DEFAULT_PANE_SIZE, IGC_DEFAULT_UNPIN_PANE_SIZE, IGC_DRAG_FLYOUT_THRESHOLD, IgcContextMenuItem, IgcDockManagerComponentBase,\r\n  IgcPinBehavior, IgcTabRectsInfo\r\n} from './dockmanager.interfaces';\r\nimport {\r\n  IgcContentPane, IgcDockManagerPane, IgcDockManagerPaneType, IgcDockManagerPoint, IgcDockingIndicator, IgcDockingIndicatorPosition,\r\n  IgcDocumentHost, IgcFloatPaneAction, IgcFloatingPaneResizeEventArgs, IgcFloatingPaneResizeMoveEventArgs, IgcMoveTabAction, IgcPaneCloseEventArgs, IgcPaneDragActionType,\r\n  IgcPanePinnedEventArgs, IgcResizerLocation, IgcSplitPane, IgcSplitPaneOrientation, IgcTabGroupPane, IgcUnpinnedLocation\r\n} from './dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class IgcDockManagerService {\r\n  private paneParentMap: Map<IgcDockManagerPane, IgcDockManagerPane>;\r\n  private initialFloatingPaneLocation: IgcDockManagerPoint;\r\n  private initialFloatingPaneWidth: number;\r\n  private initialFloatingPaneHeight: number;\r\n  private initialTabHeaderClickOffset: IgcDockManagerPoint;\r\n  private initialDragClientPoint: IgcDockManagerPoint;\r\n  private draggedPanes: IgcContentPane[];\r\n  private draggedTab: IgcContentPane;\r\n  private shiftLeftThreshold: number;\r\n  private shiftRightThreshold: number;\r\n  private documentsCache: IgcContentPane[];\r\n  private contentPanesCache: IgcContentPane[];\r\n\r\n  visibleDocuments: IgcContentPane[];\r\n  visibleContentPanes: IgcContentPane[];\r\n  documentHosts: IgcDocumentHost[];\r\n  clientContentPanesMap: Map<string, IgcContentPane>;\r\n  dropTargetParentRect: DOMRect;\r\n  dockManagerRect: DOMRect;\r\n  dockingIndicator: IgcDockingIndicator;\r\n  forceDragPane: IgcSplitPane;\r\n  forceDragTabHeader: IgcContentPane;\r\n  unpinnedLocationMap = new Map<IgcContentPane, IgcUnpinnedLocation>();\r\n  keyboardDockPane: IgcContentPane = null;\r\n  proximityDockPosition: IgcDockingIndicatorPosition;\r\n\r\n  constructor(public dockManager: IgcDockManagerComponentBase) {\r\n\r\n  }\r\n\r\n  getContent(contentId: string): IgcDockManagerPane {\r\n    return this.clientContentPanesMap.get(contentId);\r\n  }\r\n\r\n  private generateUuid(): string {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n      const r = Math.random() * 16 | 0;\r\n      const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n  }\r\n\r\n  private populatePaneParents(splitPane: IgcSplitPane, isRoot: boolean, isInDocHost: boolean) {\r\n    if (!splitPane) {\r\n      return;\r\n    }\r\n\r\n    if (!splitPane.id) {\r\n      splitPane.id = this.generateUuid();\r\n    }\r\n\r\n    for (const pane of splitPane.panes) {\r\n      this.paneParentMap.set(pane, splitPane);\r\n\r\n      if (!pane.id) {\r\n        pane.id = this.generateUuid();\r\n      }\r\n\r\n      if (pane.type === IgcDockManagerPaneType.contentPane && !pane.hidden) {\r\n        this.clientContentPanesMap.set(pane.contentId, pane);\r\n        if (isInDocHost) {\r\n          this.visibleDocuments.push(pane);\r\n        } else {\r\n          this.visibleContentPanes.push(pane);\r\n        }\r\n      } else if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n        this.populatePaneParents(pane, isRoot, isInDocHost);\r\n      } else if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n        for (const cp of pane.panes) {\r\n          if (!cp.id) {\r\n            cp.id = this.generateUuid();\r\n          }\r\n          this.paneParentMap.set(cp, pane);\r\n\r\n          if (!cp.hidden) {\r\n            this.clientContentPanesMap.set(cp.contentId, cp);\r\n            if (isInDocHost) {\r\n              this.visibleDocuments.push(cp);\r\n            } else {\r\n              this.visibleContentPanes.push(cp);\r\n            }\r\n          }\r\n        }\r\n      } else if (pane.type === IgcDockManagerPaneType.documentHost) {\r\n        if (isRoot) {\r\n          this.documentHosts.push(pane);\r\n        }\r\n        this.paneParentMap.set(pane.rootPane, pane);\r\n        this.populatePaneParents(pane.rootPane, isRoot, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  private populatePinLocations(splitPane: IgcSplitPane) {\r\n    if (!splitPane) {\r\n      return;\r\n    }\r\n\r\n    for (const pane of splitPane.panes) {\r\n      if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n        this.populatePinLocations(pane);\r\n      } else if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n        for (const cp of pane.panes) {\r\n          this.addContentPanePinLocation(cp);\r\n          this.paneParentMap.set(cp, pane);\r\n        }\r\n      } else if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n        this.addContentPanePinLocation(pane);\r\n      }\r\n    }\r\n  }\r\n\r\n  private resolvePaneUnpinLocation(pane: IgcContentPane): IgcUnpinnedLocation {\r\n    let unpinnedLocation: IgcUnpinnedLocation;\r\n\r\n    if (pane.unpinnedLocation) {\r\n      unpinnedLocation = pane.unpinnedLocation;\r\n    } else {\r\n      const documentHost = this.findClosestDocumentHost(pane);\r\n      // TODO Implement an auto-detect algorithm for unpinned location when there is no document host\r\n      unpinnedLocation = documentHost ? this.findPaneUnpinLocation(pane, documentHost) : IgcUnpinnedLocation.left;\r\n    }\r\n\r\n    return unpinnedLocation;\r\n  }\r\n\r\n  private addContentPanePinLocation(pane: IgcContentPane) {\r\n    if (pane.isPinned === false) {\r\n      const unpinnedLocation = this.resolvePaneUnpinLocation(pane);\r\n      this.unpinnedLocationMap.set(pane, unpinnedLocation);\r\n    }\r\n  }\r\n\r\n  private findClosestDocumentHost(pane: IgcContentPane): IgcDocumentHost {\r\n    const panePath = this.getPanePath(pane);\r\n    let maxCommonParents = -1;\r\n    let closestDocHost: IgcDocumentHost;\r\n\r\n    for (const docHost of this.documentHosts) {\r\n      const docHostPath = this.getPanePath(docHost);\r\n      let i: number;\r\n\r\n      for (i = 0; i < panePath.length; i++) {\r\n        const paneParent = panePath[i];\r\n        const docHostParent = docHostPath[i];\r\n\r\n        if (paneParent !== docHostParent) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (i > maxCommonParents) {\r\n        maxCommonParents = i;\r\n        closestDocHost = docHost;\r\n      }\r\n    }\r\n\r\n    return closestDocHost;\r\n  }\r\n\r\n  private findPaneUnpinLocation(pane: IgcContentPane, docHost: IgcDocumentHost): IgcUnpinnedLocation {\r\n    const panePath = this.getPanePath(pane);\r\n    const docHostPath = this.getPanePath(docHost);\r\n    let commonParentIndex = -1;\r\n\r\n    for (let i = 0; i < panePath.length; i++) {\r\n      const paneParent = panePath[i];\r\n      const docHostParent = docHostPath[i];\r\n\r\n      if (paneParent === docHostParent) {\r\n        commonParentIndex = i;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (commonParentIndex >= 0) {\r\n      const commonParent = panePath[commonParentIndex] as IgcSplitPane;\r\n      const paneIndex = commonParent.panes.indexOf(panePath[commonParentIndex + 1]);\r\n      const docHostIndex = commonParent.panes.indexOf(docHostPath[commonParentIndex + 1]);\r\n\r\n      return commonParent.orientation === IgcSplitPaneOrientation.horizontal ?\r\n        paneIndex < docHostIndex ? IgcUnpinnedLocation.left : IgcUnpinnedLocation.right :\r\n        paneIndex < docHostIndex ? IgcUnpinnedLocation.top : IgcUnpinnedLocation.bottom;\r\n    }\r\n\r\n    return IgcUnpinnedLocation.left;\r\n  }\r\n\r\n  removePane(pane: IgcDockManagerPane) {\r\n    if (pane === this.dockManager.maximizedPane) {\r\n      this.dockManager.maximizedPane = null;\r\n    }\r\n\r\n    const parent = this.paneParentMap.get(pane);\r\n\r\n    if (!parent) {\r\n      if (this.dockManager.layout.floatingPanes) {\r\n        const floatingIndex = this.dockManager.layout.floatingPanes.indexOf(pane as IgcSplitPane);\r\n        if (floatingIndex > -1) {\r\n          this.dockManager.layout.floatingPanes.splice(floatingIndex, 1);\r\n        }\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (parent.type === IgcDockManagerPaneType.splitPane ||\r\n      parent.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      const index = parent.panes.indexOf(pane as IgcContentPane);\r\n      parent.panes.splice(index, 1);\r\n\r\n      if (parent.panes.length === 0) {\r\n        if (parent.allowEmpty) {\r\n          const rootParent = this.getRootParent(pane);\r\n\r\n          if (this.isFloatingPane(rootParent)) {\r\n            this.removeFloatingPaneIfEmpty(rootParent);\r\n          }\r\n        } else {\r\n          this.removePane(parent);\r\n        }\r\n      } else if (parent.type === IgcDockManagerPaneType.splitPane) {\r\n        const rootParent = this.getRootParent(parent);\r\n        if (this.isFloatingPane(rootParent)) {\r\n          this.removeFloatingPaneIfEmpty(parent);\r\n        }\r\n      }\r\n    } else if (parent.type === IgcDockManagerPaneType.documentHost) {\r\n      parent.rootPane = null;\r\n      this.removePane(parent);\r\n    }\r\n  }\r\n\r\n  private removeFloatingPaneIfEmpty(pane: IgcSplitPane) {\r\n    const childPanes = this.getChildContentPanes(pane);\r\n\r\n    if (childPanes.length === 0) {\r\n      this.removePane(pane);\r\n    }\r\n  }\r\n\r\n  isFloatingPane(pane: IgcSplitPane) {\r\n    if (!this.dockManager.layout.floatingPanes) {\r\n      return false;\r\n    }\r\n    return this.dockManager.layout.floatingPanes.indexOf(pane) > -1;\r\n  }\r\n\r\n  private addFloatingPane(content: IgcDockManagerPane, location: IgcDockManagerPoint, width: number, height: number) {\r\n    const floatingPane: IgcSplitPane = {\r\n      type: IgcDockManagerPaneType.splitPane,\r\n      orientation: IgcSplitPaneOrientation.vertical,\r\n      panes: [content]\r\n    };\r\n\r\n    floatingPane.floatingLocation = location;\r\n    floatingPane.floatingWidth = width;\r\n    floatingPane.floatingHeight = height;\r\n\r\n    if (!this.dockManager.layout.floatingPanes) {\r\n      this.dockManager.layout.floatingPanes = [];\r\n    }\r\n    this.dockManager.layout.floatingPanes.push(floatingPane);\r\n    this.dockManager.draggedPane = floatingPane;\r\n    this.initialFloatingPaneLocation = floatingPane.floatingLocation;\r\n    this.forceDragPane = floatingPane;\r\n  }\r\n\r\n  getChildContentPanes(pane: IgcSplitPane | IgcTabGroupPane): IgcContentPane[] {\r\n    const panes: IgcContentPane[] = [];\r\n    this.getChildContentPanesRecursive(pane, panes);\r\n\r\n    return panes;\r\n  }\r\n\r\n  private getChildContentPanesRecursive(pane: IgcSplitPane | IgcTabGroupPane, children: IgcContentPane[]) {\r\n    for (const child of pane.panes) {\r\n      if (child.type === IgcDockManagerPaneType.contentPane) {\r\n        children.push(child);\r\n      } else if (child.type === IgcDockManagerPaneType.tabGroupPane ||\r\n        child.type === IgcDockManagerPaneType.splitPane) {\r\n        this.getChildContentPanesRecursive(child, children);\r\n      } else if (child.type === IgcDockManagerPaneType.documentHost) {\r\n        this.getChildContentPanesRecursive(child.rootPane, children);\r\n      }\r\n    }\r\n  }\r\n\r\n  getChildDocHostRecursive(pane: IgcSplitPane): IgcDocumentHost {\r\n    for (const child of pane.panes) {\r\n      if (child.type === IgcDockManagerPaneType.documentHost) {\r\n        return child;\r\n      } else if (child.type === IgcDockManagerPaneType.splitPane) {\r\n        const result = this.getChildDocHostRecursive(child);\r\n        if (result) {\r\n          return result;\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getVisibleContentPanes(parent: IgcTabGroupPane) {\r\n    return parent.panes.filter(t => this.isContentPaneVisible(t));\r\n  }\r\n\r\n  private getPaneToDock(draggedPane: IgcDockManagerPane) {\r\n    return draggedPane.type === IgcDockManagerPaneType.contentPane ? draggedPane :\r\n      draggedPane.type === IgcDockManagerPaneType.tabGroupPane || draggedPane.type === IgcDockManagerPaneType.splitPane ?\r\n        draggedPane.panes.length === 1 ?\r\n          draggedPane.panes[0] :\r\n          draggedPane :\r\n        draggedPane;\r\n  }\r\n\r\n  private removeDocumentHost(pane: IgcSplitPane) {\r\n    const docHost = this.getChildDocHostRecursive(pane);\r\n    if (docHost) {\r\n      const parent = this.getParent(docHost) as IgcSplitPane;\r\n      const index = parent.panes.indexOf(docHost);\r\n\r\n      parent.panes[index] = docHost.rootPane.panes.length === 1 ?\r\n        docHost.rootPane.panes[0] :\r\n        docHost.rootPane;\r\n    }\r\n  }\r\n\r\n  private dockToCenter(targetPane: IgcDockManagerPane, draggedPane: IgcSplitPane | IgcTabGroupPane | IgcContentPane) {\r\n    let targetContainer: IgcTabGroupPane | IgcSplitPane;\r\n\r\n    if (targetPane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      targetContainer = targetPane;\r\n    } else if (targetPane.type === IgcDockManagerPaneType.contentPane) {\r\n      targetContainer = {\r\n        type: IgcDockManagerPaneType.tabGroupPane,\r\n        size: targetPane.size,\r\n        panes: [targetPane]\r\n      };\r\n      const targetParent = this.paneParentMap.get(targetPane) as IgcSplitPane;\r\n      const index = targetParent.panes.indexOf(targetPane);\r\n      targetParent.panes[index] = targetContainer;\r\n    } else if (targetPane.type === IgcDockManagerPaneType.splitPane) {\r\n      targetContainer = targetPane;\r\n    } else if (targetPane.type === IgcDockManagerPaneType.documentHost) {\r\n      targetContainer = targetPane.rootPane;\r\n    }\r\n\r\n    if (targetContainer.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      const panesToDock = (draggedPane.type === IgcDockManagerPaneType.contentPane) ?\r\n        [draggedPane] :\r\n        this.getChildContentPanes(draggedPane);\r\n      targetContainer.panes.push(...panesToDock);\r\n    } else if (targetContainer.type === IgcDockManagerPaneType.splitPane) {\r\n      let paneToDock = draggedPane;\r\n\r\n      if (draggedPane?.type === IgcDockManagerPaneType.splitPane && this.dockManager.documentOnlyDrag) {\r\n        this.removeDocumentHost(draggedPane);\r\n        const childPanes = this.getChildContentPanes(draggedPane);\r\n        paneToDock = childPanes.length === 1 ? childPanes[0] : paneToDock;\r\n      }\r\n\r\n      targetContainer.panes.push(paneToDock);\r\n    }\r\n  }\r\n\r\n  private dockToEdge(targetPane: IgcDockManagerPane, position: IgcDockingIndicatorPosition) {\r\n    const targetParent = this.getParent(targetPane) as IgcSplitPane;\r\n    if (!targetParent) {\r\n      return this.dockToCenter(targetPane, this.dockManager.draggedPane);\r\n    }\r\n\r\n    const paneIndex = targetParent.panes.indexOf(targetPane);\r\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(position);\r\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(targetParent);\r\n    const isRTL = this.dockManager.proximityDock\r\n      ? this.dockManager.direction === 'rtl'\r\n      : this.dockingIndicator && this.dockingIndicator.direction === 'rtl';\r\n    let draggedPane: IgcDockManagerPane = this.dockManager.draggedPane;\r\n\r\n    if (draggedPane?.type === IgcDockManagerPaneType.splitPane &&\r\n      this.dockManager.documentOnlyDrag &&\r\n      !this.dockManager.dropTargetPaneInfo.floatingPaneWithoutDocHost) {\r\n      this.removeDocumentHost(draggedPane);\r\n    } else if (draggedPane?.type === IgcDockManagerPaneType.contentPane &&\r\n      this.dockManager.documentOnlyDrag &&\r\n      this.dockManager.dropTargetPaneInfo.floatingPaneWithoutDocHost) {\r\n      draggedPane = {\r\n        type: IgcDockManagerPaneType.documentHost,\r\n        rootPane: {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.horizontal,\r\n          panes: [draggedPane]\r\n        }\r\n      };\r\n    }\r\n\r\n    const paneToDock = draggedPane ? this.getPaneToDock(draggedPane) : this.dockManager.activePane;\r\n\r\n    if ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical)) {\r\n      const insertIndex = Utils.isDockingIndicatorBefore(position) && !isRTL ||\r\n        Utils.isDockingIndicatorBeforeRTL(position) && isRTL ?\r\n        paneIndex :\r\n        paneIndex + 1;\r\n      targetParent.panes.splice(insertIndex, 0, paneToDock);\r\n    } else {\r\n      const newSplitPane: IgcSplitPane = {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: isSplitPaneVertical ? IgcSplitPaneOrientation.horizontal : IgcSplitPaneOrientation.vertical,\r\n        panes: Utils.isDockingIndicatorBefore(position) && !isRTL ||\r\n          Utils.isDockingIndicatorBeforeRTL(position) && isRTL ?\r\n          [paneToDock, targetPane] :\r\n          [targetPane, paneToDock],\r\n        size: targetPane.size\r\n      };\r\n\r\n      targetPane.size = undefined;\r\n      paneToDock.size = undefined;\r\n      targetParent.panes[paneIndex] = newSplitPane;\r\n    }\r\n  }\r\n\r\n  private updateLayout() {\r\n    this.dockManager.layout = { ...this.dockManager.layout };\r\n  }\r\n\r\n  private hasMaximizedProp(pane: IgcDockManagerPane): pane is IgcContentPane | IgcSplitPane | IgcTabGroupPane {\r\n    return 'isMaximized' in pane;\r\n  }\r\n\r\n  getLastMaximizedPane(): IgcContentPane | IgcSplitPane | IgcTabGroupPane {\r\n    const keys = Array.from(this.paneParentMap.keys());\r\n    const maximizedPane = keys.filter(this.hasMaximizedProp).filter(i => i.isMaximized && i.type !== IgcDockManagerPaneType.splitPane)[0];\r\n    return maximizedPane;\r\n  }\r\n\r\n  processLayout() {\r\n    this.paneParentMap = new Map<IgcDockManagerPane, IgcDockManagerPane>();\r\n    this.unpinnedLocationMap = new Map<IgcContentPane, IgcUnpinnedLocation>();\r\n    this.clientContentPanesMap = new Map<string, IgcContentPane>();\r\n    this.documentHosts = [];\r\n    this.visibleContentPanes = [];\r\n    this.visibleDocuments = [];\r\n\r\n    const layout = this.dockManager.layout;\r\n\r\n    if (layout) {\r\n      this.populatePaneParents(layout.rootPane, true, false);\r\n      if (layout.floatingPanes) {\r\n        const indicesToDelete = new Map<IgcSplitPane, number>(this.dockManager.floatingPaneZIndicesMap);\r\n\r\n        for (let i = 0; i < layout.floatingPanes.length; i++) {\r\n          const pane = layout.floatingPanes[i];\r\n          this.populatePaneParents(pane, false, false);\r\n\r\n          if (this.dockManager.floatingPaneZIndicesMap.has(pane)) {\r\n            indicesToDelete.delete(pane);\r\n          } else {\r\n            this.dockManager.floatingPaneZIndicesMap.set(pane, i);\r\n          }\r\n        }\r\n\r\n        for (const key of indicesToDelete.keys()) {\r\n          this.dockManager.floatingPaneZIndicesMap.delete(key);\r\n        }\r\n      }\r\n      this.populatePinLocations(layout.rootPane);\r\n\r\n      if (this.dockManager.flyoutPane && !this.unpinnedLocationMap.has(this.dockManager.flyoutPane)) {\r\n        this.dockManager.flyoutPane = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  getParent(pane: IgcDockManagerPane): IgcDockManagerPane {\r\n    return this.paneParentMap.get(pane);\r\n  }\r\n\r\n  getRootParent(pane: IgcDockManagerPane): IgcSplitPane {\r\n    return this.getPanePath(pane)[0] as IgcSplitPane;\r\n  }\r\n\r\n  getPanePath(pane: IgcDockManagerPane): IgcDockManagerPane[] {\r\n    const path: IgcDockManagerPane[] = [];\r\n    let currentPane = pane;\r\n\r\n    while (currentPane) {\r\n      path.splice(0, 0, currentPane);\r\n      currentPane = this.paneParentMap.get(currentPane);\r\n    }\r\n\r\n    return path;\r\n  }\r\n\r\n  getDocHostParent(pane: IgcDockManagerPane): IgcDocumentHost {\r\n    let parent = pane;\r\n\r\n    do {\r\n      parent = this.paneParentMap.get(parent);\r\n    } while (parent && parent.type !== IgcDockManagerPaneType.documentHost);\r\n\r\n    return parent as IgcDocumentHost;\r\n  }\r\n\r\n  resizeFlyoutPane(delta: number) {\r\n    const pane = this.dockManager.flyoutPane;\r\n    const location = this.unpinnedLocationMap.get(pane);\r\n    const paneSize = pane.unpinnedSize ? pane.unpinnedSize : IGC_DEFAULT_UNPIN_PANE_SIZE;\r\n\r\n    const newSize = location === IgcUnpinnedLocation.left || location === IgcUnpinnedLocation.top ?\r\n      paneSize + delta :\r\n      paneSize - delta;\r\n    pane.unpinnedSize = newSize;\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  resizePane(pane: IgcDockManagerPane, deltaPercentage: number) {\r\n    const parentPane = this.getParent(pane) as IgcSplitPane;\r\n    const childPanes = this.getSplitPaneVisibleChildren(parentPane);\r\n    const paneIndex = childPanes.indexOf(pane);\r\n\r\n    const paneSizes = childPanes.map(p => p.size || p.size === 0 ? p.size : IGC_DEFAULT_PANE_SIZE);\r\n    const sizeSum = paneSizes.reduce((p, c) => c + p, 0);\r\n    const calcDelta = deltaPercentage * sizeSum;\r\n\r\n    childPanes[paneIndex - 1].size = paneSizes[paneIndex - 1] + calcDelta;\r\n    childPanes[paneIndex].size = paneSizes[paneIndex] - calcDelta;\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  togglePin(pane: IgcContentPane, pinBehavior = IgcPinBehavior.allPanes) {\r\n    const newValue = !this.getActualIsPinned(pane);\r\n    const parent = this.paneParentMap.get(pane);\r\n    const isTabGroup = parent.type === IgcDockManagerPaneType.tabGroupPane;\r\n    const panes = isTabGroup && pinBehavior === IgcPinBehavior.allPanes ?\r\n      parent.panes.filter(p => p.allowPinning !== false) :\r\n      [pane];\r\n\r\n    const isTabGroupPinning = isTabGroup && pinBehavior === IgcPinBehavior.selectedPane;\r\n\r\n    if (isTabGroupPinning && parent.selectedIndex >= parent.panes.filter(p => p.isPinned).length) {\r\n      parent.selectedIndex = 0;\r\n    }\r\n\r\n    const location = this.resolvePaneUnpinLocation(pane);\r\n\r\n    const args: IgcPanePinnedEventArgs = {\r\n      sourcePane: pane,\r\n      panes,\r\n      newValue,\r\n      location\r\n    };\r\n    const event = this.dockManager.panePinnedToggle.emit(args);\r\n\r\n    if (!event.defaultPrevented) {\r\n      for (const cp of args.panes) {\r\n        cp.isPinned = newValue;\r\n      }\r\n\r\n      if (this.dockManager.maximizedPane) {\r\n        const targetPanes: (IgcContentPane | IgcTabGroupPane)[] = parent && parent.type === IgcDockManagerPaneType.tabGroupPane && this.dockManager.maximizedPane === parent\r\n          ? [parent]\r\n          : args.panes;\r\n\r\n        this.dockManager.maximizedPane = null;\r\n\r\n        for (const cp of targetPanes.filter(this.hasMaximizedProp)) {\r\n          cp.isMaximized = false;\r\n        }\r\n\r\n        newValue ?\r\n          this.dockManager.flyoutPane = null :\r\n          this.flyoutPane(pane);\r\n      } else if (newValue) {\r\n        this.dockManager.flyoutPane = null;\r\n      }\r\n\r\n      this.updateLayout();\r\n    }\r\n  }\r\n\r\n  closePane(pane: IgcContentPane) {\r\n    let paneToRemove: IgcDockManagerPane = pane;\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane && pane !== this.dockManager.flyoutPane) {\r\n      const parent = this.paneParentMap.get(pane);\r\n\r\n      if (parent.type === IgcDockManagerPaneType.tabGroupPane) {\r\n        paneToRemove = parent;\r\n      }\r\n    }\r\n\r\n    const paneRemoved = paneToRemove.type === IgcDockManagerPaneType.tabGroupPane ?\r\n      this.removeAllowedPanes(pane, paneToRemove) :\r\n      this.emitPaneClose(pane, [paneToRemove]);\r\n\r\n    if ((paneRemoved || pane.hidden) && pane === this.dockManager.flyoutPane) {\r\n      this.dockManager.flyoutPane = null;\r\n    }\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  closeFloatingPane(pane: IgcSplitPane) {\r\n    this.removeAllowedPanes(pane, pane);\r\n    this.updateLayout();\r\n  }\r\n\r\n  private emitPaneClose(sourcePane: IgcDockManagerPane, panes: IgcContentPane[]): boolean {\r\n    let paneRemoved = false;\r\n    const args: IgcPaneCloseEventArgs = { sourcePane, panes };\r\n    const event = this.dockManager.paneClose.emit(args);\r\n\r\n    if (!event.defaultPrevented) {\r\n      for (const pane of args.panes) {\r\n        this.removePane(pane);\r\n        paneRemoved = true;\r\n      }\r\n    }\r\n\r\n    return paneRemoved;\r\n  }\r\n\r\n  private removeAllowedPanes(sourcePane: IgcDockManagerPane, pane: IgcSplitPane | IgcTabGroupPane): boolean {\r\n    let paneRemoved = false;\r\n\r\n    const panes = this.getChildContentPanes(pane)\r\n        .filter(p => this.getActualAllowClose(p))\r\n        .filter(p => pane.type === IgcDockManagerPaneType.tabGroupPane && sourcePane.type === IgcDockManagerPaneType.contentPane\r\n            ? p.isPinned !== false\r\n            : true);\r\n\r\n    paneRemoved = this.emitPaneClose(sourcePane, panes);\r\n\r\n    return paneRemoved;\r\n  }\r\n\r\n  flyoutPane(pane: IgcContentPane) {\r\n    this.dockManager.flyoutPane = this.dockManager.flyoutPane === pane ? null : pane;\r\n  }\r\n\r\n  maximizePane(pane: any) {\r\n    const parent = this.getParent(pane);\r\n    const targetPane = parent && parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ? parent : pane;\r\n    this.dockManager.maximizedPane = this.dockManager.maximizedPane === targetPane ? null : targetPane;\r\n\r\n    if (this.dockManager.maximizedPane) {\r\n      targetPane.isMaximized = true;\r\n    } else {\r\n      targetPane.isMaximized = false;\r\n    }\r\n\r\n    if (targetPane.type == IgcDockManagerPaneType.contentPane) return;\r\n\r\n    for (const cp of this.getChildContentPanes(targetPane).filter(this.hasMaximizedProp)) {\r\n      cp.isMaximized = targetPane.isMaximized;\r\n    }\r\n  }\r\n\r\n  moveFloatingPane(pane: IgcSplitPane, location: IgcDockManagerPoint) {\r\n    pane.floatingLocation = location;\r\n    this.updateLayout();\r\n  }\r\n\r\n  resizeFloatingPaneStart(pane: IgcSplitPane, resizerLocation: IgcResizerLocation): boolean {\r\n    const resizeArgs: IgcFloatingPaneResizeEventArgs = {\r\n      sourcePane: pane,\r\n      resizerLocation\r\n    };\r\n\r\n    const resizeStartEvent = this.dockManager.floatingPaneResizeStart.emit(resizeArgs);\r\n    if (resizeStartEvent.defaultPrevented) {\r\n      return false;\r\n    }\r\n\r\n    this.initialFloatingPaneLocation = pane.floatingLocation ?? { x: 0, y: 0 };\r\n    this.initialFloatingPaneWidth = pane.floatingWidth ?? IGC_DEFAULT_PANE_SIZE;\r\n    this.initialFloatingPaneHeight = pane.floatingHeight ?? IGC_DEFAULT_PANE_SIZE;\r\n\r\n    return true;\r\n  }\r\n\r\n  resizeFloatingPane(pane: IgcSplitPane, args: IgcDragResizeEventArguments) {\r\n    const currX = pane.floatingLocation ? pane.floatingLocation.x : 0;\r\n    const currY = pane.floatingLocation ? pane.floatingLocation.y : 0;\r\n    const currW = pane.floatingWidth ? pane.floatingWidth : IGC_DEFAULT_PANE_SIZE;\r\n    const currH = pane.floatingHeight ? pane.floatingHeight : IGC_DEFAULT_PANE_SIZE;\r\n    const minW = IGC_DEFAULT_PANE_SIZE;\r\n    const minH = IGC_DEFAULT_PANE_SIZE;\r\n    const initialWidth = this.initialFloatingPaneWidth;\r\n    const initialHeight = this.initialFloatingPaneHeight;\r\n    const initialLocation = this.initialFloatingPaneLocation;\r\n\r\n    let totalOffsetY = args.dragMoveArgs.totalOffsetY;\r\n    let totalOffsetX = args.dragMoveArgs.totalOffsetX;\r\n    let newX = currX;\r\n    let newY = currY;\r\n    let newWidth = currW;\r\n    let newHeight = currH;\r\n    const maxHeight = document.documentElement.clientHeight;\r\n    const maxWidth = document.documentElement.clientWidth;\r\n\r\n    switch (args.resizerLocation) {\r\n      case (IgcResizerLocation.top):\r\n      case (IgcResizerLocation.topLeft):\r\n      case (IgcResizerLocation.topRight):\r\n        newHeight = initialHeight - totalOffsetY;\r\n        if (newHeight < minH) {\r\n          totalOffsetY = initialHeight - minH;\r\n          newHeight = minH;\r\n        }\r\n        newY = initialLocation.y + totalOffsetY;\r\n        if (newY < 0) {\r\n          newHeight += newY;\r\n          newY = 0;\r\n        } else if (newY >= maxHeight - 1) {\r\n          newY = maxHeight - 1;\r\n        }\r\n        break;\r\n      case (IgcResizerLocation.bottom):\r\n      case (IgcResizerLocation.bottomLeft):\r\n      case (IgcResizerLocation.bottomRight):\r\n        newHeight = initialHeight + totalOffsetY;\r\n        if (newHeight < minH) {\r\n          newHeight = minH;\r\n        }\r\n        if (newY + newHeight > maxHeight) {\r\n          newHeight = maxHeight - newY;\r\n        }\r\n        break;\r\n    }\r\n\r\n    switch (args.resizerLocation) {\r\n      case (IgcResizerLocation.left):\r\n      case (IgcResizerLocation.topLeft):\r\n      case (IgcResizerLocation.bottomLeft):\r\n        newWidth = initialWidth - totalOffsetX;\r\n        if (newWidth < minW) {\r\n          totalOffsetX = initialWidth - minW;\r\n          newWidth = minW;\r\n        }\r\n        newX = initialLocation.x + totalOffsetX;\r\n        if (newX < 0) {\r\n          newWidth += newX;\r\n          newX = 0;\r\n        } else if (newX >= maxWidth) {\r\n          newX = maxWidth;\r\n        }\r\n        break;\r\n      case (IgcResizerLocation.right):\r\n      case (IgcResizerLocation.topRight):\r\n      case (IgcResizerLocation.bottomRight):\r\n        newWidth = initialWidth + totalOffsetX;\r\n        if (newWidth < minW) {\r\n          newWidth = minW;\r\n        }\r\n        if (newX + newWidth > maxWidth) {\r\n          newWidth = maxWidth - newX;\r\n        }\r\n        break;\r\n    }\r\n\r\n    if (currX === newX && currY === newY && currW === newWidth && currH === newHeight) {\r\n      return;\r\n    }\r\n\r\n    const resizingArgs: IgcFloatingPaneResizeMoveEventArgs = {\r\n      sourcePane: pane,\r\n      oldWidth: currW,\r\n      newWidth,\r\n      oldHeight: currH,\r\n      newHeight,\r\n      oldLocation: { x: currX, y: currY },\r\n      newLocation: { x: newX, y: newY },\r\n      resizerLocation: args.resizerLocation\r\n    };\r\n\r\n    const resizingEvent = this.dockManager.floatingPaneResizeMove.emit(resizingArgs);\r\n    if (resizingEvent.defaultPrevented) {\r\n      args.dragMoveArgs.cancel = true;\r\n      return;\r\n    } else {\r\n      pane.floatingLocation = resizingArgs.newLocation;\r\n      pane.floatingWidth = resizingArgs.newWidth;\r\n      pane.floatingHeight = resizingArgs.newHeight;\r\n      this.updateLayout();\r\n    }\r\n  }\r\n\r\n  resizeFloatingPaneEnd(pane: IgcSplitPane, resizerLocation: IgcResizerLocation) {\r\n    this.dockManager.floatingPaneResizeEnd.emit({\r\n      sourcePane: pane,\r\n      resizerLocation });\r\n\r\n    this.dockManager.layoutChange.emit();\r\n  }\r\n\r\n  floatPane(pane: IgcContentPane, x: number, y: number, width: number, height: number) {\r\n    let panesToRemove: IgcDockManagerPane[] = [pane];\r\n    let paneToAdd: IgcDockManagerPane = pane;\r\n    const parent = this.paneParentMap.get(pane);\r\n\r\n    if (pane !== this.dockManager.flyoutPane && parent.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      if (parent.allowEmpty) {\r\n        const panes = [...parent.panes];\r\n        panesToRemove = panes;\r\n        paneToAdd = parent.panes.length === 1 ?\r\n          pane :\r\n          {\r\n            type: IgcDockManagerPaneType.tabGroupPane,\r\n            panes,\r\n            selectedIndex: parent.selectedIndex\r\n          };\r\n      } else {\r\n        panesToRemove = [parent];\r\n        paneToAdd = parent;\r\n      }\r\n    }\r\n\r\n    panesToRemove.forEach(p => this.removePane(p));\r\n    this.addFloatingPane(paneToAdd,\r\n      { x, y },\r\n      width,\r\n      height);\r\n\r\n    if (pane === this.dockManager.flyoutPane) {\r\n      pane.isPinned = true;\r\n      this.dockManager.flyoutPane = null;\r\n    }\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  floatTab(pane: IgcContentPane, x: number, y: number, width: number, height: number) {\r\n    this.removePane(pane);\r\n\r\n    const isInDocHost = !!this.getDocHostParent(pane);\r\n    let content: IgcDockManagerPane;\r\n\r\n    if (isInDocHost && pane.documentOnly) {\r\n      const docHost: IgcDocumentHost = {\r\n        type: IgcDockManagerPaneType.documentHost,\r\n        rootPane: {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          panes: [pane]\r\n        }\r\n      };\r\n\r\n      content = docHost;\r\n    } else {\r\n      content = pane;\r\n    }\r\n\r\n    this.addFloatingPane(content, { x, y }, width, height);\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  hasFloatingPaneHeader(pane: IgcSplitPane): boolean {\r\n    const panes = this.getSplitPaneVisibleChildren(pane);\r\n\r\n    if (panes && panes.length) {\r\n      if (panes.length > 1) {\r\n        return true;\r\n      }\r\n\r\n      const childPane = panes[0];\r\n\r\n      if (childPane.type === IgcDockManagerPaneType.splitPane) {\r\n        return this.hasFloatingPaneHeader(childPane);\r\n      } else if (childPane.type === IgcDockManagerPaneType.documentHost) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  rootDockPane(position: IgcDockingIndicatorPosition) {\r\n    const layout = this.dockManager.layout;\r\n    const rootPane = layout.rootPane;\r\n    const paneToDock = this.dockManager.draggedPane ? this.getPaneToDock(this.dockManager.draggedPane) : this.dockManager.activePane;\r\n\r\n    this.removePane(paneToDock);\r\n\r\n    const isIndicatorVertical = position === IgcDockingIndicatorPosition.top || position === IgcDockingIndicatorPosition.bottom;\r\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(rootPane);\r\n    const isRTL = this.dockingIndicator && this.dockingIndicator.direction === 'rtl';\r\n\r\n    if ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical)) {\r\n      const insertIndex = position === IgcDockingIndicatorPosition.left && !isRTL ||\r\n        position === IgcDockingIndicatorPosition.right && isRTL ||\r\n        position === IgcDockingIndicatorPosition.top ?\r\n        0 :\r\n        rootPane.panes.length;\r\n      rootPane.panes.splice(insertIndex, 0, paneToDock);\r\n    } else {\r\n      const newRootPane: IgcSplitPane = {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: isSplitPaneVertical ? IgcSplitPaneOrientation.horizontal : IgcSplitPaneOrientation.vertical,\r\n        panes: position === IgcDockingIndicatorPosition.left && !isRTL ||\r\n          position === IgcDockingIndicatorPosition.right && isRTL ||\r\n          position === IgcDockingIndicatorPosition.top ?\r\n          [paneToDock, rootPane] :\r\n          [rootPane, paneToDock],\r\n      };\r\n      rootPane.size = undefined;\r\n      paneToDock.size = undefined;\r\n\r\n      layout.rootPane = newRootPane;\r\n    }\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  dockPane(position: IgcDockingIndicatorPosition) {\r\n    const draggedFloatingPane = this.dockManager.draggedPane ?? this.dockManager.activePane;\r\n    const dropTargetPaneInfo = this.dockManager.dropTargetPaneInfo;\r\n\r\n    this.removePane(draggedFloatingPane);\r\n\r\n    const targetPane = this.dockManager.draggedPane ? dropTargetPaneInfo.pane : this.getParent(this.dockManager.activePane);\r\n\r\n    switch (position) {\r\n      case IgcDockingIndicatorPosition.center:\r\n        this.dockToCenter(targetPane, draggedFloatingPane);\r\n        break;\r\n      case IgcDockingIndicatorPosition.left:\r\n      case IgcDockingIndicatorPosition.top:\r\n      case IgcDockingIndicatorPosition.right:\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        this.dockToEdge(targetPane, position);\r\n        break;\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        const docHost = this.dockManager.dropTargetPaneInfo.docHost;\r\n        this.dockToEdge(docHost, position);\r\n        break;\r\n    }\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  getActualIsPinned(pane: IgcContentPane): boolean {\r\n    return pane.isPinned !== false;\r\n  }\r\n\r\n  getActualAllowClose(pane: IgcContentPane): boolean {\r\n    return pane.allowClose !== false;\r\n  }\r\n\r\n  isContentPaneVisible(pane: IgcContentPane) {\r\n    return pane.isPinned !== false && pane.hidden !== true;\r\n  }\r\n\r\n  getSplitPaneVisibleChildren(pane: IgcSplitPane): IgcDockManagerPane[] {\r\n    return pane.panes.filter(p => {\r\n      if (p.type === IgcDockManagerPaneType.contentPane) {\r\n        return this.isContentPaneVisible(p);\r\n      } else if (p.type === IgcDockManagerPaneType.splitPane) {\r\n        return p.allowEmpty || this.getSplitPaneVisibleChildren(p).length;\r\n      } else if (p.type === IgcDockManagerPaneType.tabGroupPane) {\r\n        return p.allowEmpty || p.panes.some(cp => this.isContentPaneVisible(cp));\r\n      } else if (p.type === IgcDockManagerPaneType.documentHost) {\r\n        return p.rootPane.allowEmpty || this.getSplitPaneVisibleChildren(p.rootPane).length;\r\n      }\r\n    });\r\n  }\r\n\r\n  closeTabPane(pane: IgcContentPane) {\r\n    this.emitPaneClose(pane, [pane]);\r\n    this.updateLayout();\r\n  }\r\n\r\n  bringFloatingPaneOnTop(pane: IgcSplitPane) {\r\n    const floatingPanes = this.dockManager.layout.floatingPanes;\r\n    const floatingPaneZIndicesMap = this.dockManager.floatingPaneZIndicesMap;\r\n    const oldZIndex = floatingPaneZIndicesMap.get(pane);\r\n\r\n    for (const p of floatingPanes) {\r\n      const zIndex = floatingPaneZIndicesMap.get(p);\r\n\r\n      if (zIndex < oldZIndex) {\r\n        continue;\r\n      } else if (zIndex > oldZIndex) {\r\n        floatingPaneZIndicesMap.set(p, zIndex - 1);\r\n      } else {\r\n        floatingPaneZIndicesMap.set(p, floatingPanes.length - 1);\r\n      }\r\n    }\r\n\r\n    this.dockManager.floatingPaneZIndicesMap = new Map<IgcSplitPane, number>(floatingPaneZIndicesMap);\r\n  }\r\n\r\n  createContextMenuItems(pane: IgcContentPane): IgcContextMenuItem[] {\r\n    const items: IgcContextMenuItem[] = [];\r\n\r\n    if (this.getActualAllowClose(pane)) {\r\n      items.push({ displayText: this.dockManager.resourceStrings.close, iconName: 'close', clickHandler: () => this.closeTabPane(pane) });\r\n    }\r\n\r\n    if (pane.allowPinning !== false) {\r\n      items.push({ displayText: this.dockManager.resourceStrings.unpin, iconName: 'unpin', clickHandler: () => this.togglePin(pane, IgcPinBehavior.selectedPane) });\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  dragPaneStart(pane: IgcSplitPane | IgcContentPane, rect: DOMRect, clientX: number, clientY: number): boolean {\r\n    if (this.dockManager.maximizedPane) {\r\n      return false;\r\n    }\r\n\r\n    let panes: IgcContentPane[];\r\n    let parent: IgcDockManagerPane;\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      parent = this.getParent(pane);\r\n      panes = parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ?\r\n        parent.panes :\r\n        [pane];\r\n    } else {\r\n      if (this.dockManager.draggedPane === pane) {\r\n        return true;\r\n      }\r\n      panes = this.getChildContentPanes(pane);\r\n    }\r\n\r\n    const disableDockingAndFloating = panes.some(p => p.allowDocking === false) && panes.some(p => p.allowFloating === false);\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane && disableDockingAndFloating) {\r\n      return false;\r\n    }\r\n\r\n    const dragStartEvent = this.dockManager.paneDragStart.emit({ sourcePane: pane, panes });\r\n\r\n    if (dragStartEvent.defaultPrevented) {\r\n      return false;\r\n    }\r\n\r\n    this.draggedPanes = panes;\r\n    this.initialDragClientPoint = {\r\n      x: clientX,\r\n      y: clientY\r\n    };\r\n\r\n    if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n      this.dockManager.draggedPane = pane;\r\n      this.initialFloatingPaneLocation = pane.floatingLocation ?? { x: 0, y: 0 };\r\n    } else {\r\n      if (this.draggedPanes.some(p => p.allowFloating === false)) {\r\n        this.dockManager.draggedPane = panes.length > 1 ? parent as IgcTabGroupPane : pane;\r\n        return true;\r\n      }\r\n\r\n      const action: IgcFloatPaneAction = {\r\n        type: IgcPaneDragActionType.floatPane,\r\n        location: { x: rect.x, y: rect.y },\r\n        width: rect.width,\r\n        height: rect.height\r\n      };\r\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n        sourcePane: pane,\r\n        panes,\r\n        action,\r\n        isValid: true\r\n      });\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      }\r\n\r\n      if (!dragOverEvent.detail.isValid) {\r\n        this.dockManager.draggedPane = panes.length > 1 ? parent as IgcTabGroupPane : pane;\r\n        return true;\r\n      }\r\n\r\n      this.floatPane(pane,\r\n        rect.x,\r\n        rect.y,\r\n        action.width,\r\n        action.height);\r\n\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private pointInBoundaries(clientX: number, clientY: number, location: IgcDockManagerPoint, pane: IgcSplitPane): IgcDockManagerPoint {\r\n    const minDragPosition = {\r\n      x: this.dockManagerRect.x,\r\n      y: this.dockManagerRect.y\r\n    };\r\n    const maxDragPosition = {\r\n      x: this.dockManagerRect.right - pane.floatingWidth,\r\n      y: this.dockManagerRect.bottom - pane.floatingHeight\r\n    };\r\n\r\n    if (this.initialFloatingPaneLocation.x + clientX - this.initialDragClientPoint.x <= this.dockManagerRect.x) {\r\n      location.x = minDragPosition.x;\r\n    } else if (this.initialFloatingPaneLocation.x + clientX + pane.floatingWidth - this.initialDragClientPoint.x >= this.dockManagerRect.right) {\r\n      location.x = maxDragPosition.x;\r\n    }\r\n\r\n    if (this.initialFloatingPaneLocation.y + clientY - this.initialDragClientPoint.y <= this.dockManagerRect.y) {\r\n      location.y = minDragPosition.y;\r\n    } else if (this.initialFloatingPaneLocation.y + clientY + pane.floatingHeight - this.initialDragClientPoint.y >= this.dockManagerRect.bottom) {\r\n      location.y = maxDragPosition.y;\r\n    }\r\n\r\n    return location;\r\n  }\r\n\r\n  dragPaneMove(clientX: number, clientY: number): boolean {\r\n    const draggedPane = this.dockManager.draggedPane;\r\n\r\n    if (draggedPane.type === IgcDockManagerPaneType.splitPane) {\r\n      const oldLocation = draggedPane.floatingLocation ? draggedPane.floatingLocation : { x: 0, y: 0 };\r\n\r\n      let newLocation: IgcDockManagerPoint;\r\n\r\n      newLocation = {\r\n        x: this.initialFloatingPaneLocation.x + clientX - this.initialDragClientPoint.x,\r\n        y: this.initialFloatingPaneLocation.y + clientY - this.initialDragClientPoint.y,\r\n      };\r\n\r\n      if (this.dockManager.containedInBoundaries) {\r\n        newLocation = this.pointInBoundaries(clientX, clientY, newLocation, draggedPane);\r\n      }\r\n\r\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n        sourcePane: draggedPane,\r\n        panes: this.draggedPanes,\r\n        action: {\r\n          type: IgcPaneDragActionType.moveFloatingPane,\r\n          oldLocation,\r\n          newLocation\r\n        },\r\n        isValid: true\r\n      });\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      } else {\r\n        if (dragOverEvent.detail.isValid) {\r\n          this.moveFloatingPane(draggedPane, newLocation);\r\n        }\r\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\r\n      }\r\n    }\r\n\r\n    return this.dragOver();\r\n  }\r\n\r\n  dragPaneEnd(): boolean {\r\n    const dockingIndicator = this.dockingIndicator;\r\n    const draggedPane = this.dockManager.draggedPane ?? this.draggedTab;\r\n    let docked = false;\r\n\r\n    this.dockManager.paneDragEnd.emit({\r\n      sourcePane: draggedPane,\r\n      panes: this.draggedPanes\r\n    });\r\n\r\n    if (dockingIndicator && this.dockManager.isValidDrop) {\r\n      if (draggedPane.type === IgcDockManagerPaneType.contentPane) {\r\n        if (draggedPane.isPinned === false) {\r\n          draggedPane.isPinned = true;\r\n\r\n          if (draggedPane === this.dockManager.flyoutPane) {\r\n            this.dockManager.flyoutPane = null;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (dockingIndicator.isRoot) {\r\n        this.rootDockPane(dockingIndicator.position);\r\n      } else {\r\n        this.dockPane(dockingIndicator.position);\r\n      }\r\n\r\n      docked = true;\r\n    } else if (this.dockManager.proximityDock && this.dockManager.dropShadowRect) {\r\n      this.dockPane(this.proximityDockPosition);\r\n      docked = true;\r\n    }\r\n\r\n    this.draggedPanes = null;\r\n    this.draggedTab = null;\r\n    this.dockManager.draggedPane = null;\r\n    this.dockManager.dropTargetPaneInfo = null;\r\n    this.dockManager.dropShadowRect = null;\r\n    this.dockManager.isValidDrop = true;\r\n\r\n    this.dockManager.layoutChange.emit();\r\n\r\n    return docked;\r\n  }\r\n\r\n  private emitDragOverEvent(dockingIndicator: any) {\r\n    return this.dockManager.paneDragOver.emit({\r\n      sourcePane: this.dockManager.draggedPane,\r\n      panes: this.draggedPanes,\r\n      action: {\r\n        type: IgcPaneDragActionType.dockPane,\r\n        dockingIndicator: dockingIndicator,\r\n        targetPane: this.dockManager.dropTargetPaneInfo?.pane\r\n      },\r\n      isValid: true\r\n    });\r\n  }\r\n\r\n  private dragOver(): boolean {\r\n    let dragOverEvent;\r\n\r\n    if (this.dockingIndicator) {\r\n      dragOverEvent = this.emitDragOverEvent(this.dockingIndicator);\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      } else {\r\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\r\n\r\n        this.dockManager.dropShadowRect = this.dockManager.isValidDrop ?\r\n          this.dockingIndicator.isRoot ? this.getDropShadowRectRoot() : this.getDropShadowRect() :\r\n          null;\r\n      }\r\n    } else if (this.dockManager.proximityDock) {\r\n      const disableDocking = this.draggedPanes.some(p => p.allowDocking !== undefined && !p.allowDocking);\r\n\r\n      const dockingIndicator = {\r\n        position: this.proximityDockPosition,\r\n        isRoot: false,\r\n        direction: this.dockManager.direction\r\n      };\r\n\r\n      dragOverEvent = this.emitDragOverEvent(dockingIndicator);\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      } else {\r\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\r\n\r\n        this.dockManager.dropShadowRect = this.proximityDockPosition && this.dockManager.isValidDrop && !disableDocking\r\n          ? this.getDropShadowRect(this.proximityDockPosition, this.dockManager.direction)\r\n          : null;\r\n      }\r\n    } else {\r\n      this.dockManager.dropShadowRect = null;\r\n\r\n      if (this.dockManager.draggedPane.type !== IgcDockManagerPaneType.splitPane) {\r\n        this.dockManager.isValidDrop = false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  dragTabStart(pane: IgcContentPane): boolean {\r\n    this.shiftLeftThreshold = Number.MAX_VALUE;\r\n    this.shiftRightThreshold = 0;\r\n\r\n    if (this.dockManager.draggedPane === pane) {\r\n      return true;\r\n    }\r\n\r\n    const dragStartEvent = this.dockManager.paneDragStart.emit({\r\n      sourcePane: pane,\r\n      panes: [pane]\r\n    });\r\n\r\n    if (dragStartEvent.defaultPrevented) {\r\n      return false;\r\n    }\r\n\r\n    this.initialTabHeaderClickOffset = null;\r\n    this.draggedTab = pane;\r\n    this.draggedPanes = [pane];\r\n\r\n    return true;\r\n  }\r\n\r\n  dragTabMove(pane: IgcContentPane, args: IgcDragMoveEventArguments, rects: IgcTabRectsInfo): boolean {\r\n    const clientX = args.clientX;\r\n    const clientY = args.clientY;\r\n    const offsetX = args.offsetX;\r\n    const totalOffsetX = args.totalOffsetX;\r\n    const totalOffsetY = args.totalOffsetY;\r\n\r\n    const headerRect = rects.headerRect;\r\n    const prevHeaderRect = rects.prevHeaderRect;\r\n    const nextHeaderRect = rects.nextHeaderRect;\r\n    const lastVisibleHeaderRect = rects.lastVisibleHeaderRect;\r\n    const tabsRect = rects.tabsRect;\r\n\r\n    if (!this.initialTabHeaderClickOffset) {\r\n      const clickOffsetX = clientX - totalOffsetX - headerRect.left;\r\n      const clickOffsetY = clientY - totalOffsetY - headerRect.top;\r\n      this.initialTabHeaderClickOffset = { x: clickOffsetX, y: clickOffsetY };\r\n    }\r\n\r\n    if (pane.allowFloating === false\r\n      && (clientX < tabsRect.left || clientX > tabsRect.right || clientY < headerRect.top || clientY > headerRect.bottom)) {\r\n      this.dockManager.draggedPane = pane;\r\n      return this.dragOver();\r\n    }\r\n\r\n    this.dockManager.draggedPane = null;\r\n    this.dockManager.isValidDrop = true;\r\n\r\n    const paneIndex = (this.getParent(pane) as IgcTabGroupPane).panes.indexOf(pane);\r\n\r\n    if (prevHeaderRect\r\n        && clientX < headerRect.left\r\n        && clientX < this.shiftLeftThreshold\r\n        && offsetX < 0) {\r\n      this.shiftLeftThreshold = prevHeaderRect.left;\r\n      const action: IgcMoveTabAction = {\r\n        type: IgcPaneDragActionType.moveTab,\r\n        oldIndex: paneIndex,\r\n        newIndex: paneIndex - 1\r\n      };\r\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n        sourcePane: pane,\r\n        panes: [pane],\r\n        action,\r\n        isValid: true\r\n      });\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      } else if (!dragOverEvent.detail.isValid) {\r\n        return true;\r\n      }\r\n      this.shiftTabLeft(pane);\r\n    } else if (nextHeaderRect\r\n                && clientX > headerRect.right\r\n                && clientX > this.shiftRightThreshold\r\n                && offsetX > 0) {\r\n      this.shiftRightThreshold = nextHeaderRect.right;\r\n      if (headerRect.top === nextHeaderRect.top) {\r\n        const action: IgcMoveTabAction = {\r\n          type: IgcPaneDragActionType.moveTab,\r\n          oldIndex: paneIndex,\r\n          newIndex: paneIndex + 1\r\n        };\r\n        const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n          sourcePane: pane,\r\n          panes: [pane],\r\n          action,\r\n          isValid: true\r\n        });\r\n\r\n        if (dragOverEvent.defaultPrevented) {\r\n          return false;\r\n        } else if (!dragOverEvent.detail.isValid) {\r\n          return true;\r\n        }\r\n        this.shiftTabRight(pane);\r\n      }\r\n    }\r\n\r\n    if (Math.abs(totalOffsetY) > IGC_DRAG_FLYOUT_THRESHOLD\r\n        || tabsRect.left - clientX > IGC_DRAG_FLYOUT_THRESHOLD\r\n        || clientX - lastVisibleHeaderRect.right > IGC_DRAG_FLYOUT_THRESHOLD) {\r\n      if (pane.allowFloating !== false && !this.dockManager.maximizedPane) {\r\n        return this.floatTabHeader(pane, clientX , clientY , tabsRect);\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private floatTabHeader(pane: IgcContentPane, clientX: number, clientY: number, tabsRect: DOMRect): boolean {\r\n    const rect = new DOMRect(\r\n      clientX - this.initialTabHeaderClickOffset.x,\r\n      clientY - this.initialTabHeaderClickOffset.y,\r\n      tabsRect.width,\r\n      tabsRect.height);\r\n\r\n    let panes: IgcContentPane[];\r\n    let parent: IgcDockManagerPane;\r\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      parent = this.getParent(pane);\r\n      panes = parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ?\r\n        parent.panes :\r\n        [pane];\r\n    }\r\n\r\n    this.draggedTab = null;\r\n\r\n    const action: IgcFloatPaneAction = {\r\n      type: IgcPaneDragActionType.floatPane,\r\n      location: { x: rect.x, y: rect.y },\r\n      width: rect.width,\r\n      height: rect.height\r\n    };\r\n    const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n      sourcePane: pane,\r\n      panes,\r\n      action,\r\n      isValid: true\r\n    });\r\n\r\n    if (dragOverEvent.defaultPrevented) {\r\n      return false;\r\n    } else if (!dragOverEvent.detail.isValid) {\r\n      return true;\r\n    }\r\n\r\n    this.initialDragClientPoint = {\r\n      x: clientX,\r\n      y: clientY\r\n    };\r\n\r\n    this.floatTab(pane,\r\n      rect.x,\r\n      rect.y,\r\n      action.width,\r\n      action.height);\r\n\r\n    return false;\r\n  }\r\n\r\n  private resolveChildPanesAllowMaximize(pane: IgcSplitPane | IgcTabGroupPane) {\r\n    const panes = this.getChildContentPanes(pane);\r\n    const visiblePanes = panes.filter(p => this.isContentPaneVisible(p));\r\n\r\n    return visiblePanes.every(p => p.allowMaximize ?? this.dockManager.allowMaximize);\r\n  }\r\n\r\n  normalizeMaximizedPane(pane: IgcContentPane) {\r\n    if (this.dockManager.maximizedPane) {\r\n      const panes =\r\n        this.dockManager.maximizedPane.type === IgcDockManagerPaneType.splitPane || this.dockManager.maximizedPane.type === IgcDockManagerPaneType.tabGroupPane\r\n          ? this.getChildContentPanes(this.dockManager.maximizedPane)\r\n          : [this.dockManager.maximizedPane];\r\n\r\n      if (panes.every(p => p !== pane)) {\r\n        this.maximizePane(this.dockManager.maximizedPane);\r\n      }\r\n    }\r\n  }\r\n\r\n  resolveAllowMaximize(pane: IgcDockManagerPane) {\r\n    if (pane.type === IgcDockManagerPaneType.splitPane || pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      return this.resolveChildPanesAllowMaximize(pane);\r\n    } else if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      if (!this.getActualIsPinned(pane)) {\r\n        return pane.allowMaximize ?? this.dockManager.allowMaximize;\r\n      }\r\n\r\n      const parent = this.getParent(pane);\r\n      return parent.type === IgcDockManagerPaneType.tabGroupPane\r\n        ? this.resolveChildPanesAllowMaximize(parent)\r\n        : pane.allowMaximize ?? this.dockManager.allowMaximize;\r\n    }\r\n  }\r\n\r\n  getDropShadowRect(dockingPosition?: IgcDockingIndicatorPosition, dockingDirection?: string) {\r\n    const shadowRect = new DOMRect();\r\n    dockingPosition = dockingPosition ?? this.dockingIndicator.position;\r\n    dockingDirection = dockingDirection ?? this.dockingIndicator.direction;\r\n\r\n    const parentRect = this.dropTargetParentRect;\r\n    const dropTargetPaneInfo = this.dockManager.dropTargetPaneInfo;\r\n    if (dropTargetPaneInfo && !parentRect) {\r\n      const targetRect = dropTargetPaneInfo.targetRect;\r\n      shadowRect.x = targetRect.x;\r\n      shadowRect.y = targetRect.y;\r\n      shadowRect.width = targetRect.width;\r\n      shadowRect.height = targetRect.height;\r\n      return shadowRect;\r\n    } else if (!dropTargetPaneInfo || !parentRect) {\r\n      return;\r\n    }\r\n\r\n    const draggedPaneSize = this.getPaneToDock(this.dockManager.draggedPane).size ?? IGC_DEFAULT_PANE_SIZE;\r\n    const isOuter = Utils.isDockingIndicatorOuter(dockingPosition);\r\n    const baseRect = isOuter ? parentRect : dropTargetPaneInfo.targetRect;\r\n\r\n    if (dockingPosition === IgcDockingIndicatorPosition.center) {\r\n      shadowRect.x = baseRect.x;\r\n      shadowRect.y = baseRect.y;\r\n      shadowRect.width = baseRect.width;\r\n      shadowRect.height = baseRect.height;\r\n      return shadowRect;\r\n    }\r\n\r\n    const targetPane = isOuter ? dropTargetPaneInfo.docHost : dropTargetPaneInfo.pane;\r\n    const targetParent = this.getParent(targetPane) as IgcSplitPane;\r\n    const panes = this.getSplitPaneVisibleChildren(targetParent);\r\n    const draggedPaneIndex = panes.indexOf(this.dockManager.draggedPane);\r\n\r\n    if (draggedPaneIndex > -1) {\r\n      panes.splice(draggedPaneIndex, 1);\r\n    }\r\n    const dropTargetIndex = panes.indexOf(targetPane);\r\n\r\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(dockingPosition);\r\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(targetParent);\r\n    const isSameSplitPane = ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical));\r\n    const isRTL = dockingDirection === 'rtl';\r\n\r\n    const panesTotalSize = panes.reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\r\n    const beforePanesTotalSize = !isRTL || isIndicatorVertical\r\n      ? panes.slice(0, dropTargetIndex).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0)\r\n      : panes.slice(dropTargetIndex, panes.length).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\r\n    const afterPanesTotalSize = !isRTL || isIndicatorVertical\r\n      ? panes.slice(0, dropTargetIndex + 1).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0)\r\n      : panes.slice(dropTargetIndex + 1, panes.length).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\r\n\r\n    switch (dockingPosition) {\r\n      case IgcDockingIndicatorPosition.left:\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        shadowRect.x = baseRect.x;\r\n        shadowRect.y = baseRect.y;\r\n        shadowRect.height = baseRect.height;\r\n        if (isSameSplitPane) {\r\n          shadowRect.width = (draggedPaneSize / (draggedPaneSize + panesTotalSize)) * parentRect.width;\r\n          !isRTL\r\n            ? shadowRect.x = parentRect.left + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width\r\n            : shadowRect.x = parentRect.left + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width;\r\n        } else {\r\n          shadowRect.width = parentRect.width / 2;\r\n        }\r\n        break;\r\n      case IgcDockingIndicatorPosition.right:\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n        shadowRect.y = baseRect.y;\r\n        shadowRect.height = baseRect.height;\r\n        if (isSameSplitPane) {\r\n          shadowRect.width = (draggedPaneSize / (draggedPaneSize + panesTotalSize)) * parentRect.width;\r\n          !isRTL\r\n            ? shadowRect.x = parentRect.left + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width\r\n            : shadowRect.x = parentRect.left + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width;\r\n        } else {\r\n          shadowRect.width = parentRect.width / 2;\r\n          shadowRect.x = parentRect.right - shadowRect.width;\r\n        }\r\n        break;\r\n      case IgcDockingIndicatorPosition.top:\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n        shadowRect.x = baseRect.x;\r\n        shadowRect.y = baseRect.y;\r\n        shadowRect.width = baseRect.width;\r\n        if (isSameSplitPane) {\r\n          shadowRect.height = (draggedPaneSize / (draggedPaneSize + panesTotalSize)) * parentRect.height;\r\n          shadowRect.y = parentRect.top + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.height;\r\n        } else {\r\n          shadowRect.height = parentRect.height / 2;\r\n        }\r\n        break;\r\n      case IgcDockingIndicatorPosition.bottom:\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        shadowRect.x = baseRect.x;\r\n        shadowRect.width = baseRect.width;\r\n        if (isSameSplitPane) {\r\n          shadowRect.height = (draggedPaneSize / (draggedPaneSize + panesTotalSize)) * parentRect.height;\r\n          shadowRect.y = parentRect.top + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.height;\r\n        } else {\r\n          shadowRect.height = parentRect.height / 2;\r\n          shadowRect.y = parentRect.bottom - shadowRect.height;\r\n        }\r\n        break;\r\n    }\r\n\r\n    return shadowRect;\r\n  }\r\n\r\n  getDropShadowRectRoot() {\r\n    const rootRect = this.dropTargetParentRect;\r\n    const shadowRect = new DOMRect();\r\n    const draggedPaneSize = this.getPaneToDock(this.dockManager.draggedPane).size ?? IGC_DEFAULT_PANE_SIZE;\r\n    const panes = this.getSplitPaneVisibleChildren(this.dockManager.layout.rootPane);\r\n\r\n    const draggedPaneIndex = panes.indexOf(this.dockManager.draggedPane);\r\n\r\n    if (draggedPaneIndex > -1) {\r\n      panes.splice(draggedPaneIndex, 1);\r\n    }\r\n\r\n    const panesTotalSize = panes.reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\r\n\r\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(this.dockingIndicator.position);\r\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(this.dockManager.layout.rootPane);\r\n    const isSameSplitPane = (isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical);\r\n    const isEmptyDockManager = panes.length === 0;\r\n\r\n    switch (this.dockingIndicator.position) {\r\n      case IgcDockingIndicatorPosition.left:\r\n        shadowRect.x = rootRect.x;\r\n        shadowRect.y = rootRect.y;\r\n        shadowRect.height = rootRect.height;\r\n        shadowRect.width = isSameSplitPane || isEmptyDockManager ? (draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.width) : (rootRect.width / 2);\r\n        break;\r\n      case IgcDockingIndicatorPosition.right:\r\n        shadowRect.y = rootRect.y;\r\n        shadowRect.height = rootRect.height;\r\n        shadowRect.width = isSameSplitPane || isEmptyDockManager ? (shadowRect.width = draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.width) : (rootRect.width / 2);\r\n        shadowRect.x = rootRect.right - shadowRect.width;\r\n        break;\r\n      case IgcDockingIndicatorPosition.top:\r\n        shadowRect.x = rootRect.x;\r\n        shadowRect.y = rootRect.y;\r\n        shadowRect.width = rootRect.width;\r\n        shadowRect.height = isSameSplitPane || isEmptyDockManager ? (draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.height) : (rootRect.height / 2);\r\n        break;\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        shadowRect.x = rootRect.x;\r\n        shadowRect.width = rootRect.width;\r\n        shadowRect.height = isSameSplitPane || isEmptyDockManager ? (draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.height) : (rootRect.height / 2);\r\n        shadowRect.y = rootRect.bottom - shadowRect.height;\r\n        break;\r\n    }\r\n\r\n    return shadowRect;\r\n  }\r\n\r\n  selectHiddenTab(tabGroup: IgcTabGroupPane, pane: IgcContentPane) {\r\n    const index = tabGroup.panes.indexOf(pane);\r\n    tabGroup.panes.splice(index, 1);\r\n    tabGroup.panes.splice(0, 0, pane);\r\n    tabGroup.selectedIndex = 0;\r\n    this.updateLayout();\r\n  }\r\n\r\n  shiftTabLeft(pane: IgcContentPane) {\r\n    const tabGroup = this.getParent(pane) as IgcTabGroupPane;\r\n    const draggedIndex = tabGroup.panes.indexOf(pane);\r\n\r\n    if (draggedIndex > 0) {\r\n      tabGroup.panes.splice(draggedIndex, 1);\r\n      tabGroup.panes.splice(draggedIndex - 1, 0, pane);\r\n      tabGroup.selectedIndex = draggedIndex - 1;\r\n      this.updateLayout();\r\n    }\r\n\r\n    this.forceDragTabHeader = pane;\r\n  }\r\n\r\n  shiftTabRight(pane: IgcContentPane) {\r\n    const tabGroup = this.getParent(pane) as IgcTabGroupPane;\r\n    const draggedIndex = tabGroup.panes.indexOf(pane);\r\n\r\n    if (draggedIndex < tabGroup.panes.length - 1) {\r\n      tabGroup.panes.splice(draggedIndex, 1);\r\n      tabGroup.panes.splice(draggedIndex + 1, 0, pane);\r\n      tabGroup.selectedIndex = draggedIndex + 1;\r\n      this.updateLayout();\r\n    }\r\n\r\n    this.forceDragTabHeader = pane;\r\n  }\r\n\r\n  cacheDocumentsOrder() {\r\n    this.documentsCache = this.visibleDocuments.filter(c => !c.disabled);\r\n  }\r\n\r\n  cacheContentPanesOrder() {\r\n    this.contentPanesCache = this.visibleContentPanes.filter(c => !c.disabled);\r\n  }\r\n\r\n  focusPrevContentPane(isInDocHost: boolean) {\r\n    const contentPanesCache = isInDocHost ? this.documentsCache : this.contentPanesCache;\r\n    const activePaneIndex = contentPanesCache.indexOf(this.dockManager.activePane);\r\n    const prevPane = activePaneIndex > 0 ?\r\n      contentPanesCache[activePaneIndex - 1] :\r\n      contentPanesCache[contentPanesCache.length - 1];\r\n\r\n    this.normalizeMaximizedPane(prevPane);\r\n    this.dockManager.activePane = prevPane;\r\n  }\r\n\r\n  focusNextContentPane(isInDocHost: boolean) {\r\n    const contentPanesCache = isInDocHost ? this.documentsCache : this.contentPanesCache;\r\n    const activePaneIndex = contentPanesCache.indexOf(this.dockManager.activePane);\r\n    const nextPane = (activePaneIndex >= 0 && activePaneIndex < contentPanesCache.length - 1) ?\r\n      contentPanesCache[activePaneIndex + 1] :\r\n      contentPanesCache[0];\r\n\r\n    this.normalizeMaximizedPane(nextPane);\r\n    this.dockManager.activePane = nextPane;\r\n  }\r\n}\r\n","import { Utils } from '../../../utils/utils';\r\n\r\nimport { IgcDockManagerPaneType, IgcDockingIndicatorPosition } from './../dockmanager.public-interfaces';\r\nimport { IgcDockManagerService } from './../dockmanager.service';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class IgcDockManagerKeyboardService {\r\n  constructor(private service: IgcDockManagerService) {\r\n  }\r\n\r\n  handleKeydown(event: KeyboardEvent) {\r\n    if (this.service.dockManager.disableKeyboardNavigation) {\r\n      return;\r\n    }\r\n\r\n    const activePane = this.service.dockManager.activePane;\r\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\r\n    const altKey = Utils.isAltPressed(event);\r\n    const shiftKey = event.shiftKey;\r\n\r\n    if (event.key === 'Control' || event.key === 'Meta' || event.key === 'OS') {\r\n      this.service.cacheDocumentsOrder();\r\n    } else if (event.key === 'Alt' || event.key === 'AltGraph') {\r\n      this.service.cacheContentPanesOrder();\r\n    } else if (event.key === 'F6' || (event.key.startsWith('Arrow') && !shiftKey && ctrlOrMetaKey)) {\r\n      this.handleFocusPane(event);\r\n      event.stopPropagation();\r\n    } else if (event.key === 'F3' && altKey && activePane) {\r\n      this.service.dockManager.focusElement();\r\n      this.service.closePane(activePane);\r\n      event.stopPropagation();\r\n    } else if (event.key.startsWith('Arrow') && shiftKey && activePane) {\r\n      this.service.dockManager.focusElement();\r\n      this.handleDockPane(event);\r\n      event.stopPropagation();\r\n    } else if ((event.key === 'F7' || event.key === 'F8') && (altKey || ctrlOrMetaKey)) {\r\n      this.setPaneNavigatorMeta(altKey, ctrlOrMetaKey, shiftKey);\r\n      event.stopPropagation();\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  private handleFocusPane(event: KeyboardEvent) {\r\n    const altKey = Utils.isAltPressed(event);\r\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\r\n    const shiftKey = event.shiftKey;\r\n    const f6 = event.key === 'F6';\r\n    const arrowLeft = event.key === 'ArrowLeft';\r\n    const arrowRight = event.key === 'ArrowRight';\r\n\r\n    if (altKey && shiftKey && f6) {\r\n      this.service.focusPrevContentPane(false);\r\n    } else if (altKey && f6) {\r\n      this.service.focusNextContentPane(false);\r\n    } else if ((ctrlOrMetaKey && shiftKey && f6) || (ctrlOrMetaKey && arrowLeft)) {\r\n      this.service.focusPrevContentPane(true);\r\n    } else if ((ctrlOrMetaKey && f6) || (ctrlOrMetaKey && arrowRight)) {\r\n      this.service.focusNextContentPane(true);\r\n    }\r\n  }\r\n\r\n  private handleDockPane(event: KeyboardEvent) {\r\n    const key = event.key;\r\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\r\n    const shiftKey = event.shiftKey;\r\n\r\n    if (ctrlOrMetaKey && shiftKey) {\r\n      this.handleRootDockPane(key);\r\n    } else if (shiftKey) {\r\n      const activePane = this.service.dockManager.activePane;\r\n      const activePaneParent = this.service.getParent(activePane);\r\n      if (activePaneParent.type === IgcDockManagerPaneType.tabGroupPane && activePaneParent.panes.length > 1) {\r\n        this.handleInnerDockPane(key);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleRootDockPane(key: string) {\r\n    let position: IgcDockingIndicatorPosition;\r\n    switch (key) {\r\n      case 'ArrowUp':\r\n        position = IgcDockingIndicatorPosition.top;\r\n        break;\r\n      case 'ArrowDown':\r\n        position = IgcDockingIndicatorPosition.bottom;\r\n        break;\r\n      case 'ArrowLeft':\r\n        position = IgcDockingIndicatorPosition.left;\r\n        break;\r\n      case 'ArrowRight':\r\n        position = IgcDockingIndicatorPosition.right;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (position) {\r\n      this.service.keyboardDockPane = this.service.dockManager.activePane;\r\n      this.service.rootDockPane(position);\r\n    }\r\n  }\r\n\r\n  private handleInnerDockPane(key: string) {\r\n    let position: IgcDockingIndicatorPosition;\r\n    switch (key) {\r\n      case 'ArrowUp':\r\n        position = IgcDockingIndicatorPosition.top;\r\n        break;\r\n      case 'ArrowDown':\r\n        position = IgcDockingIndicatorPosition.bottom;\r\n        break;\r\n      case 'ArrowLeft':\r\n        position = IgcDockingIndicatorPosition.left;\r\n        break;\r\n      case 'ArrowRight':\r\n        position = IgcDockingIndicatorPosition.right;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    \r\n    if (position) {\r\n      this.service.keyboardDockPane = this.service.dockManager.activePane;\r\n      this.service.dockPane(position);\r\n    }\r\n  }\r\n\r\n  private setPaneNavigatorMeta(altKey: boolean, ctrlOrMetaKey: boolean, shiftKey: boolean) {\r\n    let initIndex = 0;\r\n    const allItems = this.service.visibleContentPanes.concat(this.service.visibleDocuments);\r\n    if (allItems.length > 0) {\r\n      if (ctrlOrMetaKey) {\r\n        if (this.service.visibleDocuments.length > 0) {\r\n          initIndex = shiftKey ?\r\n            this.service.visibleContentPanes.length + this.service.visibleDocuments.length - 1 :\r\n            this.service.visibleContentPanes.length;\r\n        } else {\r\n          initIndex = shiftKey ? this.service.visibleContentPanes.length - 1 : 0;\r\n        }\r\n      } else if (altKey) {\r\n        initIndex = shiftKey ?\r\n          this.service.visibleContentPanes.length > 0 ?\r\n            this.service.visibleContentPanes.length - 1 :\r\n            this.service.visibleDocuments.length - 1 :\r\n          0;\r\n      }\r\n\r\n      const metadata = {\r\n        activePanes: this.service.visibleContentPanes,\r\n        activeDocuments: this.service.visibleDocuments,\r\n        initialIndex: initIndex,\r\n        previousActivePaneIndex: allItems.indexOf(this.service.dockManager.activePane)\r\n      };\r\n\r\n      this.service.dockManager.activePane = null;\r\n      this.service.dockManager.navigationPaneMeta = metadata;\r\n    }\r\n  }\r\n}\r\n",":host {\r\n  position: relative;\r\n  display: flex;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  background: $dock-background;\r\n  color: $dock-text;\r\n  font-family: $font-family;\r\n  outline-style: none;\r\n  --unpinned-tab-area-size: 30px;\r\n\r\n  igc-icon-component svg {\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n}\r\n\r\n%pane-container {\r\n  display: flex;\r\n  flex-grow: 1;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.pane-container {\r\n  @extend %pane-container;\r\n\r\n  &--horizontal {\r\n    @extend %pane-container;\r\n  }\r\n\r\n  &--vertical {\r\n    @extend %pane-container;\r\n    flex-direction: column;\r\n  }\r\n}\r\n\r\n.unpinned-tab-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: var(--unpinned-tab-area-size);\r\n  height: auto;\r\n\r\n  &--left {\r\n    padding: 8px 8px 8px 0;\r\n  }\r\n\r\n  &--right {\r\n    padding: 8px 0 8px 8px;\r\n  }\r\n\r\n  &--bottom {\r\n    padding-top: 8px;\r\n  }\r\n\r\n  &--horizontal {\r\n    flex-direction: row;\r\n    width: auto;\r\n    height: var(--unpinned-tab-area-size);\r\n  }\r\n\r\n  &--hidden {\r\n    display: none;\r\n  }\r\n\r\n}\r\n\r\n.flyout-pane {\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n  z-index: 2;\r\n\r\n  igc-content-pane-component {\r\n    box-shadow: 0 12px 8px $flyout-shadow-color;\r\n  }\r\n\r\n  &--right {\r\n    flex-direction: row-reverse;\r\n\r\n    igc-content-pane-component {\r\n      box-shadow: -12px 0px 8px $flyout-shadow-color;\r\n    }\r\n  }\r\n\r\n  &--bottom {\r\n    flex-direction: column-reverse;\r\n\r\n    igc-content-pane-component {\r\n      box-shadow: 0 -12px 8px $flyout-shadow-color;\r\n    }\r\n  }\r\n\r\n  &--left {\r\n    flex-direction: row;\r\n\r\n    igc-content-pane-component {\r\n      box-shadow: 12px 0px 8px $flyout-shadow-color;\r\n    }\r\n  }\r\n}\r\n\r\n.floating-panes {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  pointer-events: none;\r\n  z-index: 10000;\r\n}\r\n\r\n.docking-indicators-container {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n  z-index: 10004\r\n}\r\n\r\n.content {\r\n  overflow: auto;\r\n  height: 100%;\r\n  flex-grow: 1;\r\n  color: $pane-content-text;\r\n  background: $pane-content-background;\r\n  position: relative;\r\n}\r\n\r\n.maximized {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 10002;\r\n}\r\n\r\n.drop-shadow {\r\n  background-color: $drop-shadow-background;\r\n  position: fixed;\r\n  z-index: 10003;\r\n  display: block;\r\n  pointer-events: none;\r\n}\r\n\r\n.hidden {\r\n  height: 0;\r\n  opacity: 0;\r\n  padding: 0;\r\n  pointer-events: none;\r\n  min-height: 0 !important;\r\n  transition: opacity 0.5s ease;\r\n  position: absolute;\r\n}\r\n\r\n.transitioned {\r\n  overflow: hidden;\r\n  transition: opacity 0.5s ease;\r\n  position: absolute;\r\n  z-index: 999;\r\n  width: 100%;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\r\nimport 'igniteui-trial-watermark';\r\n\r\nimport { resourceStringsMap } from '../../utils/locale';\r\nimport { TwoWayMap } from '../../utils/two-way-map';\r\nimport { Utils } from '../../utils/utils';\r\nimport { IgcDragMoveEventArguments, IgcDragResizeEventArguments, IgcDragStartEventArguments } from '../drag-drop/drag.service';\r\n\r\nimport {\r\n  IGC_DEFAULT_PANE_SIZE, IGC_DEFAULT_UNPIN_PANE_SIZE, IgcContextMenuMetadata, IgcContextMenuOrientation, IgcContextMenuPosition, IgcDockManagerComponentBase, IgcDropTargetPaneInfo, IgcPaneNavigatorMetadata, IgcPinBehavior, IgcTabHeadersPosition\r\n} from './dockmanager.interfaces';\r\nimport {\r\n  IgcActivePaneEventArgs,\r\n  IgcContentPane, IgcDockManagerLayout, IgcDockManagerPane, IgcDockManagerPaneType, IgcDockManagerPoint, IgcDockManagerResourceStrings, IgcDockingIndicatorPosition, IgcDocumentHost, IgcFloatingPaneResizeEventArgs,\r\n  IgcFloatingPaneResizeMoveEventArgs, IgcPaneCloseEventArgs, IgcPaneDragEndEventArgs, IgcPaneDragOverEventArgs,\r\n  IgcPaneDragStartEventArgs, IgcPaneHeaderConnectionEventArgs, IgcPaneHeaderElement, IgcPanePinnedEventArgs, IgcSplitPane,\r\n  IgcSplitPaneOrientation, IgcTabGroupPane, IgcTabHeaderConnectionEventArgs, IgcTabHeaderElement, IgcUnpinnedLocation, IgcSplitterResizeEventArgs, IgcPaneScrollEventArgs\r\n} from './dockmanager.public-interfaces';\r\nimport { IgcDockManagerService } from './dockmanager.service';\r\nimport { IgcDockManagerKeyboardService } from './keyboard/keyboard.service';\r\nimport { IgcSplitterComponent } from './panes/splitter-component';\r\n\r\nenum ActionReason {\r\n  click = 'click',\r\n  drop = 'drop',\r\n  maximizeOrMinimize = 'maximizeOrMinimize'\r\n}\r\n\r\nconst PANE_HEADER_HEIGHT = 40;\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-dockmanager',\r\n  styleUrl: 'dockmanager-component.scss',\r\n  shadow: true,\r\n  scoped: false,\r\n})\r\nexport class IgcDockManager implements IgcDockManagerComponentBase {\r\n  private _tabHeaderIconClicked = false;\r\n  private service = new IgcDockManagerService(this);\r\n  private keyboardService = new IgcDockManagerKeyboardService(this.service);\r\n  private panesElementMap: TwoWayMap<IgcDockManagerPane, HTMLElement>;\r\n  private contentPanesElementMap: Map<IgcContentPane, HTMLElement>;\r\n  private tabHeadersMap: Map<IgcContentPane, HTMLElement>;\r\n  private unpinnedHeadersMap: Map<IgcContentPane, HTMLElement>;\r\n  private activePaneInternalSet = false;\r\n  private domObserver = new MutationObserver(this.mutationCallback.bind(this));\r\n  private showDockingIndicators: boolean;\r\n  private shouldMovePane = false;\r\n  private scheduledCallbacks: (() => void)[] = [];\r\n  private paneToFocus: IgcContentPane;\r\n  private shouldClearActivePane = true;\r\n  private dockedPanesContainer: HTMLElement;\r\n  private isDragging = false;\r\n  private contentPaneId: string;\r\n  private reason: ActionReason;\r\n  private splitterOffset = 1;\r\n  private loaded = false;\r\n  private resizeObserver = new ResizeObserver(this.restrictFloatingPaneSize.bind(this));\r\n  private proximityDockThreshold = 50;\r\n  private proximityOuterDockThreshold = 25;\r\n  private cursorLocation: IgcDockManagerPoint;\r\n  private splitterRect: any\r\n  private allowOuterProximityDock: boolean\r\n  private templatableComponents = [\r\n    {\r\n      slot: 'paneHeaderCloseButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderCloseButton',\r\n      targetPart: 'pane-header-close-button'\r\n    },\r\n    {\r\n      slot: 'tabHeaderCloseButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderCloseButton',\r\n      targetPart: 'tab-header-close-button'\r\n    },\r\n    {\r\n      slot: 'tabHeaderCloseButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuCloseButton',\r\n      targetPart: 'context-menu-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderCloseButton',\r\n      targetPart: 'pane-header-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderCloseButton',\r\n      targetPart: 'tab-header-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuCloseButton',\r\n      targetPart: 'context-menu-close-button'\r\n    },\r\n    {\r\n      slot: 'moreTabsButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMoreButton',\r\n      targetPart: 'tabs-more-button'\r\n    },\r\n    {\r\n      slot: 'maximizeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderMaximizeButton',\r\n      targetPart: 'pane-header-maximize-button'\r\n    },\r\n    {\r\n      slot: 'maximizeButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMaximizeButton',\r\n      targetPart: 'tabs-maximize-button'\r\n    },\r\n    {\r\n      slot: 'minimizeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderMinimizeButton',\r\n      targetPart: 'pane-header-minimize-button'\r\n    },\r\n    {\r\n      slot: 'minimizeButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMinimizeButton',\r\n      targetPart: 'tabs-minimize-button'\r\n    },\r\n    {\r\n      slot: 'pinButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderPinButton',\r\n      targetPart: 'pane-header-pin-button'\r\n    },\r\n    {\r\n      slot: 'unpinButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderUnpinButton',\r\n      targetPart: 'pane-header-unpin-button'\r\n    },\r\n    {\r\n      slot: 'unpinButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuUnpinButton',\r\n      targetPart: 'context-menu-unpin-button'\r\n    },\r\n    {\r\n      slot: 'moreOptionsButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderMoreOptionsButton',\r\n      targetPart: 'tab-header-more-options-button'\r\n    },\r\n    {\r\n      slot: 'splitterHandle',\r\n      targetName: 'igc-splitter-component',\r\n      targetSlot: 'splitterHandle',\r\n      targetPart: 'splitter-handle'\r\n    },\r\n\r\n  ];\r\n\r\n  documentOnlyDrag: boolean;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @State() dropTargetPaneInfo: IgcDropTargetPaneInfo;\r\n  @State() flyoutPane: IgcContentPane;\r\n\r\n  @Watch('flyoutPane')\r\n  flyoutPaneChanged(newValue: IgcContentPane) {\r\n    if (newValue) {\r\n      this.scheduleAfterRender(() => {\r\n        this.setFocus(newValue);\r\n      });\r\n    }\r\n  }\r\n\r\n  @State() floatingPaneZIndicesMap = new Map<IgcSplitPane, number>();\r\n  @State() contextMenuMeta: IgcContextMenuMetadata;\r\n  @State() dropShadowRect: DOMRect;\r\n  @State() templates: Map<string, any> = new Map();\r\n  @State() hasCustomMaximizeButton: boolean;\r\n  @State() hasCustomMinimizeButton: boolean;\r\n  @State() hoveredPane: IgcContentPane;\r\n\r\n  @Prop({ mutable: true }) navigationPaneMeta: IgcPaneNavigatorMetadata;\r\n  @Prop() allowMaximize = true;\r\n  @Prop() showPaneHeaders: 'onHoverOnly' | 'always' = 'always';\r\n  @Prop() showHeaderIconOnHover: 'closeOnly' | 'moreOptionsOnly' | 'all';\r\n  @Prop({ mutable: true }) maximizedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n  @Prop({ mutable: true }) resourceStrings: IgcDockManagerResourceStrings;\r\n  @Prop() allowFloatingPanesResize = true;\r\n  @Prop() disableKeyboardNavigation = false;\r\n  @Prop() contextMenuPosition: IgcContextMenuPosition;\r\n  @Prop() containedInBoundaries = false;\r\n  @Prop() allowInnerDock = true;\r\n  @Prop() proximityDock = false;\r\n\r\n  @Watch('containedInBoundaries')\r\n  containedInBoundariesChanged() {\r\n    if (this.loaded) {\r\n      this.restrictFloatingPaneSize();\r\n    }\r\n  }\r\n  /**\r\n   * The layout configuration of the Dock Manager.\r\n   */\r\n  @Prop({ mutable: true }) layout: IgcDockManagerLayout;\r\n\r\n  /**\r\n   * Gets the direction of the Dock Manager.\r\n   */\r\n  get direction(): string {\r\n    return Utils.getDirection(this.element);\r\n  }\r\n\r\n  @Watch('layout')\r\n  layoutChanged() {\r\n    this.service.processLayout();\r\n    if (!this.isDragging) {\r\n      this.layoutChange.emit();\r\n    }\r\n  }\r\n\r\n  @Prop({ mutable: true })\r\n  draggedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n\r\n  @Watch('draggedPane')\r\n  draggedPaneChanged() {\r\n    if (this.draggedPane) {\r\n      const panes = this.draggedPane.type === IgcDockManagerPaneType.contentPane ?\r\n        [this.draggedPane] :\r\n        this.service.getChildContentPanes(this.draggedPane);\r\n\r\n      this.showDockingIndicators = panes.every(p => p.allowDocking !== false);\r\n      this.documentOnlyDrag = panes.some(p => p.documentOnly);\r\n    } else {\r\n      this.showDockingIndicators = false;\r\n      this.documentOnlyDrag = false;\r\n    }\r\n  }\r\n\r\n  @Prop() dropPosition: IgcDockManagerPoint;\r\n\r\n  @Watch('dropPosition')\r\n  dropPositionChanged() {\r\n    this.paneDragMoved(this.dropPosition?.x, this.dropPosition?.y);\r\n  }\r\n\r\n  @Prop({ mutable: true })\r\n  activePane: IgcContentPane = null;\r\n\r\n  @Watch('activePane')\r\n  activePaneChange(newValue: IgcContentPane, oldValue: IgcContentPane) {\r\n    const args: IgcActivePaneEventArgs = { newPane: newValue, oldPane: oldValue };\r\n\r\n    if (this.flyoutPane && newValue && newValue !== this.flyoutPane) {\r\n      this.service.flyoutPane(this.flyoutPane);\r\n    }\r\n\r\n    this.activePaneChanged.emit(args);\r\n    this.contentPaneId = newValue?.contentId || this.contentPaneId;\r\n\r\n    if (this.activePaneInternalSet) {\r\n      this.activePaneInternalSet = false;\r\n      return;\r\n    }\r\n\r\n    if (newValue) {\r\n      if (newValue.isPinned === false) {\r\n        requestAnimationFrame(() => {\r\n          this.service.flyoutPane(newValue);\r\n        });\r\n        // return because setFocus will be called in flyoutPaneChanged\r\n        this.paneToFocus = newValue;\r\n        return;\r\n      } else {\r\n        const parent = this.service.getParent(newValue);\r\n\r\n        if (parent.type === IgcDockManagerPaneType.tabGroupPane && parent.panes.length > 1) {\r\n          const visibleTabs = this.service.getVisibleContentPanes(parent);\r\n          const tabHeaderElement = this.tabHeadersMap.get(newValue);\r\n          const firstTabRect = this.tabHeadersMap\r\n            .get(visibleTabs[0])\r\n            .getBoundingClientRect();\r\n          const headerRect = tabHeaderElement.getBoundingClientRect();\r\n\r\n          // return if the selected index is changed because setFocus will be called in handleTabSelectedChanged\r\n          if (headerRect.top !== firstTabRect.top) { // header is hidden\r\n            this.service.selectHiddenTab(parent, newValue);\r\n            this.paneToFocus = newValue;\r\n            return;\r\n          } else {\r\n            const visibleIndex = visibleTabs.indexOf(newValue);\r\n            const selectedIndex = parent.selectedIndex ?? 0;\r\n\r\n            if (selectedIndex !== visibleIndex) {\r\n              parent.selectedIndex = visibleIndex;\r\n              this.paneToFocus = newValue;\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.scheduleAfterRender(() => {\r\n      this.setFocus(newValue);\r\n    });\r\n  }\r\n\r\n  @Event()\r\n  paneHeaderConnected: EventEmitter<IgcPaneHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  paneHeaderDisconnected: EventEmitter<IgcPaneHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  tabHeaderConnected: EventEmitter<IgcTabHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  tabHeaderDisconnected: EventEmitter<IgcTabHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  splitterResizeStart: EventEmitter<IgcSplitterResizeEventArgs>;\r\n\r\n  @Event()\r\n  splitterResizeEnd: EventEmitter<IgcSplitterResizeEventArgs>;\r\n\r\n  @Event()\r\n  paneClose: EventEmitter<IgcPaneCloseEventArgs>;\r\n\r\n  @Event()\r\n  paneScroll: EventEmitter<IgcPaneScrollEventArgs>;\r\n\r\n  @Event()\r\n  panePinnedToggle: EventEmitter<IgcPanePinnedEventArgs>;\r\n\r\n  @Event()\r\n  activePaneChanged: EventEmitter<IgcActivePaneEventArgs>;\r\n\r\n  @Event()\r\n  paneDragStart: EventEmitter<IgcPaneDragStartEventArgs>;\r\n\r\n  @Event()\r\n  paneDragOver: EventEmitter<IgcPaneDragOverEventArgs>;\r\n\r\n  @Event()\r\n  paneDragEnd: EventEmitter<IgcPaneDragEndEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeMove: EventEmitter<IgcFloatingPaneResizeMoveEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeEnd: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeStart: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n\r\n  @Event()\r\n  layoutChange: EventEmitter;\r\n\r\n  @Listen('focusout')\r\n  handleFocusOut(_event: Event) {\r\n    if (this.paneToFocus) {\r\n      return;\r\n    }\r\n    const rootNode = this.getRootNode();\r\n\r\n    if (!this._tabHeaderIconClicked && !this.isDragging) {\r\n      requestAnimationFrame(() => {\r\n        if (!this.element.contains(rootNode.activeElement)) {\r\n          this.clearActivePane();\r\n        }\r\n      });\r\n    }\r\n\r\n    this._tabHeaderIconClicked = false;\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(event: KeyboardEvent) {\r\n    this.keyboardService.handleKeydown(event);\r\n  }\r\n\r\n  @Listen('pointerdown')\r\n  handlePointerDown(event: PointerEvent) {\r\n    const pathHTMLElements = event.composedPath().filter(e => e instanceof HTMLElement).map(e => e as HTMLElement);\r\n    const isMaximizeOrMinimize = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') &&\r\n      (e.attributes.getNamedItem('part').value === 'tabs-minimize-button' || e.attributes.getNamedItem('part').value === 'tabs-maximize-button')).length > 0;\r\n    if (isMaximizeOrMinimize) {\r\n      this.reason = ActionReason.maximizeOrMinimize;\r\n    }\r\n  }\r\n\r\n  @Listen('pointerup')\r\n  handlePointerUp() {\r\n    this.reason = null;\r\n  }\r\n\r\n  @Method()\r\n  async dropPane(): Promise<boolean> {\r\n    const docked = this.handlePaneDragEnd();\r\n    return Promise.resolve(docked);\r\n  }\r\n\r\n  @Method()\r\n  async removePane(pane: IgcDockManagerPane) {\r\n    this.service.removePane(pane);\r\n  }\r\n\r\n  @Method()\r\n  async focusPane(contentId: string) {\r\n    const contentPane = this.service.getContent(contentId) as IgcContentPane;\r\n    const parentPane = this.service.getRootParent(contentPane);\r\n    const isFloating = this.service.isFloatingPane(parentPane);\r\n    const isUnpinned = contentPane.isPinned !== undefined && !contentPane.isPinned;\r\n\r\n    if (isFloating) {\r\n      this.service.bringFloatingPaneOnTop(parentPane);\r\n      this.activePane = contentPane;\r\n    } else if (isUnpinned) {\r\n      this.handlePaneFlyout(contentPane);\r\n    } else {\r\n      this.activePane = contentPane;\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.element.shadowRoot.addEventListener('focusout', this.handleShadowRootFocusOut);\r\n    this.domObserver.observe(this.element, { attributes: true, subtree: true, childList: true });\r\n\r\n    const dockManagerChildren = Array.from(this.element.children);\r\n    for (const htmlElem of dockManagerChildren) {\r\n      const elem = htmlElem as HTMLElement;\r\n      elem?.addEventListener('focusin', this.handleCustomContentFocusIn);\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.contextMenuMeta = null;\r\n    this.navigationPaneMeta = null;\r\n\r\n    if (this.layout) {\r\n      this.layoutChanged();\r\n    }\r\n\r\n    if (!this.resourceStrings) {\r\n      const closestElement = this.element.closest('[lang]') as HTMLElement;\r\n      const lang = closestElement ? closestElement.lang.toLowerCase() : 'en';\r\n      this.resourceStrings = resourceStringsMap.has(lang) ? resourceStringsMap.get(lang) : resourceStringsMap.get('en');\r\n    }\r\n  }\r\n\r\n  componentWillRender() {\r\n    const lastMaximizedPane = this.service.getLastMaximizedPane();\r\n\r\n    if (lastMaximizedPane && this.maximizedPane !== lastMaximizedPane) {\r\n      const shouldFlyout = 'isPinned' in lastMaximizedPane && !(lastMaximizedPane as IgcContentPane).isPinned;\r\n\r\n      if (shouldFlyout) {\r\n        this.handlePaneFlyout(lastMaximizedPane as IgcContentPane);\r\n      }\r\n\r\n      this.handleMaximize(lastMaximizedPane);\r\n    }\r\n  }\r\n\r\n  componentDidRender() {\r\n    while (this.scheduledCallbacks.length) {\r\n      const callback = this.scheduledCallbacks.shift();\r\n      callback();\r\n    }\r\n\r\n    if (this.service.keyboardDockPane) {\r\n      this.setActivePane(this.service.keyboardDockPane);\r\n      this.setFocus(this.service.keyboardDockPane);\r\n      this.service.keyboardDockPane = null;\r\n    }\r\n\r\n    this.processTemplates();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.loaded = true;\r\n    this.resizeObserver.observe(this.element);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.element.shadowRoot.removeEventListener('focusout', this.handleShadowRootFocusOut);\r\n    this.removeCustomContentEventListeners();\r\n    this.domObserver.disconnect();\r\n    this.resizeObserver.disconnect();\r\n  }\r\n\r\n  focusElement() {\r\n    this.element.focus();\r\n  }\r\n\r\n  private handleTabsRendered(pane: IgcTabGroupPane) {\r\n    if (this.reason !== ActionReason.drop) { return; }\r\n    if (pane.panes?.length > 0) {\r\n      const focusablePane = this.findFocusablePane(pane.panes);\r\n      if (focusablePane?.contentId === this.contentPaneId) {\r\n        pane.selectedIndex = pane.panes.indexOf(focusablePane);\r\n        this.setActivePane(focusablePane);\r\n        this.setFocus(focusablePane);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleSplitPaneRendered(panes: IgcDockManagerPane[]) {\r\n    if (this.reason !== ActionReason.drop) { return; }\r\n    const focusablePane = this.findFocusablePane(panes);\r\n    if (focusablePane?.contentId === this.contentPaneId) {\r\n      this.setActivePane(focusablePane);\r\n      this.setFocus(focusablePane);\r\n    }\r\n  }\r\n\r\n  private findFocusablePane(panes: IgcDockManagerPane[], candidate?: IgcContentPane): IgcContentPane | undefined {\r\n    const splitPanes = panes.filter(p => p.type === IgcDockManagerPaneType.splitPane);\r\n    for (const pane of splitPanes) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const splitPane = pane as IgcSplitPane;\r\n      candidate = this.findFocusablePane(splitPane.panes);\r\n    }\r\n\r\n    const tabGroupPanes = panes.filter(p => p.type === IgcDockManagerPaneType.tabGroupPane);\r\n    for (const pane of tabGroupPanes) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const tabGroupPane = pane as IgcTabGroupPane;\r\n      candidate = tabGroupPane.selectedIndex ? tabGroupPane.panes[tabGroupPane.selectedIndex] : this.findFocusablePane(tabGroupPane.panes);\r\n    }\r\n\r\n    const docHost = panes.filter(p => p.type === IgcDockManagerPaneType.documentHost);\r\n    for (const pane of docHost) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const docHostPane = pane as IgcDocumentHost;\r\n      candidate = this.findFocusablePane([docHostPane.rootPane]);\r\n    }\r\n\r\n    candidate = panes.find(p => p.type === IgcDockManagerPaneType.contentPane\r\n      && p.contentId === this.contentPaneId) as IgcContentPane || candidate;\r\n    if (candidate) {\r\n      return candidate;\r\n    }\r\n\r\n    return panes.find(p => p.type === IgcDockManagerPaneType.contentPane) as IgcContentPane;\r\n  }\r\n\r\n  private processTemplates() {\r\n    if (this.templates.size === 0) {\r\n      return;\r\n    }\r\n\r\n    this.templatableComponents.forEach(component => {\r\n      const template = this.templates.get(component.slot);\r\n      if (template) {\r\n        template.setAttribute('slot', component.targetSlot);\r\n        template.setAttribute('part', component.targetPart);\r\n\r\n        const componentMatches = this.element.shadowRoot.querySelectorAll(component.targetName);\r\n        componentMatches.forEach(match => {\r\n          const slottedClose = match.querySelectorAll('[slot=\"' + component.targetSlot + '\"]');\r\n\r\n          if (slottedClose.length === 0) {\r\n            match.appendChild(template.cloneNode(true));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateTemplates = () => {\r\n    if (this.templates.size > 0) {\r\n      return;\r\n    }\r\n\r\n    const slotted = this.element.shadowRoot.querySelectorAll('slot');\r\n    const slottedArray = Array.from(slotted);\r\n    const usedTemplates: Map<string, any> = new Map();\r\n    const templatableSlots = this.templatableComponents.map(comp => comp.slot);\r\n    templatableSlots.forEach(slot => {\r\n      const matchedSlots = slottedArray.filter((s: any) => s.name === slot);\r\n      if (!this.templates.get(slot) && matchedSlots.length > 0 && matchedSlots[0].assignedElements().length > 0) {\r\n        usedTemplates.set(slot, matchedSlots[0].assignedElements()[0]);\r\n      }\r\n    });\r\n\r\n    this.templates = usedTemplates;\r\n  }\r\n\r\n  private getRootNode(): DocumentOrShadowRoot {\r\n    return this.element.getRootNode() as unknown as DocumentOrShadowRoot;\r\n  }\r\n\r\n  private scheduleAfterRender(callback: () => void) {\r\n    this.scheduledCallbacks.push(callback);\r\n  }\r\n\r\n  private handleTabHeaderFocus(pane: IgcContentPane) {\r\n    if (!this._tabHeaderIconClicked) {\r\n      this.setActivePane(pane);\r\n    }\r\n  }\r\n\r\n  private handleContentPaneFocus(pane: IgcContentPane) {\r\n    this.setActivePane(pane);\r\n  }\r\n\r\n  private handleUnpinnedHeaderFocus(pane: IgcContentPane) {\r\n    // delay the setting of the active pane, in case the unpinned tab is clicked it should focus the content pane first\r\n    requestAnimationFrame(() => {\r\n      this.setActivePane(pane);\r\n    });\r\n  }\r\n\r\n  private setFocus(pane: IgcContentPane) {\r\n    if (!pane) { return; }\r\n    this.paneToFocus = null;\r\n\r\n    let elemToFocus = this.contentPanesElementMap.get(pane);\r\n\r\n    if (!elemToFocus) {\r\n      elemToFocus = this.tabHeadersMap.get(pane);\r\n    }\r\n\r\n    if (!elemToFocus) {\r\n      elemToFocus = this.unpinnedHeadersMap.get(pane);\r\n    }\r\n\r\n    if (!elemToFocus) {\r\n      throw new Error('No matching pane!');\r\n    }\r\n\r\n    elemToFocus.focus();\r\n  }\r\n\r\n  private setActivePane(pane: IgcContentPane) {\r\n    if (this.activePane !== pane) {\r\n      this.activePaneInternalSet = true;\r\n      this.activePane = pane;\r\n    }\r\n  }\r\n\r\n  private removeCustomContentEventListeners() {\r\n    const dockManagerChildren = Array.from(this.element.children);\r\n    dockManagerChildren.forEach(child => {\r\n      child.removeEventListener('focusin', this.handleCustomContentFocusIn);\r\n    });\r\n  }\r\n\r\n  private handleCustomContentFocusIn = (eventArgs: FocusEvent) => {\r\n    const parent = eventArgs.currentTarget as HTMLElement;\r\n    if (parent) {\r\n      const contentPane = this.service.clientContentPanesMap.get(parent.slot);\r\n      if (!contentPane) { return; }\r\n\r\n      this.setActivePane(contentPane);\r\n    }\r\n  }\r\n\r\n  private mutationCallback(records: MutationRecord[]) {\r\n    records.filter(rec => rec.type === 'childList').forEach(child => {\r\n      child.addedNodes.forEach(c => {\r\n        c.addEventListener('focusin', this.handleCustomContentFocusIn);\r\n      });\r\n\r\n      child.removedNodes.forEach(r => {\r\n        r.removeEventListener('focusin', this.handleCustomContentFocusIn);\r\n      });\r\n    });\r\n  }\r\n\r\n  private _isValidDrop = true;\r\n\r\n  get isValidDrop() {\r\n    return this._isValidDrop;\r\n  }\r\n\r\n  set isValidDrop(value: boolean) {\r\n    if (this._isValidDrop !== value) {\r\n      this._isValidDrop = value;\r\n      document.body.style.cursor = this._isValidDrop ? 'default' : 'not-allowed';\r\n    }\r\n  }\r\n\r\n  private handleShadowRootFocusOut = () => {\r\n    if (this.paneToFocus) {\r\n      return;\r\n    }\r\n    const rootNode = this.getRootNode();\r\n\r\n    requestAnimationFrame(() => {\r\n      if (!this.element.shadowRoot.activeElement && rootNode.activeElement === this.element && this.reason !== ActionReason.maximizeOrMinimize) {\r\n        this.clearActivePane();\r\n      }\r\n    });\r\n  }\r\n\r\n  private restrictFloatingPaneSize() {\r\n    if (this.containedInBoundaries) {\r\n      const dockManagerRect = this.element.getBoundingClientRect();\r\n      const floatingPanes = Array.from(this.element.shadowRoot.querySelectorAll('igc-floating-pane-component'));\r\n\r\n      floatingPanes.forEach(floatingPane => {\r\n        const paneElement = floatingPane.querySelector('igc-split-pane-component');\r\n        const pane = this.panesElementMap.getByValue(paneElement) as IgcSplitPane;\r\n\r\n        if (floatingPane.getBoundingClientRect().height > dockManagerRect.height) {\r\n          floatingPane.floatingHeight = pane.floatingHeight = dockManagerRect.height;\r\n          floatingPane.style.height = floatingPane.floatingHeight + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().bottom > dockManagerRect.bottom) {\r\n          floatingPane.floatingLocation.y = pane.floatingLocation.y = dockManagerRect.bottom - floatingPane.getBoundingClientRect().height;\r\n          floatingPane.style.top = floatingPane.floatingLocation.y + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().y < dockManagerRect.y) {\r\n          floatingPane.floatingLocation.y = dockManagerRect.y;\r\n          floatingPane.style.top = floatingPane.floatingLocation.y + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().width > dockManagerRect.width) {\r\n          floatingPane.floatingWidth = dockManagerRect.width;\r\n          floatingPane.style.width = floatingPane.floatingWidth + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().right > dockManagerRect.right) {\r\n          floatingPane.floatingLocation.x = pane.floatingLocation.x = dockManagerRect.right - floatingPane.getBoundingClientRect().width;\r\n          floatingPane.style.left = floatingPane.floatingLocation.x + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().left < dockManagerRect.left) {\r\n          floatingPane.floatingLocation.x = dockManagerRect.x;\r\n          floatingPane.style.left = floatingPane.floatingLocation.x + 'px';\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private isPaneSizeWithinConstraints(pane: HTMLElement, offset: number, orientation: IgcSplitPaneOrientation, position: 'previous' | 'next' = 'next'): boolean {\r\n    let size, minSize, maxSize: number;\r\n\r\n    if (orientation === IgcSplitPaneOrientation.horizontal) {\r\n      size = pane.getBoundingClientRect().width;\r\n      minSize = parseFloat(getComputedStyle(pane).minWidth);\r\n      maxSize = parseFloat(getComputedStyle(pane).maxWidth);\r\n    } else {\r\n      size = pane.getBoundingClientRect().height;\r\n      minSize = parseFloat(getComputedStyle(pane).minHeight);\r\n      maxSize = parseFloat(getComputedStyle(pane).maxHeight);\r\n    }\r\n\r\n    if (position === 'previous') {\r\n      return offset < 0 ? ((size + offset) >= minSize || isNaN(minSize) || minSize === 0) : ((size + offset) <= maxSize || isNaN(maxSize))\r\n    }\r\n\r\n    return offset > 0 ? ((size - offset) >= minSize || isNaN(minSize)) : ((size - offset) <= maxSize || isNaN(maxSize));\r\n  }\r\n\r\n  private handleFlyoutSplitterResizeEnd(pane: IgcContentPane, orientation: IgcSplitPaneOrientation, event: CustomEvent<number>) {\r\n    const splitter = event.target as HTMLElement;\r\n    const previousPane = splitter.previousElementSibling as HTMLElement;\r\n    const minSize = orientation === IgcSplitPaneOrientation.horizontal\r\n      ? parseFloat(getComputedStyle(previousPane).minWidth)\r\n      : parseFloat(getComputedStyle(previousPane).minHeight);\r\n\r\n    if (!isNaN(minSize) && (minSize > pane.unpinnedSize || minSize > IGC_DEFAULT_UNPIN_PANE_SIZE)) {\r\n      pane.unpinnedSize = minSize;\r\n    }\r\n\r\n    // If new pane size does not meet the size constraints, do not resize\r\n    let offset = this.isPaneSizeWithinConstraints(previousPane, event.detail, orientation, 'previous') ? this.splitterOffset * event.detail : 0;\r\n\r\n    this.service.resizeFlyoutPane(offset);\r\n\r\n    let rect: DOMRect;    \r\n    rect = splitter.previousElementSibling.getBoundingClientRect();\r\n    const paneWidth = orientation === IgcSplitPaneOrientation.horizontal ? rect.width + offset : rect.width;\r\n    const paneHeight = orientation === IgcSplitPaneOrientation.vertical ? rect.height + offset : rect.height;\r\n    this.splitterResizeEnd.emit({ pane, orientation, paneWidth, paneHeight });\r\n  }\r\n\r\n  private handleSplitterResizeStart(pane: IgcDockManagerPane, event: { target: IgcSplitterComponent }) {\r\n    const splitter = event.target;\r\n    const orientation = splitter.splitPaneOrientation;\r\n    let rect: DOMRect;\r\n    const splitterEl = event.target as unknown as HTMLElement;\r\n    rect = pane === this.flyoutPane ? splitterEl.previousElementSibling.getBoundingClientRect() : splitterEl.nextElementSibling.getBoundingClientRect();\r\n    const paneWidth = rect.width;\r\n    const paneHeight = rect.height;\r\n    const resizeStartEvent = this.splitterResizeStart.emit({ pane, orientation, paneWidth, paneHeight });\r\n\r\n    if (resizeStartEvent.defaultPrevented) {\r\n      this.splitterOffset = 0;\r\n      splitter.showDragGhost = false;\r\n    } else {\r\n      this.splitterOffset = 1;\r\n      splitter.showDragGhost = true;\r\n    }\r\n  }\r\n\r\n  private handleSplitterResizeEnd(parentPane: IgcSplitPane, pane: IgcDockManagerPane, event: CustomEvent<number>) {\r\n    const splitter = event.target as HTMLElement;\r\n    const previousPane = splitter.previousElementSibling as HTMLElement;\r\n    const nextPane = splitter.nextElementSibling as HTMLElement;\r\n    const splitPane = splitter.parentElement;\r\n    const splitPaneChildren = Array.from(splitPane.children);\r\n    const paneComponents = splitPaneChildren.filter(c => c.tagName.toLowerCase() !== 'igc-splitter-component');\r\n\r\n    const sizeProperty = parentPane.orientation === IgcSplitPaneOrientation.horizontal ? 'offsetWidth' : 'offsetHeight';\r\n    const sizeSum = paneComponents.reduce((s, p: HTMLElement) => p[sizeProperty] + s, 0);\r\n\r\n    // If the new size is smaller or bigger that the size constraints, do not resize\r\n    const offset = this.isPaneSizeWithinConstraints(previousPane, event.detail, parentPane.orientation, 'previous') && this.isPaneSizeWithinConstraints(nextPane, event.detail, parentPane.orientation) ? event.detail : 0;\r\n    let offsetPercentage = this.splitterOffset * offset / sizeSum;\r\n\r\n    let rtl = false;\r\n    if (this.element.dir !== '') {\r\n      rtl = this.element.dir === 'rtl';\r\n    } else {\r\n      let parent = this.element.parentElement;\r\n      while (parent) {\r\n        if (parent.dir !== '') {\r\n          rtl = parent.dir === 'rtl';\r\n          break;\r\n        }\r\n\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n\r\n    if (rtl && parentPane.orientation === IgcSplitPaneOrientation.horizontal) {\r\n      offsetPercentage *= -1;\r\n    }\r\n\r\n    this.service.resizePane(pane, offsetPercentage);\r\n    const orientation = parentPane.orientation;\r\n    let rect: DOMRect;\r\n    rect = splitter.nextElementSibling.getBoundingClientRect();\r\n    const paneWidth = orientation === IgcSplitPaneOrientation.horizontal ? rect.width - offsetPercentage*sizeSum : rect.width;\r\n    const paneHeight = orientation === IgcSplitPaneOrientation.vertical ? rect.height - offsetPercentage*sizeSum : rect.height;\r\n    this.splitterResizeEnd.emit({ pane, orientation, paneWidth, paneHeight });\r\n  }\r\n\r\n  private clearActivePane() {\r\n    if (this.activePane && this.shouldClearActivePane && this.reason !== ActionReason.drop) {\r\n      this.setActivePane(null);\r\n    }\r\n  }\r\n\r\n  private handlePinToggle(pane: IgcContentPane) {\r\n    const isPinned = this.service.getActualIsPinned(pane);\r\n    const pinBehavior = !isPinned ? IgcPinBehavior.selectedPane : IgcPinBehavior.allPanes;\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.service.togglePin(pane, pinBehavior);\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n      this.setFocus(pane);\r\n    });\r\n  }\r\n\r\n  private handlePaneClose(pane: IgcContentPane) {\r\n    this.focusElement();\r\n    this.service.closePane(pane);\r\n  }\r\n\r\n  private handleFloatingPaneClose(pane: IgcSplitPane) {\r\n    this.focusElement();\r\n    this.service.closeFloatingPane(pane);\r\n  }\r\n\r\n  private handleMaximize(pane: any) {\r\n    this.service.maximizePane(pane);\r\n    this.scheduleAfterRender(() => {\r\n      const paneToFocus = this.findFocusablePane([pane]);\r\n      this.setFocus(paneToFocus);\r\n    });\r\n  }\r\n\r\n  private handleUnpinnedTabMouseDown(pane: IgcContentPane, event: MouseEvent) {\r\n    const target = event.currentTarget as HTMLElement;\r\n    const rootNode = this.getRootNode();\r\n    this.contentPaneId = pane.id;\r\n    requestAnimationFrame(() => {\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        target.focus();\r\n      }\r\n\r\n      this.handlePaneFlyout(pane);\r\n    });\r\n  }\r\n\r\n  private handlePaneFlyout(pane: IgcContentPane) {\r\n    this.service.flyoutPane(pane);\r\n  }\r\n\r\n  private handleUnpinnedTabKeyDown(pane: IgcContentPane, event: KeyboardEvent) {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      this.handlePaneFlyout(pane);\r\n    }\r\n  }\r\n\r\n  private handlePaneDragStart(pane: IgcSplitPane | IgcContentPane, event: CustomEvent<IgcDragStartEventArguments>) {\r\n    let rect: DOMRect;\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      const header = event.target as HTMLElement;\r\n      const parent = this.service.getParent(pane);\r\n\r\n      rect = (pane !== this.flyoutPane && parent.type === IgcDockManagerPaneType.tabGroupPane) ?\r\n        header.closest('igc-tabs-component').getBoundingClientRect() :\r\n        header.parentElement.getBoundingClientRect();\r\n      this.contentPaneId = pane.contentId;\r\n    }\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.focusElement();\r\n    const dragStarted = this.service.dragPaneStart(pane, rect, event.detail.clientX, event.detail.clientY);\r\n    this.isDragging = true;\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n      if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n        this.contentPaneId = pane.contentId;\r\n        return;\r\n      }\r\n      if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n        const targetPane = this.findFocusablePane(pane.panes);\r\n        if (targetPane) {\r\n          this.contentPaneId = targetPane.contentId;\r\n          this.setActivePane(targetPane);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!dragStarted) {\r\n      this.isDragging = false;\r\n      event.detail.cancel = true;\r\n    } else {\r\n      this.service.dockManagerRect = this.element.getBoundingClientRect();\r\n    }\r\n  }\r\n\r\n  private handlePaneDragMove(event: CustomEvent<IgcDragMoveEventArguments>) {\r\n    this.paneDragMoved(event.detail.clientX, event.detail.clientY, event);\r\n  }\r\n\r\n  private paneDragMoved(clientX: number, clientY: number, event?: CustomEvent<IgcDragMoveEventArguments>) {\r\n    this.handleDropPositionChange(clientX, clientY, event?.target);\r\n\r\n    const x = event?.detail.clientX;\r\n    const y = event?.detail.clientY;\r\n\r\n    this.cursorLocation = { x, y };\r\n\r\n    if (this.proximityDock) {\r\n      this.service.proximityDockPosition = this.getProximityDockPosition();\r\n      this.service.dropTargetParentRect = this.getInnerDropTargetParentRect();\r\n    }\r\n\r\n    const dragMoved = this.service.dragPaneMove(x, y);\r\n\r\n    if (event && !dragMoved) {\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private getInnerDropTargetParentRect() {\r\n    if (this.dropTargetPaneInfo && this.service.proximityDockPosition) {\r\n      const targetDocHostParent = this.service.getParent(this.dropTargetPaneInfo.docHost) as IgcSplitPane;\r\n\r\n      // In proximityDock, targetDocHostParent can be undefined when elementsFromPoint returns an empty splitPane meaning the dragged pane is over it.\r\n      const isIndicatorVertical = targetDocHostParent && Utils.isDockingIndicatorVertical(this.service.proximityDockPosition as IgcDockingIndicatorPosition);\r\n      const isSplitPaneVertical = targetDocHostParent && Utils.isSplitPaneVertical(targetDocHostParent);\r\n      const isSameSplitPane = ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical));\r\n\r\n      // If its over splitter or if docHost without splitter -> outer dock\r\n      // For top/bottom outer dock we need the docHost's parent rect\r\n      // For left/right outer dock we need the docHost's rootPane rect\r\n      // If its not over splitter -> innerDock\r\n      const targetPaneParent = this.allowOuterProximityDock && Utils.isDockingIndicatorOuter(this.service.proximityDockPosition as IgcDockingIndicatorPosition)\r\n        ? isSameSplitPane\r\n          ? targetDocHostParent\r\n          : this.dropTargetPaneInfo.docHost.rootPane\r\n        : this.service.getParent(this.dropTargetPaneInfo.pane);\r\n\r\n      const targetPaneParentRect = this.panesElementMap.has(targetPaneParent) ? this.panesElementMap.get(targetPaneParent).getBoundingClientRect() : null;\r\n      return targetPaneParentRect;\r\n    }\r\n  }\r\n\r\n  private getProximityDockPosition() {\r\n    const dropTarget = this.dropTargetPaneInfo;\r\n\r\n    if (!dropTarget) {\r\n      return null;\r\n    }\r\n\r\n    const pane = dropTarget.pane;\r\n    const targetPaneRect = dropTarget.targetRect;\r\n    const centerX = (targetPaneRect.left + targetPaneRect.right) / 2;\r\n    const centerY = (targetPaneRect.top + targetPaneRect.bottom) / 2;\r\n    const isRTL = this.direction === 'rtl';\r\n\r\n    const targetPane = pane.type === IgcDockManagerPaneType.tabGroupPane && pane.selectedIndex > -1\r\n      ? pane.panes[pane.selectedIndex]\r\n      : pane;\r\n\r\n    const acceptsInnerDock = targetPane.type === IgcDockManagerPaneType.contentPane && targetPane.acceptsInnerDock !== undefined && this.allowInnerDock\r\n      ? targetPane.acceptsInnerDock\r\n      : this.allowInnerDock;\r\n\r\n    const isOverSplitter = this.splitterRect\r\n      ? this.cursorLocation.x >= this.splitterRect.left\r\n        && this.cursorLocation.x <= this.splitterRect.right\r\n        && this.cursorLocation.y >= this.splitterRect.top\r\n        && this.cursorLocation.y <= this.splitterRect.bottom\r\n      : false;\r\n\r\n    // If outer proximity dock is enabled, check if there is splitter and if mouse is within splitter boundaries.\r\n    if (this.allowOuterProximityDock && this.splitterRect) {\r\n      if (this.cursorLocation.x >= this.splitterRect.left - this.proximityOuterDockThreshold\r\n        && this.cursorLocation.x <= this.splitterRect.left) {\r\n          return IgcDockingIndicatorPosition.outerLeft;\r\n      } else if (this.cursorLocation.x <= this.splitterRect.right + this.proximityOuterDockThreshold\r\n        && this.cursorLocation.x >= this.splitterRect.right) {\r\n          return IgcDockingIndicatorPosition.outerRight;\r\n      }\r\n    }\r\n\r\n    const allowOuterTopDock = this.allowOuterProximityDock && this.cursorLocation.y < targetPaneRect.top + this.proximityOuterDockThreshold;\r\n    const allowOuterBottomDock = this.allowOuterProximityDock && this.cursorLocation.y > targetPaneRect.bottom - this.proximityOuterDockThreshold;\r\n    const allowOuterLeftDock = this.allowOuterProximityDock && this.cursorLocation.x < targetPaneRect.left + this.proximityOuterDockThreshold;\r\n    const allowOuterRightDock = this.allowOuterProximityDock && this.cursorLocation.x > targetPaneRect.right - this.proximityOuterDockThreshold;\r\n\r\n    if (this.cursorLocation.y > targetPaneRect.bottom - this.proximityDockThreshold\r\n      && this.cursorLocation.x - targetPaneRect.left > targetPaneRect.bottom - this.cursorLocation.y\r\n      && targetPaneRect.right - this.cursorLocation.x > targetPaneRect.bottom - this.cursorLocation.y\r\n      && !isOverSplitter ) {\r\n        return allowOuterBottomDock ? IgcDockingIndicatorPosition.outerBottom : IgcDockingIndicatorPosition.bottom;\r\n    } else if (this.cursorLocation.y < targetPaneRect.top + this.proximityDockThreshold\r\n      && this.cursorLocation.x - targetPaneRect.left > this.cursorLocation.y - targetPaneRect.top\r\n      && targetPaneRect.right - this.cursorLocation.x > this.cursorLocation.y - targetPaneRect.top\r\n      && !isOverSplitter) {\r\n        return allowOuterTopDock ? IgcDockingIndicatorPosition.outerTop : IgcDockingIndicatorPosition.top;\r\n    } else if (acceptsInnerDock\r\n      && this.cursorLocation.x > centerX - this.proximityDockThreshold\r\n      && this.cursorLocation.x < centerX + this.proximityDockThreshold\r\n      && this.cursorLocation.y > centerY - this.proximityDockThreshold\r\n      && this.cursorLocation.y < centerY + this.proximityDockThreshold\r\n      && !isOverSplitter ) {\r\n        return IgcDockingIndicatorPosition.center;\r\n    } else if (!isRTL && this.cursorLocation.x < targetPaneRect.left + this.proximityDockThreshold\r\n      && this.cursorLocation.y - targetPaneRect.top > this.cursorLocation.x - targetPaneRect.left\r\n      && targetPaneRect.bottom - this.cursorLocation.y > this.cursorLocation.x - targetPaneRect.left) {\r\n        return allowOuterLeftDock ? IgcDockingIndicatorPosition.outerLeft : IgcDockingIndicatorPosition.left;\r\n    } else if (!isRTL && this.cursorLocation.x > targetPaneRect.right - this.proximityDockThreshold\r\n      && this.cursorLocation.y - targetPaneRect.top > targetPaneRect.right - this.cursorLocation.x\r\n      && targetPaneRect.bottom - this.cursorLocation.y > targetPaneRect.right - this.cursorLocation.x) {\r\n        return allowOuterRightDock ? IgcDockingIndicatorPosition.outerRight : IgcDockingIndicatorPosition.right;\r\n    } else if (isRTL && this.cursorLocation.x > targetPaneRect.right - this.proximityDockThreshold\r\n      && targetPaneRect.bottom - this.cursorLocation.y > this.cursorLocation.x - targetPaneRect.right\r\n      && this.cursorLocation.y - targetPaneRect.top > this.cursorLocation.x - targetPaneRect.right) {\r\n        return allowOuterRightDock ? IgcDockingIndicatorPosition.outerRight : IgcDockingIndicatorPosition.right;\r\n    } else if (isRTL && this.cursorLocation.x < targetPaneRect.left + this.proximityDockThreshold\r\n      && targetPaneRect.bottom - this.cursorLocation.y > targetPaneRect.left - this.cursorLocation.x\r\n      && this.cursorLocation.y - targetPaneRect.top > targetPaneRect.left - this.cursorLocation.x) {\r\n        return allowOuterLeftDock ? IgcDockingIndicatorPosition.outerLeft : IgcDockingIndicatorPosition.left;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  private handlePaneDragEnd(): boolean {\r\n    const docked = this.service.dragPaneEnd();\r\n    this.isDragging = false;\r\n\r\n    if (docked) {\r\n      const activePane = this.activePane;\r\n      this.shouldClearActivePane = false;\r\n      this.reason = ActionReason.drop;\r\n      this.focusElement();\r\n      if (activePane) {\r\n        this.scheduleAfterRender(() => {\r\n          this.setActivePane(activePane);\r\n        });\r\n      }\r\n\r\n      this.scheduleAfterRender(() => {\r\n        this.shouldClearActivePane = true;\r\n      });\r\n    }\r\n\r\n    if (this.activePane) {\r\n      this.setFocus(this.activePane);\r\n    }\r\n\r\n    return docked;\r\n  }\r\n\r\n  private handleTabHeaderDragStart(pane: IgcContentPane, event: CustomEvent<IgcDragStartEventArguments>) {\r\n    this.shouldMovePane = false;\r\n\r\n    const path = this.service.getPanePath(pane);\r\n    const rootParent = path[0] as IgcSplitPane;\r\n    if (rootParent !== this.layout.rootPane &&\r\n      path.some(p => p.type === IgcDockManagerPaneType.documentHost)) {\r\n      const childPanes = this.service.getChildContentPanes(rootParent);\r\n      if (childPanes.length === 1) {\r\n        // pane is a single document host tab in a floating pane\r\n        this.shouldMovePane = true;\r\n\r\n        return this.handlePaneDragStart(rootParent, event);\r\n      }\r\n    }\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.focusElement();\r\n    const dragStarted = this.service.dragTabStart(pane);\r\n    this.isDragging = true;\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n    });\r\n\r\n    if (!dragStarted) {\r\n      this.isDragging = false;\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleTabHeaderDragMove(pane: IgcContentPane, event: CustomEvent<IgcDragMoveEventArguments>) {\r\n    if (this.shouldMovePane) {\r\n      return this.handlePaneDragMove(event);\r\n    }\r\n\r\n    const header = event.target as HTMLIgcTabHeaderComponentElement;\r\n    const headerRect = header.getBoundingClientRect();\r\n    const tabs = header.closest('igc-tabs-component');\r\n    const tabsRect = tabs.getBoundingClientRect();\r\n    const tabHeaders = Array.from(tabs.querySelectorAll('igc-tab-header-component'));\r\n    const headerIndex = tabHeaders.indexOf(header);\r\n\r\n    const prevHeaderRect = headerIndex > 0 ? tabHeaders[headerIndex - 1].getBoundingClientRect() : null;\r\n    const nextHeaderRect = headerIndex < tabHeaders.length - 1 ? tabHeaders[headerIndex + 1].getBoundingClientRect() : null;\r\n    const lastVisibleHeaderRect = tabHeaders.filter(th => th.getBoundingClientRect().top === headerRect.top).slice(-1)[0].getBoundingClientRect();\r\n\r\n    const tabRectsInfo = {\r\n      headerRect,\r\n      prevHeaderRect,\r\n      nextHeaderRect,\r\n      lastVisibleHeaderRect,\r\n      tabsRect\r\n    };\r\n\r\n    this.handleDropPositionChange(event.detail.clientX, event.detail.clientY, event?.target);\r\n    const tabMoved = this.service.dragTabMove(pane, event.detail, tabRectsInfo);\r\n\r\n    if (event && !tabMoved) {\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleTabHeaderDragEnd(pane: IgcContentPane) {\r\n    const docked = this.handlePaneDragEnd();\r\n\r\n    if (!docked) {\r\n      this.activePane = pane;\r\n    }\r\n  }\r\n\r\n  private handleFloatingPaneResizeStart(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    const args = event.detail;\r\n\r\n    this.isDragging = true;\r\n\r\n    const resizeStarted = this.service.resizeFloatingPaneStart(pane, args.resizerLocation);\r\n    if (!resizeStarted) {\r\n      this.isDragging = false;\r\n      args.dragMoveArgs.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleFloatingPaneResizeMove(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    this.service.resizeFloatingPane(pane, event.detail);\r\n  }\r\n\r\n  private handleFloatingPaneResizeEnd(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    this.isDragging = false;\r\n    this.service.resizeFloatingPaneEnd(pane, event.detail.resizerLocation);\r\n  }\r\n\r\n  private handleDropPositionChange(clientX: number, clientY: number, target?: EventTarget) {\r\n    const elements = clientX && clientY ?\r\n      this.element.shadowRoot.elementsFromPoint(clientX, clientY) :\r\n      null;\r\n\r\n    let isOverSplitter = false;\r\n    this.splitterRect = null;\r\n\r\n    const splitter = elements ? elements.filter(e => e.tagName.toLowerCase() === 'igc-splitter-component') : [];\r\n\r\n    if (splitter.length > 0) {\r\n      const splitterIndex = elements.indexOf(splitter[0]);\r\n      const adjacentElement = elements[splitterIndex - 1];\r\n      isOverSplitter = adjacentElement &&\r\n        adjacentElement.tagName.toLowerCase() === 'igc-floating-pane-component' &&\r\n        (adjacentElement as any).floatingId === this.draggedPane?.id; // if not equal - splitter is below another element, not directly over\r\n    }\r\n\r\n    if (this.proximityDock) {\r\n      const docHost = elements ? elements.filter(e => e.tagName.toLowerCase() === 'igc-document-host-component') : [];\r\n\r\n      if (docHost.length > 0) {\r\n        const splitter = docHost[0].querySelector('igc-splitter-component');\r\n\r\n        if (splitter) {\r\n          const splitterRect = splitter.getBoundingClientRect();\r\n          this.splitterRect = splitterRect;\r\n        }\r\n\r\n        this.allowOuterProximityDock = true;\r\n      } else {\r\n        this.allowOuterProximityDock = false;\r\n      }\r\n    }\r\n\r\n    if (!elements || !elements.length || (isOverSplitter && this.splitterRect === null)) {\r\n      this.service.dockingIndicator = null;\r\n      this.dropTargetPaneInfo = null;\r\n      return;\r\n    }\r\n\r\n    const topElement = elements[0];\r\n    let indicatorTarget = null;\r\n    let dockingIndicatorElement: HTMLElement = topElement.closest('igc-root-docking-indicator-component');\r\n\r\n    if (dockingIndicatorElement) {\r\n      this.service.dockingIndicator = {\r\n        position: (dockingIndicatorElement as HTMLIgcRootDockingIndicatorComponentElement).position,\r\n        isRoot: true,\r\n        direction: this.direction\r\n      };\r\n    }\r\n\r\n    if (!dockingIndicatorElement) {\r\n      const joystickIcon = topElement.closest('igc-joystick-icon-component');\r\n\r\n      if (joystickIcon && !joystickIcon.empty) {\r\n        dockingIndicatorElement = joystickIcon;\r\n        this.service.dockingIndicator = {\r\n          position: joystickIcon.position,\r\n          isRoot: false,\r\n          direction: this.direction\r\n        };\r\n        const joystickIndicator = joystickIcon.closest('igc-joystick-indicator-component');\r\n        indicatorTarget = joystickIndicator.dropTargetPaneInfo;\r\n      }\r\n    }\r\n\r\n    if (dockingIndicatorElement &&\r\n      (this.service.dockingIndicator.isRoot || this.dropTargetPaneInfo === indicatorTarget)) {\r\n\r\n      this.service.dropTargetParentRect = this.getDropTargetParentRect();\r\n      return;\r\n    }\r\n\r\n    this.service.dockingIndicator = null;\r\n\r\n    if (target) {\r\n      const draggedHeader = target as HTMLElement;\r\n      const draggedFloatingPane = draggedHeader.closest('igc-floating-pane-component');\r\n      const topFloatingPane = elements.find(e => e.tagName.toLowerCase() === 'igc-floating-pane-component');\r\n\r\n      if (topFloatingPane === draggedFloatingPane) {\r\n        const index = elements.lastIndexOf(draggedFloatingPane);\r\n        elements.splice(0, index + 1);\r\n      }\r\n    }\r\n\r\n    let paneElement: HTMLElement;\r\n\r\n    for (const element of elements) {\r\n      const tagName = element.tagName.toLowerCase();\r\n\r\n      if (tagName === 'igc-content-pane-component' || tagName === 'igc-split-pane-component') {\r\n        if (paneElement) {\r\n          break;\r\n        }\r\n        paneElement = element as HTMLElement;\r\n        // Not sure why we dont break after finding split-pane first. This works with proximityDock so its temporarily here.\r\n        // When we are over splitter and proximityDock is true, break after finding the first suitable splitPane.\r\n        if (this.allowOuterProximityDock) {\r\n          break;\r\n        }\r\n\r\n      } else if (tagName === 'igc-tabs-component' || tagName === 'igc-document-host-component') {\r\n        paneElement = element as HTMLElement;\r\n        break;\r\n      } else if (tagName === 'igc-floating-pane-component') {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (paneElement) {\r\n      const dropPane = this.panesElementMap.getByValue(paneElement);\r\n\r\n      if ((!this.dropTargetPaneInfo || this.dropTargetPaneInfo.pane !== dropPane) && dropPane !== this.draggedPane) {\r\n        const docHost = this.service.getDocHostParent(dropPane);\r\n        const dropPaneRoot = this.service.getRootParent(dropPane);\r\n        const floatingPaneWithoutDocHost = this.layout.floatingPanes\r\n          ? this.layout.floatingPanes.indexOf(dropPaneRoot) !== -1 &&\r\n            !this.service.getChildDocHostRecursive(dropPaneRoot)\r\n          : false;\r\n\r\n        if (!this.documentOnlyDrag\r\n          || docHost\r\n          || floatingPaneWithoutDocHost\r\n          || dropPane.type === IgcDockManagerPaneType.documentHost) {\r\n          this.dropTargetPaneInfo = {\r\n            pane: dropPane,\r\n            targetRect: paneElement.getBoundingClientRect(),\r\n            docHost,\r\n            floatingPaneWithoutDocHost\r\n          };\r\n        } else {\r\n          this.dropTargetPaneInfo = null;\r\n        }\r\n      }\r\n    } else {\r\n      this.dropTargetPaneInfo = null;\r\n    }\r\n  }\r\n\r\n  private getDropTargetParentRect() {\r\n    const position = this.service.dockingIndicator.position;\r\n    let rect;\r\n    if (this.service.dockingIndicator.isRoot) {\r\n      rect = this.dockedPanesContainer.getBoundingClientRect();\r\n    } else {\r\n      if (Utils.isDockingIndicatorOuter(position as IgcDockingIndicatorPosition)) {\r\n        const targetDocHostParent = this.service.getParent(this.dropTargetPaneInfo.docHost) as IgcSplitPane;\r\n        const isIndicatorVertical = Utils.isDockingIndicatorVertical(position as IgcDockingIndicatorPosition);\r\n        const isSplitPaneVertical = Utils.isSplitPaneVertical(targetDocHostParent);\r\n        const isSameSplitPane = ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical));\r\n        const outerParent = isSameSplitPane ? targetDocHostParent : this.dropTargetPaneInfo.docHost.rootPane;\r\n        const outerParentRect = this.panesElementMap.has(outerParent) ? this.panesElementMap.get(outerParent).getBoundingClientRect() : null;\r\n        rect = outerParentRect;\r\n      } else {\r\n        const targetPaneParent = this.service.getParent(this.dropTargetPaneInfo.pane);\r\n        const targetPaneParentRect = this.panesElementMap.has(targetPaneParent) ? this.panesElementMap.get(targetPaneParent).getBoundingClientRect() : null;\r\n        rect = targetPaneParentRect;\r\n      }\r\n    }\r\n\r\n    return rect;\r\n  }\r\n\r\n  private handlePaneContentMouseDown(pane: IgcContentPane) {\r\n    requestAnimationFrame(() => {\r\n      const rootNode = this.getRootNode();\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        this.setFocus(pane);\r\n        this.contentPaneId = pane.contentId;\r\n      }\r\n    });\r\n  }\r\n\r\n  private handlePaneContentScroll(pane: IgcContentPane, event: CustomEvent<IgcPaneScrollEventArgs>) {\r\n    const contentElement = event.target as HTMLElement;\r\n    const args: IgcPaneScrollEventArgs = {pane, contentElement: contentElement}\r\n\r\n    this.paneScroll.emit(args);\r\n  }\r\n\r\n  private handlePaneHeaderMouseDown(pane: IgcContentPane) {\r\n    const rootNode = this.getRootNode();\r\n    requestAnimationFrame(() => {\r\n      this.contentPaneId = pane.contentId;\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        const paneElement = this.contentPanesElementMap.get(pane);\r\n        paneElement.focus();\r\n      } else {\r\n        this.setActivePane(pane);\r\n      }\r\n    });\r\n  }\r\n\r\n  private handleTabHeaderMouseDown(pane: IgcContentPane, event: MouseEvent) {\r\n    const target = event.currentTarget as HTMLElement;\r\n    const rootNode = this.getRootNode();\r\n\r\n    const pathHTMLElements = event.composedPath().filter(et => et instanceof HTMLElement).map(et => et as HTMLElement);\r\n    this._tabHeaderIconClicked = this.showHeaderIconOnHover &&\r\n      pathHTMLElements.filter(el => el.attributes.getNamedItem('part') && el.attributes.getNamedItem('part').value === 'tab-header-more-options floating').length > 0;\r\n\r\n    requestAnimationFrame(() => {\r\n      this.contentPaneId = pane.contentId;\r\n      this.reason = ActionReason.click;\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        target.focus();\r\n      } else {\r\n        this.setActivePane(pane);\r\n      }\r\n    });\r\n  }\r\n\r\n  private handleFloatingPaneMouseDown(pane: IgcSplitPane, event: MouseEvent) {\r\n    const pathHTMLElements = event.composedPath().filter(e => e instanceof HTMLElement).map(e => e as HTMLElement);\r\n    const isContextMenu = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'context-menu').length > 0;\r\n    if (isContextMenu) {\r\n      return;\r\n    }\r\n\r\n    this.service.bringFloatingPaneOnTop(pane);\r\n\r\n    const isTabs = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'tabs-container').length > 0;\r\n    if (isTabs) {\r\n      return;\r\n    }\r\n\r\n    const isFloatingPaneHeader = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'pane-header floating window').length > 0;\r\n    if (isFloatingPaneHeader) {\r\n      let targetPane: IgcContentPane;\r\n      let parent = this.service.getParent(this.activePane);\r\n      while (parent) {\r\n        if (parent === pane) {\r\n          targetPane = this.activePane;\r\n          break;\r\n        }\r\n\r\n        parent = this.service.getParent(parent);\r\n      }\r\n\r\n      requestAnimationFrame(() => {\r\n        if (!targetPane) {\r\n          targetPane = this.findFocusablePane(pane.panes);\r\n        }\r\n\r\n        if (!targetPane) {\r\n          targetPane = pane.panes[0] as IgcContentPane;\r\n        }\r\n        const nodeName = (event.target as HTMLElement).nodeName.toLowerCase();\r\n        if (nodeName === 'igc-dockmanager') {\r\n          this.setActivePane(targetPane);\r\n          this.setFocus(targetPane);\r\n        }\r\n\r\n        this.contentPaneId = targetPane.contentId;\r\n      });\r\n    }\r\n  }\r\n\r\n  private handleTabIconClick(p: IgcContentPane, position: IgcTabHeadersPosition, isFloating: boolean, event: CustomEvent<MouseEvent>) {\r\n    if (!this.showHeaderIconOnHover) {\r\n      this.focusElement();\r\n    }\r\n\r\n    if (!isFloating && position === IgcTabHeadersPosition.bottom) {\r\n      const elem = event.detail.target as HTMLElement;\r\n\r\n      const tabHeader = elem.closest('igc-tab-header-component');\r\n      const moreOptionsContainer: HTMLElement = tabHeader ?\r\n        tabHeader.shadowRoot.querySelector('div[part*=\"tab-header-more-options\"]') :\r\n        elem.closest('div[part*=\"tab-header-more-options\"]');\r\n\r\n      this.contextMenuMeta = { target: moreOptionsContainer, menuItems: this.service.createContextMenuItems(p), position: this.contextMenuPosition };\r\n    } else {\r\n      this.contextMenuMeta = null;\r\n      this.service.closeTabPane(p);\r\n    }\r\n  }\r\n\r\n  private handleContextMenuClosed() {\r\n    this.contextMenuMeta = null;\r\n  }\r\n\r\n  private handleTabSelectedIndexChanged(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    pane.selectedIndex = event.detail;\r\n  }\r\n\r\n  private handleHiddenTabSelected(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    this.activePane = this.service.getVisibleContentPanes(pane)[event.detail];\r\n  }\r\n\r\n  private handleSelectedTabOutOfView(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    const cp = this.service.getVisibleContentPanes(pane)[event.detail];\r\n    this.service.selectHiddenTab(pane, cp);\r\n  }\r\n\r\n  private handleTabIconKeyDown(iconName: string, p: IgcContentPane, ev: CustomEvent<KeyboardEvent>) {\r\n    if (iconName === 'arrow_drop_down' && ev.detail.key === 'ArrowDown') {\r\n      const targetElem = ev.detail.target as HTMLElement;\r\n      const tabHeader = targetElem.closest('igc-tab-header-component');\r\n      const moreOptionsContainer: HTMLElement = tabHeader ?\r\n        tabHeader.shadowRoot.querySelector('div[part=\"tab-header-more-options\"]') :\r\n        targetElem.closest('div[part=\"tab-header-more-options\"]');\r\n\r\n      this.contextMenuMeta = { target: moreOptionsContainer, menuItems: this.service.createContextMenuItems(p), position: this.contextMenuPosition };\r\n    }\r\n  }\r\n\r\n  private handleTabSelectedChanged(pane: IgcContentPane, ev: CustomEvent<boolean>) {\r\n    if (ev.detail && pane === this.paneToFocus) {\r\n      this.setFocus(pane);\r\n    }\r\n  }\r\n\r\n  private emitPaneHeaderConnected(pane: IgcContentPane, event: CustomEvent<IgcPaneHeaderElement>) {\r\n    this.paneHeaderConnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitPaneHeaderDisconnected(pane: IgcContentPane, event: CustomEvent<IgcPaneHeaderElement>) {\r\n    this.paneHeaderDisconnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitTabHeaderConnected(pane: IgcContentPane, event: CustomEvent<IgcTabHeaderElement>) {\r\n    this.tabHeaderConnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitTabHeaderDisconnected(pane: IgcContentPane, event: CustomEvent<IgcTabHeaderElement>) {\r\n    this.tabHeaderDisconnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private resolveAllowMaximize(pane: IgcDockManagerPane): boolean {\r\n    return this.service.resolveAllowMaximize(pane);\r\n  }\r\n\r\n  private removeHoveredPane() {\r\n    this.hoveredPane = null;\r\n  }\r\n\r\n  private togglePaneHeaderVisibility(pane: IgcContentPane, event: MouseEvent) {\r\n    const paneRect = this.contentPanesElementMap.get(pane).getBoundingClientRect();\r\n    const withinPane = event.clientY >= paneRect.top && event.clientY < paneRect.top + PANE_HEADER_HEIGHT;\r\n\r\n    if (withinPane) {\r\n      this.hoveredPane = pane;\r\n    } else {\r\n      this.removeHoveredPane();\r\n    }\r\n  }\r\n\r\n  private renderButtonsTemplates() {\r\n    return (\r\n      <template>\r\n        <slot name=\"paneHeaderCloseButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"tabHeaderCloseButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"closeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"moreTabsButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"maximizeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"minimizeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"pinButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"unpinButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"moreOptionsButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"splitterHandle\" onSlotchange={this.updateTemplates}></slot>\r\n      </template>\r\n      );\r\n  }\r\n\r\n  private renderContentPane(pane: IgcContentPane, isFloating: boolean, isFlyout: boolean) {\r\n    const parentPane = this.service.getParent(pane);\r\n\r\n    let forceDrag = false;\r\n    let isSingleFloatingContentPane = false;\r\n    let floatingPane: IgcSplitPane;\r\n\r\n    if (isFloating) {\r\n      floatingPane = this.service.getRootParent(pane);\r\n      const hasHeader = this.service.hasFloatingPaneHeader(floatingPane);\r\n\r\n      if (!hasHeader) {\r\n        isSingleFloatingContentPane = true;\r\n\r\n        if (this.service.forceDragPane === floatingPane) {\r\n          this.service.forceDragPane = null;\r\n          forceDrag = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    const maximized = this.maximizedPane === pane ||\r\n      (parentPane.type === IgcDockManagerPaneType.tabGroupPane && this.maximizedPane === parentPane) ||\r\n      isFloating && isSingleFloatingContentPane && floatingPane === this.maximizedPane;\r\n\r\n    return (\r\n      <igc-content-pane-component\r\n        key={pane.id}\r\n        contentId={pane.contentId}\r\n        size={pane.size}\r\n        isFlyout={isFlyout}\r\n        unpinnedSize={pane.unpinnedSize}\r\n        disabled={pane.disabled}\r\n        isSingleFloating={isSingleFloatingContentPane}\r\n        onMouseMove={this.togglePaneHeaderVisibility.bind(this, pane)}\r\n        onMouseLeave={this.removeHoveredPane.bind(this)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(pane, el);\r\n            this.contentPanesElementMap.set(pane, el);\r\n          }\r\n        }}\r\n        class={{\r\n          'maximized': this.maximizedPane === pane\r\n        }}\r\n        header={pane.header}\r\n        onFocusin={this.handleContentPaneFocus.bind(this, pane)}\r\n      >\r\n        <igc-pane-header-component\r\n          slot=\"header\"\r\n          pane={pane}\r\n          isActive={pane === this.activePane}\r\n          disabled={pane.disabled && !isSingleFloatingContentPane}\r\n          pinned={this.service.getActualIsPinned(pane)}\r\n          allowMaximize={this.resolveAllowMaximize(pane)}\r\n          maximized={maximized}\r\n          allowClose={this.service.getActualAllowClose(pane)}\r\n          allowPinning={pane.allowPinning !== false}\r\n          isFloating={isFloating}\r\n          forcedDrag={forceDrag}\r\n          resourceStrings={this.resourceStrings}\r\n          onPinToggle={this.handlePinToggle.bind(this, pane)}\r\n          onMaximize={this.handleMaximize.bind(this, pane)}\r\n          onDragMoved={this.handlePaneDragMove.bind(this)}\r\n          onDragStarted={this.handlePaneDragStart.bind(this, isSingleFloatingContentPane ? floatingPane : pane)}\r\n          onDragEnded={this.handlePaneDragEnd.bind(this)}\r\n          onClose={this.handlePaneClose.bind(this, pane)}\r\n          onElementConnected={this.emitPaneHeaderConnected.bind(this, pane)}\r\n          onElementDisconnected={this.emitPaneHeaderDisconnected.bind(this, pane)}\r\n          onMouseDown={this.handlePaneHeaderMouseDown.bind(this, pane)}\r\n          class={{\r\n            'hidden': this.showPaneHeaders === 'onHoverOnly' && this.hoveredPane !== pane,\r\n            'transitioned': this.showPaneHeaders === 'onHoverOnly' && this.hoveredPane === pane\r\n          }}\r\n        >\r\n          {(isFloating && pane.floatingHeaderId) ? <slot name={pane.floatingHeaderId}></slot> :\r\n            pane.headerId ? <slot name={pane.headerId}></slot> :\r\n              pane.header}\r\n        </igc-pane-header-component>\r\n        <div\r\n          class=\"content\"\r\n          onMouseDown={this.handlePaneContentMouseDown.bind(this, pane)}\r\n          onScroll={this.handlePaneContentScroll.bind(this, pane)}\r\n        >\r\n          <slot name={pane.contentId}></slot>\r\n        </div>\r\n      </igc-content-pane-component>\r\n    );\r\n  }\r\n\r\n  private renderSplitter(parentPane: IgcSplitPane, pane: IgcDockManagerPane) {\r\n    return (\r\n      <igc-splitter-component\r\n        splitPaneOrientation={parentPane.orientation}\r\n        onResizeStart={this.handleSplitterResizeStart.bind(this, pane)}\r\n        onResizeEnd={this.handleSplitterResizeEnd.bind(this, parentPane, pane)}\r\n        onFocusin={this.clearActivePane.bind(this)}\r\n      >\r\n      </igc-splitter-component >\r\n    );\r\n  }\r\n\r\n  private renderDocumentHost(docHost: IgcDocumentHost) {\r\n    return (\r\n      <igc-document-host-component\r\n        key={docHost.id}\r\n        size={docHost.size}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(docHost, el);\r\n          }\r\n        }}\r\n      >\r\n        {this.renderSplitPane(docHost.rootPane, false, true)}\r\n      </igc-document-host-component>\r\n    );\r\n  }\r\n\r\n  private renderTabGroup(pane: IgcTabGroupPane | IgcContentPane, isFloating: boolean, isInDocumentHost: boolean) {\r\n    let tabs = pane.type === IgcDockManagerPaneType.tabGroupPane ? pane.panes : [pane];\r\n    tabs = tabs.filter(t => this.service.isContentPaneVisible(t));\r\n    const selectedIndex = pane.type === IgcDockManagerPaneType.tabGroupPane && pane.selectedIndex ?\r\n      pane.selectedIndex : 0;\r\n    const position = isInDocumentHost ? IgcTabHeadersPosition.top : IgcTabHeadersPosition.bottom;\r\n    const isSingleTab = tabs.length === 1 && position === IgcTabHeadersPosition.bottom;\r\n    const allowEmpty = pane.type === IgcDockManagerPaneType.tabGroupPane ? pane.allowEmpty : false;\r\n    const allowMaximize = this.resolveAllowMaximize(pane);\r\n\r\n    let contentIds = [];\r\n    if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      pane.panes.forEach(element => {\r\n        contentIds.push(element.contentId);\r\n      });\r\n    } else {\r\n      contentIds.push(pane.contentId);\r\n    }\r\n\r\n    return (allowEmpty || tabs.length > 0) && (\r\n      <igc-tabs-component\r\n        key={pane.id}\r\n        contentIds={contentIds}\r\n        size={pane.size}\r\n        selectedIndex={selectedIndex}\r\n        hasHeaders={!isSingleTab}\r\n        maximized={this.maximizedPane === pane}\r\n        allowMaximize={position === IgcTabHeadersPosition.top && allowMaximize}\r\n        onMaximizeMinimizeFocus={this.clearActivePane.bind(this)}\r\n        onMaximize={this.handleMaximize.bind(this, pane)}\r\n        onSelectedIndexChanged={this.handleTabSelectedIndexChanged.bind(this, pane)}\r\n        onHiddenTabSelected={this.handleHiddenTabSelected.bind(this, pane)}\r\n        onSelectedTabOutOfView={this.handleSelectedTabOutOfView.bind(this, pane)}\r\n        onRendered={this.handleTabsRendered.bind(this, pane)}\r\n        tabHeadersPosition={position}\r\n        resourceStrings={this.resourceStrings}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(pane, el);\r\n          }\r\n        }}\r\n        class={{\r\n          'maximized': this.maximizedPane === pane,\r\n        }}\r\n      >\r\n        {isSingleTab ?\r\n          this.renderTabPanel(tabs[0], false, isFloating) :\r\n          tabs.map(p => {\r\n            return [\r\n              this.renderTabHeader(p, position, isFloating),\r\n              this.renderTabPanel(p, isInDocumentHost, isFloating)\r\n            ];\r\n          })}\r\n      </igc-tabs-component>\r\n    );\r\n  }\r\n\r\n  private renderTabPanel(pane: IgcContentPane, isInDocumentHost: boolean, isFloating: boolean) {\r\n    return (\r\n      <igc-tab-panel-component\r\n        key={pane.id}\r\n        disabled={pane.disabled}\r\n        onMouseDown={isInDocumentHost ? this.handlePaneContentMouseDown.bind(this, pane) : null}\r\n        onSelectedChanged={this.handleTabSelectedChanged.bind(this, pane)}\r\n        onScroll={isInDocumentHost ? this.handlePaneContentScroll.bind(this, pane) : null}\r\n      >\r\n        {isInDocumentHost ?\r\n          <slot name={pane.contentId}></slot> :\r\n          this.renderContentPane(pane, isFloating, false)}\r\n      </igc-tab-panel-component>);\r\n  }\r\n\r\n  private renderTabHeader(pane: IgcContentPane, position: IgcTabHeadersPosition, isFloating: boolean) {\r\n    let forceDrag = false;\r\n    const allowClose = this.service.getActualAllowClose(pane);\r\n    const allowPinning = pane.allowPinning !== false;\r\n    const iconName = isFloating ?\r\n      allowClose ? 'close' : null :\r\n      position === IgcTabHeadersPosition.bottom ?\r\n        allowClose || allowPinning ? 'arrow_drop_down' : null :\r\n        allowClose ? 'close' : null;\r\n\r\n    if (this.service.forceDragTabHeader === pane) {\r\n      this.service.forceDragTabHeader = null;\r\n      forceDrag = true;\r\n    }\r\n\r\n    return (\r\n      <igc-tab-header-component\r\n        key={pane.id}\r\n        slot=\"tabHeader\"\r\n        isActive={pane === this.activePane}\r\n        disabled={pane.disabled}\r\n        showHeaderIconOnHover={this.showHeaderIconOnHover}\r\n        header={pane.header}\r\n        resourceStrings={this.resourceStrings}\r\n        onDragStarted={this.handleTabHeaderDragStart.bind(this, pane)}\r\n        onDragMoved={this.handleTabHeaderDragMove.bind(this, pane)}\r\n        onDragEnded={this.handleTabHeaderDragEnd.bind(this, pane)}\r\n        onMouseDown={this.handleTabHeaderMouseDown.bind(this, pane)}\r\n        onIconKeyDown={this.handleTabIconKeyDown.bind(this, iconName, pane)}\r\n        position={position}\r\n        onIconClicked={this.handleTabIconClick.bind(this, pane, position, isFloating)}\r\n        iconName={iconName}\r\n        forcedDrag={forceDrag}\r\n        onElementConnected={this.emitTabHeaderConnected.bind(this, pane)}\r\n        onElementDisconnected={this.emitTabHeaderDisconnected.bind(this, pane)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.tabHeadersMap.set(pane, el);\r\n          }\r\n        }}\r\n        onFocusin={this.handleTabHeaderFocus.bind(this, pane)}\r\n      >\r\n        {\r\n          pane.tabHeaderId ?\r\n            <slot name={pane.tabHeaderId}></slot> :\r\n            <span part=\"header-title\" title={pane.header}>{pane.header}</span>\r\n        }\r\n      </igc-tab-header-component>);\r\n  }\r\n\r\n  private renderSplitPane(splitPane: IgcSplitPane, isFloating: boolean, isInDocumentHost: boolean) {\r\n    const panes = this.service.getSplitPaneVisibleChildren(splitPane);\r\n\r\n    return (splitPane.allowEmpty || panes.length > 0) && (\r\n      <igc-split-pane-component\r\n        key={splitPane.id}\r\n        orientation={splitPane.orientation}\r\n        size={splitPane.size}\r\n        onRendered={this.handleSplitPaneRendered.bind(this, panes)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(splitPane, el);\r\n          }\r\n        }}\r\n      >\r\n        {panes.map((p, i) => {\r\n          let paneComponent;\r\n\r\n          if (p.type === IgcDockManagerPaneType.splitPane) {\r\n            paneComponent = this.renderSplitPane(p, isFloating, isInDocumentHost);\r\n          } else if (p.type === IgcDockManagerPaneType.contentPane) {\r\n            paneComponent = isInDocumentHost ?\r\n              this.renderTabGroup(p, isFloating, true) :\r\n              this.renderContentPane(p, isFloating, false);\r\n          } else if (p.type === IgcDockManagerPaneType.documentHost) {\r\n            paneComponent = this.renderDocumentHost(p);\r\n          } else if (p.type === IgcDockManagerPaneType.tabGroupPane) {\r\n            paneComponent = this.renderTabGroup(p, isFloating, isInDocumentHost);\r\n          }\r\n\r\n          return i > 0 ?\r\n            [this.renderSplitter(splitPane, p), paneComponent] :\r\n            paneComponent;\r\n        })}\r\n      </igc-split-pane-component>\r\n    );\r\n  }\r\n\r\n  private renderUnpinnedTabArea(location: IgcUnpinnedLocation) {\r\n    const panes: IgcContentPane[] = [];\r\n    const isHorizontal = location === IgcUnpinnedLocation.top || location === IgcUnpinnedLocation.bottom;\r\n    const isLeft = location === IgcUnpinnedLocation.left;\r\n    const isRight = location === IgcUnpinnedLocation.right;\r\n    const isBottom = location === IgcUnpinnedLocation.bottom;\r\n\r\n    this.service.unpinnedLocationMap.forEach((l, p) => {\r\n      if (l === location && p.hidden !== true) {\r\n        panes.push(p);\r\n      }\r\n    });\r\n\r\n    const tabAreaClasses = {\r\n      'unpinned-tab-area': true,\r\n      'unpinned-tab-area--left': isLeft,\r\n      'unpinned-tab-area--right': isRight,\r\n      'unpinned-tab-area--bottom': isBottom,\r\n      'unpinned-tab-area--horizontal': isHorizontal,\r\n      'unpinned-tab-area--hidden': panes.length === 0\r\n    };\r\n\r\n    return (\r\n      <div\r\n        class={tabAreaClasses}\r\n        part={Utils.partNameMap(tabAreaClasses)}\r\n        role=\"tablist\"\r\n        aria-orientation={isHorizontal ? 'horizontal' : 'vertical'}\r\n      >\r\n        {panes.map(p => (\r\n          <igc-unpinned-pane-header-component\r\n            location={location}\r\n            isActive={p === this.activePane}\r\n            disabled={p.disabled}\r\n            onMouseDown={this.handleUnpinnedTabMouseDown.bind(this, p)}\r\n            onKeyDown={this.handleUnpinnedTabKeyDown.bind(this, p)}\r\n            onFocus={this.handleUnpinnedHeaderFocus.bind(this, p)}\r\n            ref={el => {\r\n              if (el) {\r\n                const slot = el.querySelector('slot');\r\n                if (slot && p.unpinnedHeaderId) {\r\n                  slot.name = p.unpinnedHeaderId;\r\n                }\r\n                this.unpinnedHeadersMap.set(p, el);\r\n              }\r\n            }}\r\n          >\r\n            {p.unpinnedHeaderId ? <slot name={p.unpinnedHeaderId} /> : p.header}\r\n          </igc-unpinned-pane-header-component>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderFlyoutPane() {\r\n    const location = this.service.unpinnedLocationMap.get(this.flyoutPane);\r\n    const flyoutClasses = {\r\n      'flyout-pane': true,\r\n      'flyout-pane--right': location === IgcUnpinnedLocation.right,\r\n      'flyout-pane--bottom': location === IgcUnpinnedLocation.bottom,\r\n      'flyout-pane--left': location === IgcUnpinnedLocation.left,\r\n    };\r\n\r\n    let splitPaneOrientation = IgcSplitPaneOrientation.vertical;\r\n\r\n    if (location === IgcUnpinnedLocation.left || location === IgcUnpinnedLocation.right) {\r\n      splitPaneOrientation = IgcSplitPaneOrientation.horizontal;\r\n    }\r\n\r\n    const maximized = this.maximizedPane === this.flyoutPane;\r\n\r\n    return this.flyoutPane && (\r\n      <div class={flyoutClasses} style={{ 'z-index': maximized ? '10002' : '2' }}>\r\n        {this.renderContentPane(this.flyoutPane, false, true)}\r\n        <igc-splitter-component\r\n          flyoutLocation={location}\r\n          splitPaneOrientation={splitPaneOrientation}\r\n          onResizeStart={this.handleSplitterResizeStart.bind(this, this.flyoutPane, )}\r\n          onResizeEnd={this.handleFlyoutSplitterResizeEnd.bind(this, this.flyoutPane, splitPaneOrientation)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderFloatingPanes() {\r\n    return (\r\n      <div class=\"floating-panes\" style={{ position: this.maximizedPane ? 'absolute' : 'fixed' }}>\r\n        {this.layout?.floatingPanes?.map(p => {\r\n          const panes = this.service.getSplitPaneVisibleChildren(p);\r\n\r\n          if (panes.length === 0) {\r\n            return null;\r\n          }\r\n\r\n          const hasHeader = this.service.hasFloatingPaneHeader(p);\r\n          let forceDrag = false;\r\n          if (p === this.service.forceDragPane && hasHeader) {\r\n            this.service.forceDragPane = null;\r\n            forceDrag = true;\r\n          }\r\n\r\n          const containsMaximizedPane = this.maximizedPane && this.service.getRootParent(this.maximizedPane) === p;\r\n\r\n          return (\r\n            <igc-floating-pane-component\r\n              key={p.id}\r\n              floatingId={p.id}\r\n              style={{ zIndex: this.floatingPaneZIndicesMap.get(p).toString() }}\r\n              floatingLocation={p.floatingLocation ? p.floatingLocation : { x: 0, y: 0 }}\r\n              floatingWidth={p.floatingWidth ? p.floatingWidth : IGC_DEFAULT_PANE_SIZE}\r\n              floatingHeight={p.floatingHeight ? p.floatingHeight : IGC_DEFAULT_PANE_SIZE}\r\n              hasHeader={hasHeader}\r\n              onWndResizeStart={this.handleFloatingPaneResizeStart.bind(this, p)}\r\n              onWndResizeMove={this.handleFloatingPaneResizeMove.bind(this, p)}\r\n              onWndResizeEnd={this.handleFloatingPaneResizeEnd.bind(this, p)}\r\n              onMouseDown={this.handleFloatingPaneMouseDown.bind(this, p)}\r\n              class={{\r\n                'maximized': this.maximizedPane === p\r\n              }}\r\n              maximized={this.maximizedPane === p || containsMaximizedPane}\r\n              allowResize={p.floatingResizable ?? this.allowFloatingPanesResize}\r\n            >\r\n              {hasHeader ?\r\n                <igc-pane-header-component\r\n                  slot=\"header\"\r\n                  isFloating\r\n                  isFloatingPaneHeader\r\n                  forcedDrag={forceDrag}\r\n                  allowMaximize={this.resolveAllowMaximize(p)}\r\n                  maximized={this.maximizedPane === p}\r\n                  resourceStrings={this.resourceStrings}\r\n                  onDragStarted={this.handlePaneDragStart.bind(this, p)}\r\n                  onDragMoved={this.handlePaneDragMove.bind(this)}\r\n                  onDragEnded={this.handlePaneDragEnd.bind(this)}\r\n                  onClose={this.handleFloatingPaneClose.bind(this, p)}\r\n                  onMaximize={this.handleMaximize.bind(this, p)}\r\n                  onFocusin={(this.clearActivePane.bind(this))}\r\n                >\r\n                </igc-pane-header-component> : null\r\n              }\r\n              {this.renderSplitPane(p, true, false)}\r\n            </igc-floating-pane-component>\r\n          );\r\n        })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderRootDockingIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-root-docking-indicator-component\r\n        position={position}\r\n      >\r\n      </igc-root-docking-indicator-component>\r\n    );\r\n  }\r\n\r\n  private renderDockingIndicators() {\r\n    const startPosition = this.direction !== 'rtl' ? IgcDockingIndicatorPosition.left : IgcDockingIndicatorPosition.right;\r\n    const endPosition = this.direction !== 'rtl' ? IgcDockingIndicatorPosition.right : IgcDockingIndicatorPosition.left;\r\n\r\n    return (\r\n      <div\r\n        class=\"docking-indicators-container\"\r\n        style={{\r\n          display: this.showDockingIndicators ? 'flex' : 'none'\r\n        }}\r\n      >\r\n        {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(IgcDockingIndicatorPosition.top)}\r\n        <div\r\n          style={{\r\n            flexGrow: '1',\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between'\r\n          }}\r\n        >\r\n          {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(startPosition)}\r\n          {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(endPosition)}\r\n        </div>\r\n        {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(IgcDockingIndicatorPosition.bottom)}\r\n\r\n        {this.dropTargetPaneInfo && !this.proximityDock &&\r\n          <igc-joystick-indicator-component\r\n            dropTargetPaneInfo={this.dropTargetPaneInfo}\r\n            documentOnlyDrag={this.documentOnlyDrag}\r\n            allowCenterDock={this.allowInnerDock}\r\n          />}\r\n      </div>);\r\n  }\r\n\r\n  private renderContextMenu() {\r\n    return this.contextMenuMeta && (\r\n      <igc-context-menu-component\r\n        onMenuClosed={this.handleContextMenuClosed.bind(this)}\r\n        orientation={IgcContextMenuOrientation.bottom}\r\n        items={this.contextMenuMeta.menuItems}\r\n        target={this.contextMenuMeta.target}\r\n        position={this.contextMenuMeta.position}\r\n      >\r\n      </igc-context-menu-component>);\r\n  }\r\n\r\n  private renderDropShadow() {\r\n    return this.dropShadowRect && (\r\n      <div\r\n        part=\"docking-preview\"\r\n        class=\"drop-shadow\"\r\n        style={{\r\n          top: `${this.dropShadowRect?.y}px`,\r\n          left: `${this.dropShadowRect?.x}px`,\r\n          width: `${this.dropShadowRect?.width}px`,\r\n          height: `${this.dropShadowRect?.height}px`,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  handlePaneNavigatorClosed(ev: CustomEvent<IgcContentPane>) {\r\n    this.service.normalizeMaximizedPane(ev.detail);\r\n\r\n    const parent = this.service.getRootParent(ev.detail);\r\n    const isParentFloating = this.service.isFloatingPane(parent);\r\n\r\n    if (isParentFloating) {\r\n      this.service.bringFloatingPaneOnTop(parent);\r\n    }\r\n\r\n    if (ev.detail && this.activePane !== ev.detail) {\r\n      this.activePane = ev.detail;\r\n    }\r\n    this.navigationPaneMeta = null;\r\n  }\r\n\r\n  renderPaneNavigator() {\r\n    return this.navigationPaneMeta &&\r\n      <igc-pane-navigator-component\r\n        onClosed={this.handlePaneNavigatorClosed.bind(this)}\r\n        activePanes={this.navigationPaneMeta.activePanes}\r\n        activeDocuments={this.navigationPaneMeta.activeDocuments}\r\n        selectedIndex={this.navigationPaneMeta.initialIndex}\r\n        previousActivePaneIndex={this.navigationPaneMeta.previousActivePaneIndex}\r\n        resourceStrings={this.resourceStrings}\r\n      >\r\n      </igc-pane-navigator-component>;\r\n  }\r\n\r\n  render() {\r\n    this.panesElementMap = new TwoWayMap<IgcDockManagerPane, HTMLElement>();\r\n    this.tabHeadersMap = new Map<IgcContentPane, HTMLElement>();\r\n    this.unpinnedHeadersMap = new Map<IgcContentPane, HTMLElement>();\r\n    this.contentPanesElementMap = new Map<IgcContentPane, HTMLElement>();\r\n\r\n    return (\r\n      <Host\r\n        tabindex=\"0\"\r\n        role=\"group\"\r\n      >\r\n        {this.renderButtonsTemplates()}\r\n        {this.renderUnpinnedTabArea(IgcUnpinnedLocation.left)}\r\n        <div class=\"pane-container--vertical\" style={{ position: this.maximizedPane ? 'absolute' : 'relative' }}>\r\n          {this.renderUnpinnedTabArea(IgcUnpinnedLocation.top)}\r\n          <div\r\n            ref={el => this.dockedPanesContainer = el}\r\n            class=\"pane-container--horizontal\"\r\n            style={{ position: this.maximizedPane ? 'absolute' : 'relative' }}\r\n          >\r\n            {this.layout?.rootPane && this.renderSplitPane(this.layout.rootPane, false, false)}\r\n            {this.renderFlyoutPane()}\r\n            {this.renderDockingIndicators()}\r\n          </div>\r\n          {this.renderUnpinnedTabArea(IgcUnpinnedLocation.bottom)}\r\n        </div>\r\n        {this.renderUnpinnedTabArea(IgcUnpinnedLocation.right)}\r\n        {this.renderFloatingPanes()}\r\n        {this.renderContextMenu()}\r\n        {this.renderPaneNavigator()}\r\n        <igc-trial-watermark text=\"Trial version of Ignite UI\" style={{ 'z-index': '10005' }}></igc-trial-watermark>\r\n        {this.renderDropShadow()}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  min-width: 0px;\r\n  min-height: 0px;\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IGC_DEFAULT_PANE_SIZE } from '../dockmanager.interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-document-host-component',\r\n  styleUrl: 'document-host-component.css',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcDocumentHostComponent {\r\n  @Prop() size: number;\r\n\r\n  render() {\r\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\r\n\r\n    return (\r\n      <Host\r\n        role=\"group\"\r\n        style={{\r\n          flex: `${size} 1 ${size}px`\r\n        }}\r\n      >\r\n      </Host>\r\n    );\r\n  }\r\n\r\n}\r\n",":host {\r\n  --min-pane-size: 30px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: visible;\r\n  min-width: var(--min-pane-size);\r\n  min-height: var(--min-pane-size);\r\n  box-sizing: border-box;\r\n  color: $dock-text;\r\n  background: $dock-background;\r\n  pointer-events: all;\r\n  border: 1px solid $floating-pane-border-color;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.24);\r\n  z-index: 0;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Fragment, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IgcDragEventArguments, IgcDragMoveEventArguments, IgcDragResizeEventArguments, IgcDragStartEventArguments } from '../../drag-drop/drag.service';\r\nimport { IGC_DEFAULT_PANE_SIZE } from '../dockmanager.interfaces';\r\nimport { IgcDockManagerPoint, IgcResizerLocation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-floating-pane-component',\r\n  styleUrl: 'floating-pane-component.scss',\r\n  shadow: true\r\n})\r\nexport class IgcFloatingPaneComponent {\r\n  @Prop() allowResize = true;\r\n  @Prop() floatingLocation: IgcDockManagerPoint;\r\n  @Prop() floatingWidth: number;\r\n  @Prop() floatingHeight: number;\r\n  @Prop() hasHeader: boolean;\r\n  @Prop() maximized: boolean;\r\n  @Prop() floatingMinHeight = IGC_DEFAULT_PANE_SIZE;\r\n  @Prop() floatingMinWidth = IGC_DEFAULT_PANE_SIZE;\r\n  @Prop() floatingId: string;\r\n\r\n  @Event() wndResizeStart: EventEmitter<IgcDragResizeEventArguments>;\r\n  @Event() wndResizeMove: EventEmitter<IgcDragResizeEventArguments>;\r\n  @Event() wndResizeEnd: EventEmitter<IgcDragResizeEventArguments>;\r\n  @Element() elem: HTMLElement;\r\n\r\n  private handleResizerMove(event: CustomEvent<IgcDragMoveEventArguments>) {\r\n    const el = event.target as HTMLIgcResizerComponentElement;\r\n    this.wndResizeMove.emit({\r\n      dragMoveArgs: event.detail,\r\n      resizerLocation: el.orientation\r\n    });\r\n\r\n  }\r\n  private handleResizeStart(event: CustomEvent<IgcDragStartEventArguments>) {\r\n    const el = event.target as HTMLIgcResizerComponentElement;\r\n    const args = {\r\n      dragMoveArgs: { ...event.detail, offsetX: 0, offsetY: 0 },\r\n      resizerLocation: el.orientation\r\n    };\r\n    this.wndResizeStart.emit(args);\r\n\r\n    if (args.dragMoveArgs.cancel) {\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n  private handleResizeEnd(event: CustomEvent<IgcDragEventArguments>) {\r\n    const el = event.target as HTMLIgcResizerComponentElement;\r\n    this.wndResizeEnd.emit({\r\n      dragMoveArgs: event.detail,\r\n      resizerLocation: el.orientation\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const styles = {\r\n      position: 'absolute',\r\n      left: this.floatingLocation.x + 'px',\r\n      top: this.floatingLocation.y + 'px',\r\n      minWidth: this.floatingMinWidth + 'px',\r\n      minHeight: this.floatingMinHeight + 'px',\r\n      width: this.floatingWidth + 'px',\r\n      height: this.floatingHeight + 'px'\r\n    };\r\n\r\n    return (\r\n      <Host\r\n        style={this.maximized ? {} : styles}\r\n        role=\"dialog\"\r\n        aria-label=\"dialog\"\r\n        part=\"floating-window\"\r\n      >\r\n        {this.allowResize &&\r\n        <Fragment>\r\n          <igc-resizer-component orientation={IgcResizerLocation.left} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.top} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.right} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.bottom} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n        </Fragment>}\r\n        <slot name=\"header\">\r\n        </slot>\r\n          <slot></slot>\r\n        {this.allowResize &&\r\n        <Fragment>\r\n          <igc-resizer-component orientation={IgcResizerLocation.topRight} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.topLeft} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.bottomRight} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.bottomLeft} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n        </Fragment>}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","/**\r\n * @hidden\r\n */\r\nexport const icons: any = {\r\n  close:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n    </svg>`,\r\n  pin:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z\"/>\r\n    </svg>`,\r\n  unpin:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path fill=\"none\" d=\"M0 0h24v25H0V0z\"/>\r\n      <path d=\"M11.84 14.08L6.7 19.22H5.28V17.8l5.14-5.14L2 4.26 3.29 3l18 18L20 22.21zm4-.49l-5-5h.73l3.55-3.54v-2.8l7.07 7.07h-2.77l-3.54 3.54z\" />\r\n    </svg>`,\r\n  first_page:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"/>\r\n      <path fill=\"none\" d=\"M24 24H0V0h24v24z\"/>\r\n    </svg>`,\r\n  chevron_left:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n    </svg>`,\r\n  flip:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/>\r\n    </svg>`,\r\n  crop_square:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z\"/>\r\n    </svg>\r\n    `,\r\n  arrow_drop_down:\r\n    `<svg class=\"icon icon-arrow_drop_down\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M7 10l5 5 5-5z\"></path>\r\n    </svg>`,\r\n  maximize:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n        <path d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z\"/>\r\n    </svg>`,\r\n  minimize:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\r\n      <path d=\"M6 19h12v2H6z\"/>\r\n    </svg>`,\r\n  more:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"/>\r\n    </svg>`\r\n};\r\n",":host {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 17px;\r\n  height: 17px;\r\n  fill: currentColor;\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { icons } from './icons';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-icon-component',\r\n  styleUrl: 'icon-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcIconComponent {\r\n\r\n  @Prop() name: string;\r\n\r\n  render() {\r\n    return (\r\n      <Host innerHTML={icons[this.name]}>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  width: 30px;\r\n  height: 30px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: $joystick-icon-color;\r\n  background: $joystick-background;\r\n  // TODO try fixing the animation to not apply initially\r\n  // transition: color .25s ease-out, background .25s ease-out;\r\n  border: 1px solid $joystick-border-color;\r\n\r\n  &.inner-top {\r\n    border-bottom: none;\r\n  }\r\n\r\n  &.inner-start {\r\n    border-right: none;\r\n  }\r\n\r\n  &.inner-end {\r\n    border-left: none;\r\n  }\r\n\r\n  &.inner-bottom {\r\n    border-top: none;\r\n  }\r\n\r\n  &.inner-center {\r\n    border: 1px solid $joystick-background;\r\n  }\r\n\r\n  &:hover {\r\n    background: $joystick-background-active;\r\n    color: $joystick-icon-color-active;\r\n  }\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IgcDockingIndicatorPosition } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-joystick-icon-component',\r\n  styleUrl: 'joystick-icon-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcJoystickIconComponent {\r\n  @Prop() isDocHost: boolean;\r\n  @Prop() position: IgcDockingIndicatorPosition;\r\n  @Prop() direction: string;\r\n  @Prop() empty: boolean;\r\n\r\n  private resolveIconDivClass(): any {\r\n    let positionClass: string;\r\n\r\n    switch (this.position) {\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n        positionClass = 'outer-top';\r\n        break;\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        positionClass = 'outer-bottom';\r\n        break;\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        positionClass = 'outer-start';\r\n        break;\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n        positionClass = 'outer-end';\r\n        break;\r\n      case IgcDockingIndicatorPosition.top:\r\n        positionClass = 'inner-top';\r\n        break;\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        positionClass = 'inner-bottom';\r\n        break;\r\n      case IgcDockingIndicatorPosition.left:\r\n        positionClass = 'inner-start';\r\n        break;\r\n      case IgcDockingIndicatorPosition.right:\r\n        positionClass = 'inner-end';\r\n        break;\r\n      case IgcDockingIndicatorPosition.center:\r\n        positionClass = 'inner-center';\r\n        break;\r\n    }\r\n\r\n    const classes: any = {};\r\n    if (positionClass) {\r\n      classes[positionClass] = true;\r\n    }\r\n\r\n    return classes;\r\n  }\r\n\r\n  private resolveMargin(): string {\r\n    switch (this.position) {\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n        return '0px 0px 10px 0px';\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n        return '0px 0px 0px 10px';\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        return '0px 10px 0px 0px';\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        return '10px 0px 0px 0px';\r\n      default:\r\n        return '0px';\r\n    }\r\n  }\r\n\r\n  private resolveGridRow(): string {\r\n    switch (this.position) {\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n        return '1';\r\n      case IgcDockingIndicatorPosition.top:\r\n        return this.isDocHost ? '2' : '1';\r\n      case IgcDockingIndicatorPosition.center:\r\n        return this.isDocHost ? '3' : '2';\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        return '3';\r\n      case IgcDockingIndicatorPosition.right:\r\n      case IgcDockingIndicatorPosition.left:\r\n        return this.isDocHost ? '3' : '2';\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        return '5';\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        return this.isDocHost ? '4' : '3';\r\n    }\r\n  }\r\n\r\n  private resolveGridColumn(): string {\r\n    switch (this.position) {\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        return this.direction !== 'rtl' ? '1' : '5';\r\n      case IgcDockingIndicatorPosition.left:\r\n        if (this.direction !== 'rtl') {\r\n          return this.isDocHost ? '2' : '1';\r\n        } else {\r\n          return this.isDocHost ? '4' : '3';\r\n        }\r\n      case IgcDockingIndicatorPosition.center:\r\n        return this.isDocHost ? '3' : '2';\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        return '3';\r\n      case IgcDockingIndicatorPosition.top:\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        return this.isDocHost ? '3' : '2';\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n        return this.direction !== 'rtl' ? '5' : '1';\r\n      case IgcDockingIndicatorPosition.right:\r\n        if (this.direction !== 'rtl') {\r\n          return this.isDocHost ? '4' : '3';\r\n        } else {\r\n          return this.isDocHost ? '2' : '1';\r\n        }\r\n    }\r\n  }\r\n\r\n  private renderIcon() {\r\n    const position = this.position;\r\n    if (position === IgcDockingIndicatorPosition.outerLeft ||\r\n      (position === IgcDockingIndicatorPosition.left && !this.isDocHost)) {\r\n      return <igc-icon-component name=\"chevron_left\"/>;\r\n    } else if (position === IgcDockingIndicatorPosition.left) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"flip\"\r\n          style={{ transform: 'rotate(180deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.outerTop ||\r\n      (position === IgcDockingIndicatorPosition.top && !this.isDocHost)) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"chevron_left\"\r\n          style={{ transform: 'rotate(90deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.top) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"flip\"\r\n          style={{ transform: 'rotate(270deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.center) {\r\n      return <igc-icon-component name=\"crop_square\"/>;\r\n    } else if (position === IgcDockingIndicatorPosition.outerRight ||\r\n      (position === IgcDockingIndicatorPosition.right && !this.isDocHost)) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"chevron_left\"\r\n          style={{ transform: 'rotate(180deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.right) {\r\n      return <igc-icon-component name=\"flip\"/>;\r\n    } else if (position === IgcDockingIndicatorPosition.outerBottom ||\r\n      (position === IgcDockingIndicatorPosition.bottom && !this.isDocHost)) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"chevron_left\"\r\n          style={{ transform: 'rotate(270deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.bottom) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"flip\"\r\n          style={{ transform: 'rotate(90deg)' }}\r\n        />);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        part=\"docking-indicator\"\r\n        class={this.resolveIconDivClass()}\r\n        style={{\r\n          gridRow: this.resolveGridRow(),\r\n          gridColumn: this.resolveGridColumn(),\r\n          margin: this.resolveMargin()\r\n        }}\r\n      >\r\n        {!this.empty && this.renderIcon()}\r\n      </Host>);\r\n  }\r\n}\r\n",":host {\r\n  position: fixed;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.indicators-container {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, auto);\r\n  grid-template-rows: repeat(3, auto);\r\n  box-sizing: border-box;\r\n  pointer-events: all;\r\n\r\n  &--doc-host {\r\n    grid-template-columns: repeat(5, auto);\r\n    grid-template-rows: repeat(5, auto);\r\n  }\r\n}\r\n","import { Component, Element, Host, Prop, h } from '@stencil/core';\r\nimport { Utils } from '../../../utils/utils';\r\n\r\nimport { IgcDropTargetPaneInfo } from '../dockmanager.interfaces';\r\nimport { IgcDockManagerPaneType, IgcDockingIndicatorPosition } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-joystick-indicator-component',\r\n  styleUrl: 'joystick-indicator-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcJoystickIndicatorComponent {\r\n  private isDocHost: boolean;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @Prop() dropTargetPaneInfo: IgcDropTargetPaneInfo;\r\n\r\n  @Prop() documentOnlyDrag: boolean;\r\n\r\n  @Prop() allowCenterDock: boolean;\r\n\r\n  private isEmptyCenter(position: IgcDockingIndicatorPosition) {\r\n    return this.documentOnlyDrag\r\n      && position === IgcDockingIndicatorPosition.center\r\n      && this.dropTargetPaneInfo.floatingPaneWithoutDocHost;\r\n  }\r\n\r\n  private isEmptyEdge(position: IgcDockingIndicatorPosition) {\r\n    return this.documentOnlyDrag\r\n      && position !== IgcDockingIndicatorPosition.center\r\n      && this.dropTargetPaneInfo.pane.type === IgcDockManagerPaneType.documentHost;\r\n  }\r\n\r\n  private closestElement(selector: string, el: any): HTMLElement {\r\n    return (\r\n      (el && el.closest(selector)) ||\r\n        this.closestElement(selector, el.getRootNode().host)\r\n    );\r\n  }\r\n \r\n  private shouldAllowCenterDock() {\r\n    let targetPane = this.dropTargetPaneInfo.pane;\r\n    targetPane = targetPane.type === IgcDockManagerPaneType.tabGroupPane && targetPane.selectedIndex > -1 ? targetPane.panes[targetPane.selectedIndex] : targetPane;\r\n    return targetPane.type === IgcDockManagerPaneType.contentPane && targetPane.acceptsInnerDock !== undefined && this.allowCenterDock\r\n            ? targetPane.acceptsInnerDock\r\n            : this.allowCenterDock;\r\n  }\r\n\r\n\r\n  private renderBlankIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-joystick-icon-component\r\n        isDocHost={this.isDocHost}\r\n        position={position}\r\n        direction={Utils.getDirection(this.closestElement('igc-dockmanager', this.element))}\r\n        empty\r\n      />);\r\n  }\r\n\r\n  private renderIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-joystick-icon-component\r\n        isDocHost={this.isDocHost}\r\n        position={position}\r\n        direction={Utils.getDirection(this.closestElement('igc-dockmanager', this.element))}\r\n        empty={this.isEmptyCenter(position) || this.isEmptyEdge(position)}\r\n      />);\r\n  }\r\n\r\n  render() {\r\n    this.isDocHost = !!this.dropTargetPaneInfo.docHost;\r\n\r\n    return (\r\n      <Host\r\n        style={{\r\n          top: `${this.dropTargetPaneInfo.targetRect.y}px`,\r\n          left: `${this.dropTargetPaneInfo.targetRect.x}px`,\r\n          width: `${this.dropTargetPaneInfo.targetRect.width}px`,\r\n          height: `${this.dropTargetPaneInfo.targetRect.height}px`,\r\n        }}\r\n      >\r\n        <div\r\n          class={{\r\n            'indicators-container': true,\r\n            'indicators-container--doc-host': this.isDocHost\r\n          }}\r\n        >\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerLeft)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.left)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerTop)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.top)}\r\n\r\n          {!this.shouldAllowCenterDock() && this.renderBlankIndicator(IgcDockingIndicatorPosition.center)}\r\n\r\n          {this.shouldAllowCenterDock() && this.renderIndicator(IgcDockingIndicatorPosition.center)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.right)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerRight)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.bottom)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerBottom)}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import { IgcResizerLocation } from '../dockmanager/dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDragStartEventArguments {\r\n  cancel?: boolean;\r\n  clientX: number;\r\n  clientY: number;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDragEventArguments {\r\n  offsetX: number;\r\n  offsetY: number;\r\n  clientX: number;\r\n  clientY: number;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDragResizeEventArguments {\r\n  dragMoveArgs: IgcDragMoveEventArguments;\r\n  resizerLocation: IgcResizerLocation;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDragMoveEventArguments extends IgcDragEventArguments {\r\n  totalOffsetX?: number;\r\n  totalOffsetY?: number;\r\n  cancel?: boolean;\r\n}\r\n\r\nexport const IGNORE_DRAG = 'data-ignore-drag';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class IgcDragService {\r\n  private startX: number;\r\n  private startY: number;\r\n  private lastX: number;\r\n  private lastY: number;\r\n  private currentX: number;\r\n  private currentY: number;\r\n  private dragStarted: boolean;\r\n  private forcedDrag: boolean;\r\n  private _capturedElement: HTMLElement;\r\n\r\n  private get captureTarget(): HTMLElement {\r\n    return this._capturedElement || this.element;\r\n  }\r\n  private set captureTarget(val: HTMLElement) {\r\n    this._capturedElement = val;\r\n  }\r\n\r\n  dragTolerance = 5;\r\n  dragEdgeTolerance = 0;\r\n  dragStart: (eventArgs: IgcDragStartEventArguments) => void;\r\n  dragEnd: (eventArgs: IgcDragEventArguments) => void;\r\n  dragMove: (eventArgs: IgcDragMoveEventArguments) => void;\r\n\r\n  constructor(private element: HTMLElement) {\r\n    this.element.addEventListener('pointerdown', this.handlePointerDown, false);\r\n  }\r\n\r\n  private triggerDragStart() {\r\n    if (this.dragStart) {\r\n      const args: IgcDragStartEventArguments = {\r\n        clientX: this.startX,\r\n        clientY: this.startY\r\n      };\r\n\r\n      this.dragStart(args);\r\n\r\n      if (args.cancel) {\r\n        this.unsubscribeDragEvents();\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.dragStarted = true;\r\n  }\r\n\r\n  private subscribeDragEvents() {\r\n    this.dragStarted = false;\r\n    document.addEventListener('pointermove', this.handlePointerMove, false);\r\n    document.addEventListener('pointerup', this.handlePointerUp, false);\r\n    document.addEventListener('wheel', this.handleWheel, { passive: false });\r\n  }\r\n\r\n  private unsubscribeDragEvents() {\r\n    document.removeEventListener('pointermove', this.handlePointerMove);\r\n    document.removeEventListener('pointerup', this.handlePointerUp);\r\n    document.removeEventListener('wheel', this.handleWheel);\r\n  }\r\n\r\n  private handleWheel = (event: WheelEvent) => {\r\n    event.preventDefault();\r\n  }\r\n\r\n  private handlePointerDown = (event: PointerEvent) => {\r\n    let targets = event.composedPath();\r\n    targets = targets.slice(0, targets.indexOf(event.currentTarget));\r\n    for (const target of targets) {\r\n      if (target instanceof Element\r\n        && target.hasAttribute(IGNORE_DRAG)) {\r\n        return;\r\n      }\r\n    }\r\n    // TODO Not sure if we need this\r\n    // this.element.focus();\r\n    // event.preventDefault();\r\n    this.startX = event.clientX;\r\n    this.startY = event.clientY;\r\n    this.lastX = this.startX;\r\n    this.lastY = this.startY;\r\n\r\n    this.captureTarget = event.target as HTMLElement;\r\n    this.captureTarget.setPointerCapture(event.pointerId);\r\n    this.subscribeDragEvents();\r\n  }\r\n\r\n  private handlePointerMove = (event: PointerEvent) => {\r\n    event.preventDefault();\r\n\r\n    const maxHeight = document.documentElement.clientHeight;\r\n    const maxWidth = document.documentElement.clientWidth;\r\n\r\n    if (event.clientX < this.dragEdgeTolerance) {\r\n      this.currentX = this.dragEdgeTolerance;\r\n    } else if (event.clientX > maxWidth - this.dragEdgeTolerance) {\r\n      this.currentX = maxWidth - this.dragEdgeTolerance;\r\n    } else {\r\n      this.currentX = event.clientX;\r\n    }\r\n\r\n    if (event.clientY < this.dragEdgeTolerance) {\r\n      this.currentY = this.dragEdgeTolerance;\r\n    } else if (event.clientY > maxHeight - this.dragEdgeTolerance) {\r\n      this.currentY = maxHeight - this.dragEdgeTolerance;\r\n    } else {\r\n      this.currentY = event.clientY;\r\n    }\r\n\r\n    if (!this.dragStarted) {\r\n      if (this.forcedDrag) {\r\n        this.forcedDrag = false;\r\n        this.startX = this.currentX;\r\n        this.startY = this.currentY;\r\n        this.lastX = this.startX;\r\n        this.lastY = this.startY;\r\n        this.captureTarget.setPointerCapture(event.pointerId);\r\n        this.triggerDragStart();\r\n      } else {\r\n        const offsetX = this.currentX - this.lastX;\r\n        const offsetY = this.currentY - this.lastY;\r\n\r\n        if (Math.abs(offsetX) > this.dragTolerance || Math.abs(offsetY) > this.dragTolerance) {\r\n          this.triggerDragStart();\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!this.dragStarted) {\r\n      return;\r\n    }\r\n\r\n    if (this.dragMove) {\r\n      const args: IgcDragMoveEventArguments = {\r\n        offsetX: this.currentX - this.lastX,\r\n        offsetY: this.currentY - this.lastY,\r\n        totalOffsetX: this.currentX - this.startX,\r\n        totalOffsetY: this.currentY - this.startY,\r\n        clientX: this.currentX,\r\n        clientY: this.currentY\r\n      };\r\n      this.dragMove(args);\r\n\r\n      if (args.cancel) {\r\n        this.unsubscribeDragEvents();\r\n      }\r\n    }\r\n\r\n    this.lastX = this.currentX;\r\n    this.lastY = this.currentY;\r\n  }\r\n\r\n  private handlePointerUp = (event: PointerEvent) => {\r\n    this.unsubscribeDragEvents();\r\n    this.captureTarget.releasePointerCapture(event.pointerId);\r\n    if (this.dragStarted && this.dragEnd) {\r\n      this.dragEnd({\r\n        offsetX: this.currentX - this.startX,\r\n        offsetY: this.currentY - this.startY,\r\n        clientX: event.clientX,\r\n        clientY: event.clientY\r\n      });\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.element.removeEventListener('pointerdown', this.handlePointerDown);\r\n    this.unsubscribeDragEvents();\r\n    this.element = null;\r\n    this.dragStart = null;\r\n    this.dragEnd = null;\r\n    this.dragMove = null;\r\n  }\r\n\r\n  forceDragging() {\r\n    this.forcedDrag = true;\r\n    this.subscribeDragEvents();\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  padding: 4px 8px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  color: $pane-header-text;\r\n  background: $pane-header-background;\r\n  min-height: $pane-header-height;\r\n\r\n  igc-icon-component svg {\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n}\r\n\r\n:host([part~='window']) {\r\n  border-bottom: 1px solid $border-color;\r\n  min-height: auto;\r\n}\r\n\r\n.header-text {\r\n  @include ellipsis();\r\n  flex: 1 1 100%;\r\n  line-height: 2.3;\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n\r\n  igc-button-component + igc-button-component {\r\n    margin-left: 4px;\r\n  }\r\n}\r\n\r\n:host([part~='active']) {\r\n  box-shadow: inset 0 -2px 0 0 $active-color;\r\n  color: $active-color;\r\n}\r\n\r\n:host([part~='disabled']) {\r\n\tpointer-events: none;\r\n\tcolor: $disabled-color;\r\n}\r\n\r\n","import { Component, Element, Event, EventEmitter, Fragment, Host, Prop, Watch, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IGNORE_DRAG, IgcDragEventArguments, IgcDragMoveEventArguments, IgcDragService, IgcDragStartEventArguments } from '../../drag-drop/drag.service';\r\nimport { IgcContentPane, IgcDockManagerResourceStrings } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-pane-header-component',\r\n  styleUrl: 'pane-header-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcPaneHeaderComponent {\r\n  @Prop({ mutable: true }) dragService: IgcDragService;\r\n\r\n  @Element() element: HTMLIgcPaneHeaderComponentElement;\r\n\r\n  @Prop() pinned: boolean;\r\n  @Prop() maximized: boolean;\r\n  @Prop() isFloating: boolean;\r\n  @Prop() forcedDrag: boolean;\r\n  @Prop() isFloatingPaneHeader: boolean;\r\n  @Prop() allowClose = true;\r\n  @Prop() allowMaximize = true;\r\n  @Prop() allowPinning = true;\r\n  @Prop() pane: IgcContentPane;\r\n  @Prop() isActive: boolean;\r\n  @Prop() disabled = false;\r\n  @Prop() resourceStrings: IgcDockManagerResourceStrings;\r\n\r\n  @Event() pinToggle: EventEmitter;\r\n  @Event({ bubbles: false }) maximize: EventEmitter;\r\n  @Event() close: EventEmitter;\r\n  @Event() dragStarted: EventEmitter<IgcDragStartEventArguments>;\r\n  @Event() dragEnded: EventEmitter<IgcDragEventArguments>;\r\n  @Event() dragMoved: EventEmitter<IgcDragMoveEventArguments>;\r\n  @Event() elementConnected: EventEmitter<HTMLIgcPaneHeaderComponentElement>;\r\n  @Event() elementDisconnected: EventEmitter<HTMLIgcPaneHeaderComponentElement>;\r\n\r\n  connectedCallback() {\r\n    this.dragService = new IgcDragService(this.element);\r\n    this.dragService.dragEdgeTolerance = 3;\r\n    this.dragService.dragStart = args => {\r\n      this.dragStarted.emit(args);\r\n    };\r\n\r\n    this.dragService.dragEnd = args => {\r\n      this.dragEnded.emit(args);\r\n    };\r\n\r\n    this.dragService.dragMove = args => {\r\n      this.dragMoved.emit(args);\r\n    };\r\n\r\n    this.forceDragging();\r\n    this.elementConnected.emit(this.element);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.dragService) {\r\n      this.dragService.destroy();\r\n    }\r\n    this.elementDisconnected.emit(this.element);\r\n  }\r\n\r\n  @Watch('forcedDrag')\r\n  forcedDragChanged() {\r\n    this.forceDragging();\r\n  }\r\n\r\n  private forceDragging() {\r\n    if (this.forcedDrag) {\r\n      this.dragService.forceDragging();\r\n    }\r\n  }\r\n\r\n  private pinButtonClick = () => {\r\n    this.pinToggle.emit();\r\n  }\r\n\r\n  private maximizeButtonClick = () => {\r\n    this.maximize.emit();\r\n  }\r\n\r\n  private closeButtonClick = () => {\r\n    this.close.emit();\r\n  }\r\n\r\n  private renderCloseButton() {\r\n    return (\r\n      <slot name=\"paneHeaderCloseButton\">\r\n        <igc-button-component part=\"pane-header-close-button\">\r\n          <igc-icon-component name=\"close\" aria-label={this.resourceStrings.close} title={this.resourceStrings.close} />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  private renderMaximizeButton() {\r\n    return (\r\n      <slot name=\"paneHeaderMaximizeButton\">\r\n        <igc-button-component part=\"pane-header-maximize-button\">\r\n          <igc-icon-component\r\n            name=\"maximize\"\r\n            aria-label={this.resourceStrings.maximize}\r\n            title={this.resourceStrings.maximize}\r\n          />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  private renderMinimizeButton() {\r\n    return (\r\n      <div>\r\n        <slot name=\"paneHeaderMinimizeButton\">\r\n          <igc-button-component part=\"pane-header-minimize-button\">\r\n            <igc-icon-component\r\n              name=\"minimize\"\r\n              aria-label={this.resourceStrings.minimize}\r\n              title={this.resourceStrings.minimize}\r\n            />\r\n          </igc-button-component>\r\n        </slot>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderPinButton() {\r\n    return (\r\n      <Fragment>\r\n        {!this.isFloating && <slot name=\"paneHeaderPinButton\">\r\n          <igc-button-component part=\"pane-header-pin-button\" style={{ display: this.isFloating ? 'none' : 'flex' }}>\r\n            <igc-icon-component\r\n              name=\"pin\"\r\n              aria-label={this.resourceStrings.pin}\r\n              title={this.resourceStrings.pin}\r\n            />\r\n          </igc-button-component> </slot>}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  private renderUnpinButton() {\r\n    return (\r\n      <Fragment>\r\n        {!this.isFloating && <slot name=\"paneHeaderUnpinButton\">\r\n          <igc-button-component part=\"pane-header-unpin-button\" style={{ display: this.isFloating ? 'none' : 'flex' }}>\r\n            <igc-icon-component\r\n              name=\"unpin\"\r\n              aria-label={this.resourceStrings.unpin}\r\n              title={this.resourceStrings.unpin}\r\n            />\r\n          </igc-button-component>\r\n        </slot>}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const commonParts = {\r\n      active: this.isActive,\r\n      disabled: this.disabled,\r\n      floating: this.isFloating,\r\n      window: this.isFloatingPaneHeader,\r\n    };\r\n\r\n    const paneHeaderParts = Utils.partNameMap({ 'pane-header': true, ...commonParts });\r\n    const paneHeaderContentParts = Utils.partNameMap({ 'pane-header-content': true, ...commonParts });\r\n    const paneHeaderActionsParts = Utils.partNameMap({ 'pane-header-actions': true, ...commonParts });\r\n\r\n    const exportParts = Utils.partNameMap({\r\n      'pane-header': true,\r\n      'pane-header-actions': true,\r\n      'pane-header-content': true,\r\n      'pane-header-close-button': true,\r\n      'pane-header-maximize-button': true,\r\n      'pane-header-minimize-button': true,\r\n      'pane-header-pin-button': true,\r\n      'pane-header-unpin-button': true,\r\n      ...commonParts\r\n    }, ',');\r\n\r\n    return (\r\n      <Host\r\n        part={paneHeaderParts}\r\n        exportparts={exportParts}\r\n      >\r\n        <div part={paneHeaderContentParts} class=\"header-text\">\r\n          <slot></slot>\r\n        </div>\r\n        <div part={paneHeaderActionsParts} class=\"header-actions\" {...{ [IGNORE_DRAG]: true }}>\r\n          {this.allowPinning &&\r\n            <div onClick={this.pinButtonClick}>\r\n              {this.pinned ? this.renderUnpinButton() : this.renderPinButton()}\r\n            </div>\r\n          }\r\n          {this.allowMaximize &&\r\n            <div onClick={this.maximizeButtonClick}>\r\n              {this.maximized ? this.renderMinimizeButton() : this.renderMaximizeButton()}\r\n            </div>\r\n          }\r\n          {this.allowClose &&\r\n            <div onClick={this.closeButtonClick}>\r\n              {this.renderCloseButton()}\r\n            </div>\r\n          }\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host,\r\n:host * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n:host {\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 10002;\r\n}\r\n\r\n.pane-navigator {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: $pane-content-background;\r\n  width: 350px;\r\n  height: auto;\r\n  max-height: 336px;\r\n  overflow: hidden;\r\n  line-height: 24px;\r\n  z-index: 10002;\r\n  box-shadow: 0 9px 46px 8px rgba(0, 0, 0, 0.08),\r\n              0 24px 38px 3px rgba(0, 0, 0, 0.12),\r\n              0 11px 15px -7px rgba(0, 0, 0, 0.26);\r\n\r\n  &:focus {\r\n    outline-style: none;\r\n  }\r\n}\r\n\r\nheader {\r\n  background: $background-color;\r\n  min-height: 40px;\r\n  height: 40px;\r\n\r\n  h3 {\r\n    @include ellipsis();\r\n    margin: unset;\r\n    font-size: em(14px);\r\n    padding: 8px;\r\n  }\r\n}\r\n\r\n.body {\r\n  display: flex;\r\n  overflow: auto;\r\n}\r\n\r\n.group {\r\n  display: flex;\r\n  flex: 1 0 50%;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  padding: 16px;\r\n}\r\n\r\n.title {\r\n  @include ellipsis();\r\n  position: sticky;\r\n  top: 0;\r\n  background: $pane-content-background;\r\n  font-size: em(14px);\r\n  margin: unset;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.items {\r\n  overflow: auto;\r\n  scrollbar-width: none;\r\n\r\n  // This will not work in Firefox\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n}\r\n\r\n[part~='item'] {\r\n  @include ellipsis();\r\n  user-select: none;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  padding: 8px 0;\r\n\r\n  &[part~='selected'] {\r\n    color: $active-color;\r\n  }\r\n\r\n  &[part~='disabled'] {\r\n    pointer-events: none;\r\n    color: $disabled-color;\r\n  }\r\n}\r\n","import { Component, Event, EventEmitter, Host, Listen, Prop, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IgcContentPane, IgcDockManagerResourceStrings } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-pane-navigator-component',\r\n  styleUrl: 'pane-navigator-component.scss',\r\n  shadow: true\r\n})\r\nexport class IgcPaneNavigatorComponent {\r\n\r\n  @Prop() activeDocuments: IgcContentPane[];\r\n  @Prop() activePanes: IgcContentPane[];\r\n  @Prop({ mutable: true }) selectedIndex: number;\r\n  @Prop() previousActivePaneIndex: number;\r\n  @Prop() resourceStrings: IgcDockManagerResourceStrings;\r\n\r\n  @Event() closed: EventEmitter<IgcContentPane>;\r\n\r\n  private allItems: IgcContentPane[];\r\n  private allItemsElement: HTMLElement[];\r\n  private paneNav: HTMLElement;\r\n\r\n  scrollItemToView() {\r\n    const selectedItem = this.allItemsElement[this.selectedIndex];\r\n    const selectedItemRect = selectedItem.getBoundingClientRect();\r\n    const itemsContainerRect = selectedItem.parentElement.getBoundingClientRect();\r\n\r\n    if (selectedItemRect.top < itemsContainerRect.top) {\r\n      this.allItemsElement[this.selectedIndex].parentElement.scrollTop -= itemsContainerRect.top - selectedItemRect.top;\r\n    }\r\n    if (selectedItemRect.bottom > itemsContainerRect.bottom) {\r\n      this.allItemsElement[this.selectedIndex].parentElement.scrollTop += selectedItemRect.bottom - itemsContainerRect.bottom;\r\n    }\r\n  }\r\n\r\n  @Listen('keyup')\r\n  handleKeyUp(event: KeyboardEvent) {\r\n    if (event.code === 'AltLeft' || event.code === 'AltRight' || event.key === 'Control' || event.key === 'OS' || event.key === 'Meta') {\r\n      this.closed.emit(this.allItems[this.selectedIndex]);\r\n    }\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeydown(event: KeyboardEvent) {\r\n    event.stopPropagation();\r\n    const isShiftPressed = event.shiftKey;\r\n    let index;\r\n\r\n    if (Utils.isControlOrMetaPressed(event) && !event.altKey) {\r\n      switch (event.key) {\r\n        case 'ArrowUp':\r\n          this.decreaseSelectedIndex();\r\n          break;\r\n        case 'ArrowDown':\r\n          this.increaseSelectedIndex();\r\n          break;\r\n        case 'ArrowRight':\r\n        case 'ArrowLeft': {\r\n          if (this.activePanes.length === 0 || this.activeDocuments.length === 0) {\r\n            return;\r\n          }\r\n          if (this.selectedIndex >= 0 && this.selectedIndex < this.activePanes.length) {\r\n            index = this.selectedIndex + this.activePanes.length;\r\n            this.navigateToIndex(index >= this.allItems.length ? this.allItems.length - 1 : index, 'next');\r\n          } else if (this.selectedIndex >= this.activePanes.length && this.selectedIndex < this.allItems.length) {\r\n            index = this.selectedIndex - this.activePanes.length;\r\n            this.navigateToIndex(index > this.activePanes.length - 1 ? this.activePanes.length - 1 : index, 'previous');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (event.key === 'F7' || event.key === 'F8') {\r\n      if (isShiftPressed) {\r\n        this.decreaseSelectedIndex();\r\n      } else {\r\n        this.increaseSelectedIndex();\r\n      }\r\n    }\r\n\r\n    this.scrollItemToView();\r\n  }\r\n\r\n  private navigateToIndex(index: number, direction: 'next' | 'previous') {\r\n    if (index === -1) {\r\n      index = this.allItems.length - 1;\r\n    } else if (index === this.allItems.length) {\r\n      index = 0;\r\n    }\r\n\r\n    let counter = 0;\r\n\r\n    while (this.allItems[index].disabled && counter <= this.allItems.length) {\r\n      counter++;\r\n      index = index + (direction === 'next' ? 1 : -1);\r\n\r\n      if (index === -1) {\r\n        index = this.allItems.length - 1;\r\n      } else if (index === this.allItems.length) {\r\n        index = 0;\r\n      }\r\n    }\r\n\r\n    this.selectedIndex = index;\r\n  }\r\n\r\n  private increaseSelectedIndex(amount = 1) {\r\n    const newValue = this.selectedIndex + amount;\r\n    this.navigateToIndex(newValue, 'next');\r\n  }\r\n\r\n  private decreaseSelectedIndex(amount = 1) {\r\n    const newValue = this.selectedIndex - amount;\r\n    this.navigateToIndex(newValue, 'previous');\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.allItems = [...this.activePanes, ...this.activeDocuments];\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.paneNav.focus();\r\n    this.allItemsElement = Array.from<HTMLElement>(this.paneNav.querySelectorAll('[part~=item]'));\r\n    this.navigateToIndex(this.selectedIndex, 'next');\r\n    this.scrollItemToView();\r\n  }\r\n\r\n  resolveItemPart(item: IgcContentPane, index: number, isDocHost: boolean) {\r\n    const part = Utils.partNameMap({\r\n      item: true,\r\n      selected: isDocHost ? index === this.selectedIndex - this.activePanes.length : index === this.selectedIndex,\r\n      disabled: item.disabled\r\n    });\r\n\r\n    return part;\r\n  }\r\n\r\n  selectItem(index: number, isDocHost: boolean): void {\r\n    this.selectedIndex = !isDocHost ? index : this.activePanes.length + index;\r\n  }\r\n\r\n  renderItems(title: string, items: IgcContentPane[], isDocHost: boolean) {\r\n    return (\r\n      <article part=\"group\" class=\"group\">\r\n        <h4 part=\"title\" class=\"title\">{title}</h4>\r\n        <section class=\"items\">\r\n          {items?.map((item: any, index) => {\r\n            return (\r\n              <div\r\n                part={this.resolveItemPart(item, index, isDocHost)}\r\n                onMouseDown={() => this.selectItem(index, isDocHost)}\r\n                onMouseUp={() => this.closed.emit(this.allItems[this.selectedIndex])}\r\n              >\r\n                {item.header}\r\n              </div>\r\n            );\r\n          })}\r\n        </section>\r\n      </article>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        onClick={() => this.closed.emit(this.allItems[this.previousActivePaneIndex])}\r\n        exportparts=\"base: pane-navigator, header: pane-navigator-header, body: pane-navigator-body,\r\n                     group: pane-navigator-items-group, title: pane-navigator-items-group-title, item: pane-navigator-item, selected, disabled\"\r\n      >\r\n        <article\r\n          part=\"base\"\r\n          class=\"pane-navigator\"\r\n          ref={el => this.paneNav = el}\r\n          tabIndex={0}\r\n          onClick={ev => ev.stopPropagation()}\r\n        >\r\n          <header part=\"header\">\r\n              <h3>{this.allItems[this.selectedIndex]?.header}</h3>\r\n          </header>\r\n          <section part=\"body\" class=\"body\">\r\n              {this.renderItems(this.resourceStrings.panes, this.activePanes, false)}\r\n              {this.renderItems(this.resourceStrings.documents, this.activeDocuments, true)}\r\n          </section>\r\n        </article>\r\n      </Host >\r\n    );\r\n  }\r\n}\r\n","\r\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\r\n\r\nimport { IgcDragEventArguments, IgcDragMoveEventArguments, IgcDragService, IgcDragStartEventArguments } from '../../drag-drop/drag.service';\r\nimport { IgcResizerLocation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-resizer-component',\r\n  styleUrl: 'resizer-component.scss',\r\n  scoped: true\r\n})\r\nexport class IgcResizerComponent {\r\n  private dragService: IgcDragService;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @State() dragOffsetX: number;\r\n  @State() dragOffsetY: number;\r\n\r\n  @Prop() orientation: IgcResizerLocation;\r\n\r\n  @Event() resizerMoved: EventEmitter<IgcDragMoveEventArguments>;\r\n  @Event() resizerDragStart: EventEmitter<IgcDragStartEventArguments>;\r\n  @Event() resizerDragEnd: EventEmitter<IgcDragEventArguments>;\r\n\r\n  private get isCornerResizer(): boolean {\r\n    return this.orientation === IgcResizerLocation.bottomLeft || this.orientation === IgcResizerLocation.bottomRight ||\r\n      this.orientation === IgcResizerLocation.topLeft || this.orientation === IgcResizerLocation.topRight;\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.dragService = new IgcDragService(this.element);\r\n    this.dragService.dragStart = this.dragStart;\r\n    this.dragService.dragEnd = this.dragEnd;\r\n    this.dragService.dragMove = this.dragMove;\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.dragService.destroy();\r\n  }\r\n\r\n  private dragStart = (args: IgcDragStartEventArguments) => {\r\n    this.resizerDragStart.emit(args);\r\n  }\r\n\r\n  private dragEnd = (args: IgcDragEventArguments) => {\r\n    this.resizerDragEnd.emit(args);\r\n  }\r\n\r\n  private dragMove = (args: IgcDragMoveEventArguments) => {\r\n    this.resizerMoved.emit(args);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        style={{\r\n          position: 'absolute',\r\n          pointerEvents: 'all',\r\n          height: (this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right) ?\r\n            '100%' : this.isCornerResizer ? '10px' : '5px',\r\n          width: (this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right) ? '5px' :\r\n            this.isCornerResizer ? '10px' : '100%',\r\n          cursor: this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right ?\r\n            'ew-resize' : (this.orientation === IgcResizerLocation.bottomLeft || this.orientation === IgcResizerLocation.topRight) ?\r\n              'ne-resize' : (this.orientation === IgcResizerLocation.bottomRight || this.orientation === IgcResizerLocation.topLeft) ?\r\n                'nw-resize' : 'ns-resize',\r\n          left: this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.topLeft ||\r\n            this.orientation === IgcResizerLocation.bottomLeft ? '-3px' : null,\r\n          top: this.orientation === IgcResizerLocation.top || this.orientation === IgcResizerLocation.topLeft ||\r\n            this.orientation === IgcResizerLocation.topRight ? '0px' : null,\r\n          right: this.orientation === IgcResizerLocation.right || this.orientation === IgcResizerLocation.bottomRight ||\r\n            this.orientation === IgcResizerLocation.topRight ? '-3px' : null,\r\n          bottom: this.orientation === IgcResizerLocation.bottom || this.orientation === IgcResizerLocation.bottomRight ||\r\n            this.orientation === IgcResizerLocation.bottomLeft ? '-3px' : null,\r\n          zIndex: '10002'\r\n        }}\r\n      >\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  align-self: center;\r\n  pointer-events: all;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 10px;\r\n  width: 30px;\r\n  height: 30px;\r\n  color: $joystick-icon-color;\r\n  background: $joystick-background;\r\n  transition: color .25s ease-out, background .25s ease-out;\r\n  border: 1px solid $joystick-border-color;\r\n\r\n  &:hover {\r\n    color: $joystick-icon-color-active;\r\n    background: $joystick-background-active;\r\n  }\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IgcDockingIndicatorPosition } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-root-docking-indicator-component',\r\n  styleUrl: 'root-docking-indicator-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcRootDockingIndicatorComponent {\r\n  @Prop() position: IgcDockingIndicatorPosition;\r\n\r\n  render() {\r\n    return (\r\n      <Host part=\"root-docking-indicator\">\r\n        <igc-icon-component\r\n          name=\"first_page\"\r\n          style={{\r\n            transform: this.position === IgcDockingIndicatorPosition.top ? 'rotate(90deg)' :\r\n              this.position === IgcDockingIndicatorPosition.right ? 'rotate(180deg)' :\r\n                this.position === IgcDockingIndicatorPosition.bottom ? 'rotate(270deg)' : 'rotate(0deg)'\r\n          }}\r\n        />\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: stretch;\r\n  box-sizing: border-box;\r\n  min-width: 0;\r\n  min-height: 0;\r\n  border: none;\r\n  overflow: auto;\r\n}\r\n\r\n","import { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IGC_DEFAULT_PANE_SIZE } from '../dockmanager.interfaces';\r\nimport { IgcSplitPaneOrientation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-split-pane-component',\r\n  styleUrl: 'split-pane-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcSplitPaneComponent {\r\n  @Prop() orientation: IgcSplitPaneOrientation;\r\n  @Prop() size: number;\r\n  @Event() rendered: EventEmitter<HTMLIgcSplitPaneComponentElement>;\r\n\r\n  componentDidRender() {\r\n    this.rendered.emit();\r\n  }\r\n\r\n  render() {\r\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\r\n\r\n    return (\r\n      <Host\r\n        role=\"group\"\r\n        style={{\r\n          flexDirection: this.orientation === IgcSplitPaneOrientation.horizontal ? 'row' : 'column',\r\n          flex: `${size} 1 ${size}px`\r\n        }}\r\n        part=\"split-pane\"\r\n      />\r\n    );\r\n  }\r\n\r\n}\r\n",":host {\r\n  position: relative;\r\n  display: flex;\r\n  flex: 0 0 4px;\r\n  box-sizing: border-box;\r\n  pointer-events: all;\r\n}\r\n\r\n.splitter {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: ew-resize;\r\n  background: $splitter-background;\r\n  --resize-handle-width: 2px;\r\n  --resize-handle-height: 80px;\r\n  outline-style: none;\r\n\r\n  &:not(.splitter--custom-handle)::after {\r\n    position: absolute;\r\n    content: '';\r\n    background: $splitter-handle;\r\n    top: 50%;\r\n    left: 50%;\r\n    width: var(--resize-handle-width);\r\n    height: var(--resize-handle-height);\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n    border-radius: 1px;\r\n    transform: translateX(-50%) translateY(-50%);\r\n  }\r\n\r\n  &:focus-within {\r\n    background-color: $active-color;\r\n  }\r\n\r\n  &--vertical {\r\n    cursor: ns-resize;\r\n\r\n    &:not(.splitter--custom-handle)::after {\r\n      width: var(--resize-handle-height);\r\n      height: var(--resize-handle-width);\r\n    }\r\n  }\r\n}\r\n\r\n.splitter-ghost {\r\n  position: absolute;\r\n  cursor: ew-resize;\r\n  opacity: 0.3;\r\n  background: black;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n\r\n  &--vertical {\r\n    cursor: ns-resize;\r\n  }\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Prop, State, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IgcDragMoveEventArguments, IgcDragService } from '../../drag-drop/drag.service';\r\nimport { IGC_DEFAULT_RESIZE, IGC_RESIZING_MIN_SIZE } from '../dockmanager.interfaces';\r\nimport { IgcSplitPaneOrientation, IgcUnpinnedLocation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-splitter-component',\r\n  styleUrl: 'splitter-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcSplitterComponent {\r\n  private dragService: IgcDragService;\r\n  private paneSizes: number[];\r\n  private ghostElement: HTMLElement;\r\n  private flyoutMaxSize: number;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @State() dragOffset: number;\r\n  @State() hasCustomSplitterHandle: boolean;\r\n\r\n  @Prop() showDragGhost: boolean;\r\n  @Prop() splitPaneOrientation: IgcSplitPaneOrientation;\r\n  @Prop() flyoutLocation: IgcUnpinnedLocation;\r\n\r\n  @Event() resizeStart: EventEmitter;\r\n  @Event() resizeEnd: EventEmitter<number>;\r\n\r\n  connectedCallback() {\r\n    this.dragService = new IgcDragService(this.element);\r\n    this.dragService.dragStart = this.dragStart;\r\n    this.dragService.dragEnd = this.dragEnd;\r\n    this.dragService.dragMove = this.dragMove;\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.dragService.destroy();\r\n    document.documentElement.removeEventListener('mouseup', this.handleMouseUp, false);\r\n  }\r\n\r\n  calculateOffset(event: KeyboardEvent): number {\r\n    if (this.isArrowUp(event) || this.isArrowLeft(event)) {\r\n      return -IGC_DEFAULT_RESIZE;\r\n    } else if (this.isArrowDown(event) || this.isArrowRight(event)) {\r\n      return IGC_DEFAULT_RESIZE;\r\n    }\r\n  }\r\n\r\n  isArrowUp(event: KeyboardEvent): boolean {\r\n    return event.key === 'ArrowUp';\r\n  }\r\n\r\n  isArrowDown(event: KeyboardEvent): boolean {\r\n    return event.key === 'ArrowDown';\r\n  }\r\n\r\n  isArrowLeft(event: KeyboardEvent): boolean {\r\n    return event.key === 'ArrowLeft';\r\n  }\r\n\r\n  isArrowRight(event: KeyboardEvent): boolean {\r\n    return event.key === 'ArrowRight';\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeydownEvent(event: KeyboardEvent) {\r\n    if (this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal &&\r\n      (!this.isArrowLeft(event) && !this.isArrowRight(event))) {\r\n      return;\r\n    }\r\n    if (this.splitPaneOrientation === IgcSplitPaneOrientation.vertical &&\r\n      (!this.isArrowUp(event) && !this.isArrowDown(event))) {\r\n      return;\r\n    }\r\n\r\n    this.showDragGhost = false;\r\n    this.dragStartHelper(this.calculateOffset(event));\r\n\r\n    if (this.flyoutLocation) {\r\n      this.constrainFlyoutResize();\r\n    } else {\r\n      this.constrainSplitPaneResize();\r\n    }\r\n\r\n    this.dragEndHelper();\r\n  }\r\n\r\n  @Listen('mousedown')\r\n  handleMouseDown() {\r\n    this.showDragGhost = true;\r\n    document.documentElement.addEventListener('mouseup', this.handleMouseUp, false);\r\n    this.resizeStart.emit();\r\n  }\r\n\r\n  private handleMouseUp = () => {\r\n    document.documentElement.removeEventListener('mouseup', this.handleMouseUp, false);\r\n    this.showDragGhost = false;\r\n  }\r\n\r\n  private dragStartHelper(dragOffset: number) {\r\n    this.dragOffset = dragOffset;\r\n\r\n    const parent = this.element.parentElement;\r\n    const children = Array.from(parent.children) as HTMLElement[];\r\n\r\n    if (this.flyoutLocation) {\r\n      const pane = children[0];\r\n      this.paneSizes = [this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ?\r\n        pane.offsetWidth : pane.offsetHeight];\r\n      this.flyoutMaxSize = this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ?\r\n        parent.offsetWidth - IGC_RESIZING_MIN_SIZE :\r\n        parent.offsetHeight - IGC_RESIZING_MIN_SIZE;\r\n    } else {\r\n      const index = children.indexOf(this.element);\r\n      const panes = [children[index - 1], children[index + 1]];\r\n      this.paneSizes = panes.map(p => this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ?\r\n        p.offsetWidth : p.offsetHeight);\r\n    }\r\n  }\r\n\r\n  private dragStart = () => {\r\n    this.dragStartHelper(0);\r\n  }\r\n\r\n  private dragEndHelper() {\r\n    const dragOffset = this.dragOffset;\r\n    this.showDragGhost = false;\r\n    this.dragOffset = 0;\r\n    this.paneSizes = null;\r\n    this.resizeEnd.emit(dragOffset);\r\n  }\r\n\r\n  private dragEnd = () => {\r\n    this.dragEndHelper();\r\n  }\r\n\r\n  private dragMove = (args: IgcDragMoveEventArguments) => {\r\n    if (!this.ghostElement) {\r\n      return;\r\n    }\r\n\r\n    const rect = this.ghostElement.getBoundingClientRect();\r\n    const isHorizontal = this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal;\r\n    const clientCoordinate = isHorizontal ? args.clientX : args.clientY;\r\n    const offset = isHorizontal ? args.offsetX : args.offsetY;\r\n    const startCoordinate = isHorizontal ? rect.left : rect.top;\r\n    const endCoordinate = isHorizontal ? rect.right : rect.bottom;\r\n\r\n    if (offset <= 0 && startCoordinate < clientCoordinate) {\r\n      return;\r\n    }\r\n\r\n    if (offset >= 0 && endCoordinate > clientCoordinate) {\r\n      return;\r\n    }\r\n\r\n    this.dragOffset += offset;\r\n\r\n    if (this.flyoutLocation) {\r\n      this.constrainFlyoutResize();\r\n    } else {\r\n      this.constrainSplitPaneResize();\r\n    }\r\n  }\r\n\r\n  private constrainFlyoutResize() {\r\n    const paneSize = this.paneSizes[0];\r\n    const isStartLocation = this.flyoutLocation === IgcUnpinnedLocation.left || this.flyoutLocation === IgcUnpinnedLocation.top;\r\n    const offset = isStartLocation ?\r\n      this.dragOffset :\r\n      -this.dragOffset;\r\n\r\n    if (paneSize + offset < IGC_RESIZING_MIN_SIZE) {\r\n      const minOffset = paneSize - IGC_RESIZING_MIN_SIZE;\r\n      this.dragOffset = isStartLocation ? -minOffset : minOffset;\r\n    } else if (paneSize + offset > this.flyoutMaxSize) {\r\n      const maxOffset = this.flyoutMaxSize - paneSize;\r\n      this.dragOffset = isStartLocation ? maxOffset : -maxOffset;\r\n    }\r\n  }\r\n\r\n  private constrainSplitPaneResize() {\r\n    let rtl = false;\r\n    const dockmanager = this.closestElement('igc-dockmanager', this.element);\r\n    if (dockmanager.dir !== '') {\r\n      rtl = dockmanager.dir === 'rtl';\r\n    } else {\r\n      let parent = dockmanager.parentElement;\r\n      while (parent) {\r\n        if (parent.dir !== '') {\r\n          rtl = parent.dir === 'rtl';\r\n          break;\r\n        }\r\n\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n\r\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\r\n    if (this.dragOffset < 0) {\r\n      const referencePaneSize = !rtl || isVertical ? this.paneSizes[0] : this.paneSizes[1];\r\n      if (referencePaneSize > IGC_RESIZING_MIN_SIZE) {\r\n        if (referencePaneSize + this.dragOffset < IGC_RESIZING_MIN_SIZE) {\r\n          this.dragOffset = -(referencePaneSize - IGC_RESIZING_MIN_SIZE);\r\n        }\r\n      } else {\r\n        this.dragOffset = 0;\r\n      }\r\n    } else {\r\n      const referencePaneSize = !rtl || isVertical ? this.paneSizes[1] : this.paneSizes[0];\r\n      if (referencePaneSize > IGC_RESIZING_MIN_SIZE) {\r\n        if (referencePaneSize - this.dragOffset < IGC_RESIZING_MIN_SIZE) {\r\n          this.dragOffset = referencePaneSize - IGC_RESIZING_MIN_SIZE;\r\n        }\r\n      } else {\r\n        this.dragOffset = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  private closestElement(selector: string, el: any): HTMLIgcDockmanagerElement {\r\n    return (\r\n      (el && el.closest(selector)) ||\r\n        this.closestElement(selector, el.getRootNode().host)\r\n    );\r\n  }\r\n\r\n  handleSlotChange() {\r\n    const handleSlot = this.element.shadowRoot.querySelector('slot[name=\"splitterHandle\"]') as HTMLSlotElement;\r\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\r\n    this.hasCustomSplitterHandle = handleSlot.assignedElements().length > 0;\r\n\r\n    if (this.hasCustomSplitterHandle) {\r\n      const handle = this.element.querySelector('[part=\"splitter-handle\"]');\r\n      const parts = Utils.partNameMap({\r\n        'splitter-handle': true,\r\n        'vertical': isVertical,\r\n        'horizontal': !isVertical\r\n      });\r\n      handle.setAttribute('part', parts);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\r\n    const splitterClasses = {\r\n      'splitter': true,\r\n      'splitter--vertical': isVertical,\r\n      'splitter--custom-handle': this.hasCustomSplitterHandle\r\n    };\r\n\r\n    const ghostClasses = {\r\n      'splitter-ghost': true,\r\n      'splitter-ghost--vertical': isVertical\r\n    };\r\n\r\n    return (\r\n      <Host\r\n        part=\"splitter\"\r\n        exportparts=\"splitter,\r\n        splitter-base,\r\n        splitter-ghost\"\r\n      >\r\n        <div part=\"splitter-base\" class={splitterClasses} tabIndex={0} role=\"separator\" aria-orientation={this.splitPaneOrientation.toString()}>\r\n            <slot name=\"splitterHandle\" onSlotchange={this.handleSlotChange.bind(this)}></slot>\r\n        </div>\r\n        {this.showDragGhost &&\r\n          <div\r\n            part=\"splitter-ghost\"\r\n            class={ghostClasses}\r\n            style={{\r\n              left: `${isVertical ? 0 : this.dragOffset}px`,\r\n              top: `${isVertical ? this.dragOffset : 0}px`\r\n            }}\r\n            ref={el => this.ghostElement = el}\r\n          />}\r\n      </Host>);\r\n  }\r\n}\r\n","%truncate-text {\r\n  ::slotted(span) {\r\n    max-width: calc(100% - 18px);\r\n    @include ellipsis();\r\n  }\r\n}\r\n\r\n:host {\r\n  @include ellipsis();\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  padding: em(8px);\r\n  user-select: none;\r\n  color: $tab-text;\r\n  background: $tab-background;\r\n  border: {\r\n    style: solid;\r\n    color: $tab-border-color;\r\n    top-width: 1px;\r\n    left-width: 1px;\r\n    bottom-width: 0;\r\n    right-width: 1px;\r\n  };\r\n  font-size: em(12px);\r\n  line-height: 2;\r\n  outline-style: none;\r\n\r\n  igc-icon-component svg {\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n\r\n  * + igc-button-component {\r\n    margin-left: em(8px);\r\n  }\r\n}\r\n\r\n:host([part~='selected']) {\r\n  color: $tab-text-active;\r\n  background: $tab-background-active;\r\n  border-color: $tab-border-color-active;\r\n}\r\n\r\n:host([part~='bottom']) {\r\n  border: {\r\n    top-width: 0;\r\n    bottom-width: 1px;\r\n  }\r\n\r\n  &:first-of-type {\r\n    border-left: none;\r\n  }\r\n}\r\n\r\n:host([part~='active']) {\r\n  box-shadow: inset 0 -2px 0 0 $active-color;\r\n  color: $active-color;\r\n\r\n  igc-icon-component {\r\n    color: var(--igc-icon-active-color, $active-color);\r\n  }\r\n}\r\n\r\n:host([part~='hover-preview-close']:hover) {\r\n  @extend %truncate-text;\r\n}\r\n\r\n:host([part~='hover-preview-close'][part~='selected']) {\r\n  @extend %truncate-text;\r\n}\r\n\r\n:host([part~='disabled']) {\r\n  pointer-events: none;\r\n  color: $disabled-color;\r\n}\r\n\r\n:host(:hover) {\r\n  [part*='floating'] {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n[part*='floating'] {\r\n  position: absolute;\r\n  inset-inline-end: 0;\r\n  background: inherit;\r\n  opacity: 0;\r\n  transition: opacity .1s ease-out;\r\n}\r\n\r\n[part*='selected'] {\r\n  opacity: 1;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Prop, Watch, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../utils/utils';\r\nimport { IgcTabHeadersPosition } from '../dockmanager/dockmanager.interfaces';\r\nimport { IgcDockManagerResourceStrings } from '../dockmanager/dockmanager.public-interfaces';\r\nimport { IGNORE_DRAG, IgcDragEventArguments, IgcDragMoveEventArguments, IgcDragService, IgcDragStartEventArguments } from '../drag-drop/drag.service';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-tab-header-component',\r\n  styleUrl: 'tab-header-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcTabHeaderComponent {\r\n  @Prop({ mutable: true }) dragService: IgcDragService;\r\n\r\n  @Element() element: HTMLIgcTabHeaderComponentElement;\r\n\r\n  @Prop() selected = false;\r\n  @Prop() hovered = false;\r\n  @Prop() position = IgcTabHeadersPosition.top;\r\n  @Prop() iconName: string;\r\n  @Prop() header: string;\r\n  @Prop() isActive: boolean;\r\n  @Prop() resourceStrings: IgcDockManagerResourceStrings;\r\n  @Prop() forcedDrag: boolean;\r\n  @Prop() disabled = false;\r\n  @Prop() showHeaderIconOnHover: 'closeOnly' | 'moreOptionsOnly' | 'all';\r\n\r\n  @Event() dragStarted: EventEmitter<IgcDragStartEventArguments>;\r\n  @Event() dragMoved: EventEmitter<IgcDragMoveEventArguments>;\r\n  @Event() dragEnded: EventEmitter<IgcDragEventArguments>;\r\n  @Event() tabMouseDown: EventEmitter;\r\n  @Event() iconClicked: EventEmitter<any>;\r\n  @Event() iconKeyDown: EventEmitter<KeyboardEvent>;\r\n  @Event() elementConnected: EventEmitter<HTMLIgcTabHeaderComponentElement>;\r\n  @Event() elementDisconnected: EventEmitter<HTMLIgcTabHeaderComponentElement>;\r\n\r\n  connectedCallback() {\r\n    this.dragService = new IgcDragService(this.element);\r\n\r\n    this.dragService.dragStart = args => {\r\n      this.dragStarted.emit(args);\r\n    };\r\n    this.dragService.dragMove = args => {\r\n      this.dragMoved.emit(args);\r\n    };\r\n    this.dragService.dragEnd = args => {\r\n      this.dragEnded.emit(args);\r\n    };\r\n\r\n    this.forceDragging();\r\n    this.elementConnected.emit(this.element);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.dragService) {\r\n      this.dragService.destroy();\r\n    }\r\n    this.elementDisconnected.emit(this.element);\r\n  }\r\n\r\n  @Listen('mousedown')\r\n  handleMouseDown(ev: MouseEvent) {\r\n    const iconSlot = this.element.shadowRoot.querySelector('div[part*=\"tab-header-more-options\"]');\r\n    const isIconClicked = ev.composedPath().filter(p => p === iconSlot).length > 0;\r\n    this.tabMouseDown.emit({ showHeaderIconOnHover: this.showHeaderIconOnHover, isIconClicked });\r\n  }\r\n\r\n  @Listen('mouseenter')\r\n  handleMouseEnter() {\r\n    this.hovered = true;\r\n  }\r\n\r\n  @Listen('mouseleave')\r\n  handleMouseLeave() {\r\n    this.hovered = false;\r\n  }\r\n\r\n  @Watch('forcedDrag')\r\n  forcedDragChanged() {\r\n    this.forceDragging();\r\n  }\r\n\r\n  private forceDragging() {\r\n    if (this.forcedDrag) {\r\n      this.dragService.forceDragging();\r\n    }\r\n  }\r\n\r\n  @Watch('isActive')\r\n  @Watch('selected')\r\n  @Watch('hovered')\r\n  activeChanged() {\r\n    const queryButton = 'tab-header-close-button';\r\n    const button = this.element.querySelector(`[part^=${queryButton}]`);\r\n    const parts = Utils.partNameMap({\r\n      [queryButton]: true,\r\n      active: this.isActive,\r\n      selected: this.selected,\r\n      hovered: this.hovered\r\n    });\r\n\r\n    button?.setAttribute('part', parts);\r\n  }\r\n\r\n  private iconClick = (ev: MouseEvent) => {\r\n    this.iconClicked.emit(ev);\r\n  }\r\n\r\n  private keyDown = (ev: KeyboardEvent) => {\r\n    this.iconKeyDown.emit(ev);\r\n  }\r\n\r\n  private renderCloseButton() {\r\n    const showHeaderIconOnHover = this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'closeOnly' || this.showHeaderIconOnHover === 'all');\r\n    const shouldShowButton = this.selected || showHeaderIconOnHover;\r\n    const pointerEvents = (this.selected && !this.disabled) || this.showHeaderIconOnHover ? 'all' : 'none';\r\n\r\n    return (\r\n      shouldShowButton && <slot name=\"tabHeaderCloseButton\" >\r\n        <igc-button-component\r\n          part=\"tab-header-close-button\"\r\n          style={{\r\n            pointerEvents\r\n          }}\r\n        >\r\n          <igc-icon-component\r\n            name={this.iconName}\r\n            aria-label={this.resourceStrings.close}\r\n            title={this.resourceStrings.close}\r\n          />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  private renderMoreOptionsButton() {\r\n    const showHeaderIconOnHover = this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'moreOptionsOnly' || this.showHeaderIconOnHover === 'all');\r\n    const shouldShowButton = this.selected || showHeaderIconOnHover;\r\n    const pointerEvents = (this.selected && !this.disabled) || this.showHeaderIconOnHover ? 'all' : 'none';\r\n\r\n    return (\r\n      shouldShowButton && <slot name=\"tabHeaderMoreOptionsButton\">\r\n        <igc-button-component\r\n          part=\"tab-header-more-options-button\"\r\n          style={{\r\n            pointerEvents\r\n          }}\r\n        >\r\n          <igc-icon-component\r\n            name={this.iconName}\r\n            aria-label={this.resourceStrings.moreOptions}\r\n            title={this.resourceStrings.moreOptions}\r\n          />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const showCloseOnHover = this.iconName === 'close' && this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'closeOnly' || this.showHeaderIconOnHover === 'all');\r\n    const showMoreOptionsOnHover = this.iconName !== 'close' && this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'moreOptionsOnly' || this.showHeaderIconOnHover === 'all');\r\n\r\n    const parts = Utils.partNameMap({\r\n      'tab-header': true,\r\n      top: this.position === IgcTabHeadersPosition.top,\r\n      active: this.isActive,\r\n      selected: this.selected,\r\n      disabled: this.disabled,\r\n      'hover-preview-close': showCloseOnHover,\r\n      'hover-preview-options': showMoreOptionsOnHover,\r\n      bottom: this.position === IgcTabHeadersPosition.bottom,\r\n    });\r\n\r\n    const tabParts = Utils.partNameMap({\r\n      'tab-header-more-options': true,\r\n      'floating': !this.selected && (showCloseOnHover || showMoreOptionsOnHover),\r\n      'selected': this.selected\r\n    });\r\n\r\n    const exportparts = Utils.partNameMap({\r\n      'tab-header-close-button': true,\r\n      'tab-header-more-options': true,\r\n      'tab-header-more-options-button': true,\r\n      'floating': true,\r\n      'selected': true,\r\n      'active': true\r\n    }, ',');\r\n\r\n    return (\r\n      <Host\r\n        role=\"tab\"\r\n        part={parts}\r\n        exportparts={exportparts}\r\n        aria-label={this.header}\r\n        aria-selected={this.selected ? 'true' : 'false'}\r\n        aria-disabled={this.disabled ? 'true' : 'false'}\r\n        tabIndex={!this.selected || this.disabled ? -1 : 0}\r\n      >\r\n        <slot></slot>\r\n        {\r\n          this.iconName &&\r\n          <div part={tabParts} onClick={this.iconClick} onKeyDown={this.keyDown} {...{ [IGNORE_DRAG]: true }}>\r\n            {this.iconName === 'close' ? this.renderCloseButton() : this.renderMoreOptionsButton()}\r\n          </div>\r\n        }\r\n      </Host>);\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n  box-sizing: border-box;\r\n  overflow: auto;\r\n  flex-grow: 1;\r\n  height: 100%;\r\n  color: $pane-content-text;\r\n  background-color: $pane-content-background;\r\n}\r\n\r\n:host([part~='disabled']) {\r\n  pointer-events: none;\r\n  color: $disabled-color;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Prop, Watch, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../utils/utils';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-tab-panel-component',\r\n  styleUrl: 'tab-panel-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcTabPanelComponent {\r\n  private emitSelectedChanged = false;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @Prop() selected = false;\r\n  @Prop() disabled = false;\r\n\r\n  @Watch('selected')\r\n  selectedPropChange() {\r\n    this.emitSelectedChanged = true;\r\n  }\r\n\r\n  @Event()\r\n  selectedChanged: EventEmitter<boolean>;\r\n\r\n  componentDidUpdate() {\r\n    if (this.emitSelectedChanged) {\r\n      this.emitSelectedChanged = false;\r\n      this.selectedChanged.emit(this.selected);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const parts = Utils.partNameMap({\r\n      'tab-panel': true,\r\n      selected: this.selected,\r\n      disabled: this.disabled\r\n    });\r\n\r\n    return (\r\n      <Host\r\n        role=\"tabpanel\"\r\n        part={parts}\r\n        style={{\r\n          display: this.selected ? 'block' : 'none'\r\n        }}\r\n      >\r\n        <slot></slot>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n}\r\n",":host {\r\n  display: flex;\r\n  flex-direction: column;\r\n  box-sizing: border-box;\r\n  min-width: 0px;\r\n  min-height: 0px;\r\n}\r\n\r\n.tabs {\r\n  display: flex;\r\n  overflow: hidden;\r\n  min-height: $tab-header-height;\r\n  max-height: $tab-header-height;\r\n  background: $dock-background;\r\n\r\n  &--top {\r\n    padding-top: $tab-header-padding;\r\n\r\n    .tab-headers-container--wrapped {\r\n      flex-wrap: wrap;\r\n    }\r\n  }\r\n\r\n  &--bottom {\r\n    padding-bottom: $tab-header-padding;\r\n\r\n    .tab-headers-container--wrapped {\r\n      flex-wrap: wrap-reverse;\r\n    }\r\n  }\r\n}\r\n\r\n.content {\r\n  flex-grow: 1;\r\n  height: 100%;\r\n  overflow: auto;\r\n}\r\n\r\n.tab-headers-container {\r\n  width: 100%;\r\n  display: flex;\r\n  overflow: hidden;\r\n}\r\n\r\n\r\n.tab-header-icon-container {\r\n  display: flex;\r\n  flex-grow: 1;\r\n  justify-content: flex-end;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, forceUpdate, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../utils/utils';\r\nimport { IGC_DEFAULT_PANE_SIZE, IgcContextMenuMetadata, IgcContextMenuOrientation, IgcTabHeadersPosition } from '../dockmanager/dockmanager.interfaces';\r\nimport { IgcDockManagerResourceStrings } from '../dockmanager/dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nlet NEXT_TAB_ID = 0;\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-tabs-component',\r\n  styleUrl: 'tabs-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcTabsComponent {\r\n  private forcedUpdate = false;\r\n  private selectionOrder: string[] = [];\r\n\r\n  @Element() el!: HTMLIgcTabsComponentElement;\r\n\r\n  @State() hiddenTabsMenuMeta: IgcContextMenuMetadata;\r\n  @State() hasHiddenTabs = false;\r\n\r\n  @Prop() size: number;\r\n  @Prop() maximized: boolean;\r\n  @Prop() allowMaximize = true;\r\n  @Prop() tabHeadersPosition: IgcTabHeadersPosition = IgcTabHeadersPosition.top;\r\n  @Prop({ mutable: true }) selectedIndex: number;\r\n  @Prop() hasHeaders = true;\r\n  @Prop() showHiddenTabsMenu = true;\r\n  @Prop() resourceStrings: IgcDockManagerResourceStrings;\r\n  @Prop() contentIds: string[] = [];\r\n\r\n  @Event() maximize: EventEmitter;\r\n  @Event() maximizeMinimizeFocus: EventEmitter;\r\n\r\n  @Watch('selectedIndex')\r\n  selectedIndexPropertyChanged(newValue: number) {\r\n    this.handleSelectedIndexChanged(newValue);\r\n    this.selectedIndexChanged.emit(newValue);\r\n  }\r\n\r\n  @Event({ bubbles: false }) selectedIndexChanged: EventEmitter<number>;\r\n  @Event({ bubbles: false }) hiddenTabSelected: EventEmitter<number>;\r\n  @Event({ bubbles: false }) selectedTabOutOfView: EventEmitter<number>;\r\n  @Event() rendered: EventEmitter<HTMLIgcTabsComponentElement>;\r\n\r\n  componentWillLoad() {\r\n    this.hiddenTabsMenuMeta = null;\r\n    this.handleSelectedIndexChanged(this.selectedIndex);\r\n    this.checkForActivePane();\r\n  }\r\n\r\n  componentWillUpdate() {\r\n    this.updateSelection();\r\n  }\r\n\r\n  updateSelection() {\r\n    const headers = this.tabHeaders;\r\n\r\n    // if any header is removed - delete its id from selection order & update selected index\r\n    const missingMatchIndex = this.selectionOrder.findIndex(s => headers.findIndex(h => h.id === s) < 0);\r\n    if (missingMatchIndex > -1) {\r\n      this.selectionOrder.splice(missingMatchIndex, 1);\r\n      const newSelectedIndex = headers.findIndex(h => h.id === this.selectionOrder[this.selectionOrder.length - 1]);\r\n      this.selectedIndex = newSelectedIndex > -1 ? newSelectedIndex : 0;\r\n    }\r\n\r\n    const currentSelectionId = headers[this.selectedIndex]?.id;\r\n    const existingMatchIndex = this.selectionOrder.indexOf(currentSelectionId);\r\n    if (existingMatchIndex > -1) {\r\n      this.selectionOrder.splice(existingMatchIndex, 1);\r\n    }\r\n\r\n    if (currentSelectionId) {\r\n      this.selectionOrder.push(currentSelectionId);\r\n    }\r\n  }\r\n\r\n  componentDidRender() {\r\n    this.rendered.emit();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.setTabsAttributes();\r\n\r\n    this.tabHeadersDiv = this.el.shadowRoot.querySelector('div.tabs');\r\n\r\n    if (this.tabHeadersDiv) {\r\n      this.resizeObserver.observe(this.tabHeadersDiv);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.forcedUpdate) {\r\n      this.forcedUpdate = false;\r\n      this.checkForActivePane();\r\n    }\r\n\r\n    this.setHasHiddenTabs();\r\n  }\r\n\r\n  private setTabsAttributes() {\r\n    const tabHeaders = this.tabHeaders;\r\n    const tabPanels = this.tabPanels;\r\n\r\n    for (let i = 0; i < tabHeaders.length; i++) {\r\n      if (!tabHeaders[i].getAttribute('id')) {\r\n        const tabHeaderId = `tab-item-${NEXT_TAB_ID}`;\r\n        const tabPanelId = `tab-panel-${NEXT_TAB_ID++}`;\r\n\r\n        tabPanels[i].setAttribute('id', tabPanelId);\r\n        tabHeaders[i].setAttribute('id', tabHeaderId);\r\n\r\n        tabPanels[i].setAttribute('aria-labelledby', tabHeaderId);\r\n        tabHeaders[i].setAttribute('aria-controls', tabPanelId);\r\n      }\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.resizeObserver.disconnect();\r\n  }\r\n\r\n  private tabHeadersDiv: HTMLElement;\r\n  private resizeObserver = new ResizeObserver(this.tabHeadersDivResized.bind(this));\r\n\r\n  private slotChanged = () => {\r\n    this.setTabsAttributes();\r\n    this.updateSelection();\r\n    this.handleSelectedIndexChanged(this.selectedIndex);\r\n    this.forceUpdate();\r\n  }\r\n\r\n  private forceUpdate() {\r\n    this.forcedUpdate = true;\r\n    forceUpdate(this);\r\n  }\r\n\r\n\r\n  private get tabPanels() {\r\n    return Array.from(this.el.querySelectorAll('igc-tab-panel-component'));\r\n  }\r\n\r\n  private get tabHeaders() {\r\n    return Array.from(this.el.querySelectorAll('igc-tab-header-component'));\r\n  }\r\n\r\n  private get hiddenTabHeaders() {\r\n    const containerTop = this.tabHeaders[0]?.offsetTop;\r\n    return this.tabHeaders.filter(t => t.offsetTop !== containerTop);\r\n  }\r\n\r\n  private handleSelectedIndexChanged(newValue: number) {\r\n    const tabHeaders = this.tabHeaders;\r\n    const tabPanels = this.tabPanels;\r\n\r\n    tabHeaders.forEach((t, i) => {\r\n      t.selected = i === newValue;\r\n    });\r\n\r\n    tabPanels.forEach((t, i) => {\r\n      t.selected = i === newValue;\r\n    });\r\n  }\r\n\r\n  @Listen('tabMouseDown')\r\n  handleTabMouseDown(ev: CustomEvent) {\r\n    const tabHeader = ev.target as HTMLIgcTabHeaderComponentElement;\r\n    const tabHeaders = this.tabHeaders;\r\n    const headerIndex = tabHeaders.indexOf(tabHeader);\r\n    if (headerIndex >= 0 && (!ev.detail.showHeaderIconOnHover || !ev.detail.isIconClicked)) {\r\n      this.selectedIndex = headerIndex;\r\n    }\r\n  }\r\n\r\n  private onTabKeyDown = (ev: KeyboardEvent) => {\r\n    const tabHeaders = this.tabHeaders;\r\n    if (Utils.isAltPressed(ev) || Utils.isControlOrMetaPressed(ev) || ev.shiftKey) {\r\n      return;\r\n    }\r\n\r\n    if (ev.key === 'ArrowRight') {\r\n      for (let i = this.selectedIndex; i < tabHeaders.length - this.hiddenTabHeaders.length - 1; i++) {\r\n        if (!tabHeaders[i + 1].disabled) {\r\n          this.selectedIndex = i + 1;\r\n          tabHeaders[i + 1].focus();\r\n          return;\r\n        }\r\n      }\r\n    } else if (ev.key === 'ArrowLeft') {\r\n      for (let i = this.selectedIndex; i > 0; i--) {\r\n        if (!tabHeaders[i - 1].disabled) {\r\n          this.selectedIndex = i - 1;\r\n          tabHeaders[i - 1].focus();\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private tabHeadersDivResized() {\r\n    const containerTop = this.tabHeaders[0]?.offsetTop;\r\n    const selectedTabHeader = this.tabHeaders.filter(t => t.selected)[0];\r\n    if (selectedTabHeader?.offsetTop !== containerTop) {\r\n      const index = this.selectedIndex;\r\n      this.selectedTabOutOfView.emit(index);\r\n    }\r\n\r\n    this.setHasHiddenTabs();\r\n  }\r\n\r\n  private setHasHiddenTabs() {\r\n    this.hasHiddenTabs = this.hiddenTabHeaders.length > 0;\r\n  }\r\n\r\n  private checkForActivePane() {\r\n    const activeTabHeader = this.tabHeaders.filter(t => t.isActive);\r\n    if (activeTabHeader.length > 0) {\r\n      const hiddenActiveTabIndex = this.hiddenTabHeaders.indexOf(activeTabHeader[0]);\r\n      const activeTabIndex = this.tabHeaders.indexOf(activeTabHeader[0]);\r\n      if (hiddenActiveTabIndex >= 0) {\r\n        this.selectedTabOutOfView.emit(activeTabIndex);\r\n      } else if (activeTabIndex >= 0) {\r\n        this.selectedIndex = activeTabIndex;\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleHiddenTabsMenuClick(ev: CustomEvent<KeyboardEvent>) {\r\n    const button = ev.currentTarget as HTMLElement;\r\n\r\n    const items = this.hiddenTabHeaders.map(header => ({\r\n      displayText: header.header,\r\n      disabled: header.disabled,\r\n      iconName: null,\r\n      clickHandler: () => {\r\n        const index = this.tabHeaders.indexOf(header);\r\n        this.hiddenTabSelected.emit(index);\r\n      }\r\n    }));\r\n\r\n    this.hiddenTabsMenuMeta = { target: button, menuItems: items, position: 'end' };\r\n  }\r\n\r\n  private handleContextMenuClosed() {\r\n    this.hiddenTabsMenuMeta = null;\r\n  }\r\n\r\n  private maximizeButtonClick = () => {\r\n    this.maximize.emit();\r\n  }\r\n\r\n  private handleMaximizeMinimizeFocus = () => {\r\n    this.maximizeMinimizeFocus.emit();\r\n  }\r\n\r\n  private renderHiddenTabsMenu() {\r\n    return this.hiddenTabsMenuMeta && (\r\n      <igc-context-menu-component\r\n        onMenuClosed={this.handleContextMenuClosed.bind(this)}\r\n        orientation={this.tabHeadersPosition === IgcTabHeadersPosition.top ? IgcContextMenuOrientation.bottom : IgcContextMenuOrientation.top}\r\n        items={this.hiddenTabsMenuMeta.menuItems}\r\n        target={this.hiddenTabsMenuMeta.target}\r\n        position={this.hiddenTabsMenuMeta.position}\r\n      >\r\n      </igc-context-menu-component>);\r\n  }\r\n\r\n  private renderTabHeaders(top: boolean) {\r\n    const classes = {\r\n      'tabs': true,\r\n      'tabs--top': top,\r\n      'tabs--bottom': !top\r\n    };\r\n\r\n    const commontParts = { top, bottom: !top };\r\n\r\n    const tabStripParts = Utils.partNameMap({ 'tab-strip-area': true, ...commontParts });\r\n    const tabStripActionsParts = Utils.partNameMap({\r\n      'tab-strip-actions': true,\r\n      ...commontParts\r\n    });\r\n\r\n    return (\r\n      <div\r\n        part={tabStripParts}\r\n        style={{\r\n          display: this.hasHeaders ? 'flex' : 'none'\r\n        }}\r\n        class={classes}\r\n        onKeyDown={this.onTabKeyDown}\r\n      >\r\n        <div\r\n          class={{\r\n            'tab-headers-container': true,\r\n            'tab-headers-container--wrapped': this.showHiddenTabsMenu\r\n          }}\r\n        >\r\n          <slot name=\"tabHeader\"></slot>\r\n        </div>\r\n        <div part={tabStripActionsParts} class=\"tab-header-icon-container\">\r\n          {this.showHiddenTabsMenu && this.hasHiddenTabs &&\r\n            <div onClick={this.handleHiddenTabsMenuClick.bind(this)}>\r\n              {this.renderMoreTabsButton()}\r\n            </div>}\r\n           { !(this.showHiddenTabsMenu && this.hasHiddenTabs) &&\r\n            <span style={{ width: '25px' }}></span>\r\n          }\r\n          {this.allowMaximize &&\r\n            <div onClick={this.maximizeButtonClick} onFocusin={this.handleMaximizeMinimizeFocus}>\r\n              {this.maximized ? this.renderMinimizeButton() : this.renderMaximizeButton()}\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderMoreTabsButton() {\r\n    return (\r\n      <span>\r\n        <slot name=\"tabsMoreButton\">\r\n          <igc-button-component part=\"tabs-more-button\">\r\n            <igc-icon-component\r\n              name=\"more\"\r\n              aria-label={this.resourceStrings.moreTabs}\r\n              title={this.resourceStrings.moreTabs}\r\n              style={{\r\n                display: 'block'\r\n              }}\r\n            />\r\n          </igc-button-component>\r\n        </slot>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private renderMaximizeButton() {\r\n    return (\r\n      <div>\r\n        <slot name=\"tabsMaximizeButton\">\r\n          <igc-button-component part=\"tabs-maximize-button\">\r\n            <igc-icon-component\r\n              name=\"maximize\"\r\n              aria-label={this.resourceStrings.maximize}\r\n              title={this.resourceStrings.maximize}\r\n            />\r\n          </igc-button-component>\r\n        </slot>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderMinimizeButton() {\r\n    return (\r\n      <slot name=\"tabsMinimizeButton\">\r\n        <igc-button-component part=\"tabs-minimize-button\">\r\n          <igc-icon-component\r\n            name=\"minimize\"\r\n            aria-label={this.resourceStrings.minimize}\r\n            title={this.resourceStrings.minimize}\r\n          />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\r\n    const top = this.tabHeadersPosition === IgcTabHeadersPosition.top;\r\n    const bottom = this.tabHeadersPosition === IgcTabHeadersPosition.bottom;\r\n    const contentIds = this.contentIds.join(' ');\r\n    const parts = \"tabs-container \" + contentIds;\r\n\r\n    const tabsContentParts = Utils.partNameMap({ 'tabs-content': true, document: top });\r\n    const exportParts = Utils.partNameMap({\r\n      'tab-strip-area': true,\r\n      'tab-strip-actions': true,\r\n      'tabs-content': true,\r\n      'tabs-more-button': true,\r\n      'tabs-maximize-button': true,\r\n      'tabs-minimize-button': true,\r\n      'context-menu-content: tabs-more-menu-content': true,\r\n      'context-menu-item: tabs-more-menu-item': true,\r\n      document: top,\r\n      top,\r\n      bottom\r\n    }, ',');\r\n\r\n    return (\r\n      <Host\r\n        role=\"tablist\"\r\n        style={{\r\n          flex: `${size} 1 ${size}px`\r\n        }}\r\n        exportparts={exportParts}\r\n        part={parts}\r\n      >\r\n        {top && this.renderTabHeaders(top)}\r\n        <div part={tabsContentParts} class=\"content\">\r\n          <slot onSlotchange={this.slotChanged.bind(this)}></slot>\r\n        </div>\r\n        {bottom && this.renderTabHeaders(top)}\r\n        {this.renderHiddenTabsMenu()}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  font-size: 12px;\r\n  padding: 4px;\r\n  margin-right: 4px;\r\n  color: $pinned-header-text;\r\n  background: $pinned-header-background;\r\n  cursor: pointer;\r\n  outline-style: none;\r\n}\r\n\r\n:host([part~='vertical']) {\r\n  writing-mode: tb-rl;\r\n  margin-right: unset;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n:host([part~='active']) {\r\n  color: $active-color;\r\n  box-shadow: inset 0 -2px 0 0 $active-color;\r\n}\r\n\r\n:host([part~='vertical'][part~='active']) {\r\n  box-shadow: inset 2px 0 0 0 $active-color;\r\n}\r\n\r\n:host([part~='disabled']) {\r\n  pointer-events: none;\r\n  color: $disabled-color;\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IgcUnpinnedLocation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-unpinned-pane-header-component',\r\n  styleUrl: 'unpinned-pane-header-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcUnpinnedPaneHeaderComponent {\r\n  @Prop() location: IgcUnpinnedLocation;\r\n  @Prop() isActive: boolean;\r\n  @Prop() disabled = false;\r\n\r\n  render() {\r\n    const isHorizontal = this.location === IgcUnpinnedLocation.top || this.location === IgcUnpinnedLocation.bottom;\r\n    const isLeft = this.location === IgcUnpinnedLocation.left;\r\n    const isRight = this.location === IgcUnpinnedLocation.right;\r\n    const isTop = this.location === IgcUnpinnedLocation.top;\r\n    const isBottom = this.location === IgcUnpinnedLocation.bottom;\r\n\r\n    const parts = Utils.partNameMap({\r\n      'unpinned-pane-header': true,\r\n      horizontal: isHorizontal,\r\n      vertical: !isHorizontal,\r\n      start: isLeft || isTop,\r\n      end: isRight || isBottom,\r\n      active: this.isActive,\r\n      disabled: this.disabled,\r\n    });\r\n\r\n    return (\r\n      <Host\r\n        part={parts}\r\n        role=\"tab\"\r\n        aria-disabled={this.disabled ? 'true' : 'false'}\r\n        tabindex={this.disabled ? -1 : 0}\r\n      >\r\n        <slot></slot>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n/* igc-dockmanager {\r\n  background-color: gray;\r\n}\r\n\r\nigc-dockmanager::part(pane-header) {\r\n  background-color: white;\r\n}\r\n\r\nigc-dockmanager::part(splitter) {\r\n  flex: 0 0 15px;\r\n  pointer-events: none;\r\n  visibility: hidden;\r\n}\r\n\r\nigc-dockmanager::part(splitter-base) {\r\n  background: transparent;\r\n  pointer-events: none;\r\n}\r\n\r\nigc-dockmanager::part(splitter-base)::after {\r\n  content: none;\r\n}\r\n\r\nigc-dockmanager::part(content-pane) {\r\n  border-radius: 10px;\r\n}\r\n\r\nigc-dockmanager::part(context-menu) {\r\n  background-color: wheat;\r\n}\r\n\r\nigc-dockmanager::part(floating-window) {\r\n  border-color: red;\r\n}\r\n\r\nigc-dockmanager::part(pane-header) {\r\n  display: none;\r\n}\r\n\r\nigc-dockmanager::part(document-tab-header) {\r\n  display: none;\r\n}\r\n\r\nigc-dockmanager::part(tab-strip-area) {\r\n  display: none;\r\n}\r\n\r\nigc-dockmanager::part(document-panel) {\r\n  padding: 10px;\r\n}\r\n\r\nigc-dockmanager::part(root-docking-indicator) {\r\n  background-color: red;\r\n}\r\n\r\nigc-dockmanager::part(docking-indicator) {\r\n  background-color: chocolate;\r\n}\r\n\r\nigc-dockmanager::part(docking-preview) {\r\n  background-color: chocolate;\r\n}\r\n\r\nigc-dockmanager::part(unpinned-pane-header) {\r\n  background-color: lightgreen;\r\n}\r\n\r\nigc-dockmanager::part(pane-header-actions) {\r\n  background-color: lightgreen;\r\n}\r\n\r\nigc-dockmanager::part(floating-pane-header-actions) {\r\n  background-color: lightpink;\r\n}\r\n\r\nigc-dockmanager::part(floating-window-header-actions) {\r\n  visibility: collapse;\r\n  pointer-events: none;\r\n}\r\n\r\nigc-dockmanager::part(tab-strip-actions) {\r\n  visibility: collapse;\r\n  pointer-events: none;\r\n} \r\n\r\nigc-dockmanager::part(tabs-more-button) {\r\n  color: red;\r\n}\r\n\r\nigc-dockmanager::part(context-menu-item) {\r\n  background-color: greenyellow;\r\n}\r\n\r\nigc-dockmanager::part(context-menu-content) {\r\n  background-color: coral;\r\n  padding: 5px;\r\n}\r\n\r\nigc-dockmanager::part(tabs-more-menu-content) {\r\n  background-color: plum;\r\n  padding: 5px;\r\n}\r\n\r\nigc-dockmanager::part(tabs-more-menu-item) {\r\n  background-color: cyan;\r\n} \r\n\r\nigc-dockmanager::part(content2) {\r\n  min-width: 350px;\r\n  max-height: 550px;\r\n} \r\n\r\nigc-dockmanager::part(content10) {\r\n  min-width: 350px;\r\n  max-width: 500px;\r\n  min-height: 350px;\r\n}\r\n\r\nigc-dockmanager::part(content11) {\r\n  min-width: 350px;\r\n  max-width: 500px;\r\n  min-height: 350px;\r\n}\r\n*/","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { addResourceStrings } from '../..';\r\nimport {\r\n  IgcActivePaneEventArgs, IgcContentPane, IgcDockManagerComponent, IgcDockManagerLayout, IgcDockManagerPane, IgcDockManagerPaneType, IgcDockManagerResourceStrings, IgcDockingIndicatorPosition, IgcFloatingPaneResizeEventArgs, IgcFloatingPaneResizeMoveEventArgs, IgcPaneCloseEventArgs, IgcPaneDragActionType,\r\n  IgcPaneDragOverEventArgs, IgcPanePinnedEventArgs, IgcPaneScrollEventArgs, IgcSplitPaneOrientation, IgcTabGroupPane, IgcUnpinnedLocation\r\n} from '../dockmanager/dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nconst customResourceStrings: IgcDockManagerResourceStrings = {\r\n  close: '[Custom]Close',\r\n  pin: '[Custom]Pin',\r\n  unpin: '[Custom]Unpin',\r\n  maximize: '[Custom]Maximize',\r\n  minimize: '[Custom]Minimize',\r\n  moreOptions: '[Custom]More options'\r\n};\r\naddResourceStrings('custom', customResourceStrings);\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'sample-component',\r\n  styleUrl: 'sample-component.css',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class SampleComponent {\r\n  @Prop({ mutable: true })\r\n  hiddenPanes: IgcContentPane[] = [];\r\n\r\n  dockManager: IgcDockManagerComponent;\r\n\r\n  private teamExplorerPane: IgcContentPane = {\r\n    type: IgcDockManagerPaneType.contentPane,\r\n    header: 'Team Explorer',\r\n    contentId: 'content7',\r\n    allowMaximize: true\r\n  };\r\n\r\n  private unpinnedToolboxPane: IgcContentPane = {\r\n    type: IgcDockManagerPaneType.contentPane,\r\n    header: 'Toolbox',\r\n    contentId: 'content1',\r\n    isPinned: false,\r\n    unpinnedHeaderId: \"toolboxHeader\"\r\n  };\r\n\r\n  private unpinnedTeamExplorerPane: IgcContentPane = {\r\n    type: IgcDockManagerPaneType.contentPane,\r\n    header: 'Team Explorer',\r\n    contentId: 'content14',\r\n    isPinned: false,\r\n    unpinnedHeaderId: \"teamExplorerHeader\"\r\n  };\r\n\r\n  layout1: IgcDockManagerLayout = {\r\n    rootPane: {\r\n      type: IgcDockManagerPaneType.splitPane,\r\n      orientation: IgcSplitPaneOrientation.horizontal,\r\n      panes: [\r\n        this.unpinnedToolboxPane,\r\n        this.unpinnedTeamExplorerPane,\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          size: 300,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.documentHost,\r\n              size: 300,\r\n              rootPane: {\r\n                type: IgcDockManagerPaneType.splitPane,\r\n                orientation: IgcSplitPaneOrientation.horizontal,\r\n                allowEmpty: true,\r\n                panes: [\r\n                  {\r\n                    type: IgcDockManagerPaneType.tabGroupPane,\r\n                    panes: [\r\n                      {\r\n                        type: IgcDockManagerPaneType.contentPane,\r\n                        header: 'MainWindow.xaml',\r\n                        contentId: 'content2',\r\n                        documentOnly: true,\r\n                        // allowMaximize: false,\r\n                      },\r\n                      {\r\n                        type: IgcDockManagerPaneType.contentPane,\r\n                        header: 'MainWindow.xaml.cs',\r\n                        contentId: 'content6',\r\n                        documentOnly: true,\r\n                        allowFloating: false\r\n                      }\r\n                    ]\r\n                  },\r\n                  {\r\n                    type: IgcDockManagerPaneType.contentPane,\r\n                    header: 'App.xaml',\r\n                    contentId: 'content8',\r\n                    allowMaximize: true,\r\n                    acceptsInnerDock: false\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.splitPane,\r\n              orientation: IgcSplitPaneOrientation.horizontal,\r\n              allowEmpty: true,\r\n              panes: []\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              header: 'Error List',\r\n              contentId: 'content3',\r\n              allowDocking: false,\r\n              allowFloating: false,\r\n              allowMaximize: false\r\n            }]\r\n        },\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.tabGroupPane,\r\n              size: 200,\r\n              allowEmpty: true,\r\n              panes: [\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  header: 'Solution Explorer',\r\n                  headerId: 'header1',\r\n                  tabHeaderId: 'tabHeader1',\r\n                  unpinnedHeaderId: 'unpinnedHeader1',\r\n                  contentId: 'content4',\r\n                  allowMaximize: false\r\n                },\r\n                this.teamExplorerPane\r\n              ]\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              header: 'Properties',\r\n              contentId: 'content5',\r\n              unpinnedLocation: IgcUnpinnedLocation.top,\r\n              allowFloating: false,\r\n              allowMaximize: false\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    floatingPanes: [\r\n      {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: IgcSplitPaneOrientation.horizontal,\r\n        floatingLocation: { x: 50, y: 100 },\r\n        floatingWidth: 200,\r\n        floatingHeight: 100,\r\n        panes: [\r\n          {\r\n            type: IgcDockManagerPaneType.contentPane,\r\n            header: 'Notifications',\r\n            contentId: 'content9',\r\n            allowDocking: false\r\n          }\r\n        ],\r\n        // floatingResizable: true\r\n      },\r\n      {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        allowEmpty: true,\r\n        orientation: IgcSplitPaneOrientation.horizontal,\r\n        floatingLocation: { x: 250, y: 350 },\r\n        floatingWidth: 300,\r\n        floatingHeight: 200,\r\n        panes: [\r\n          {\r\n            type: IgcDockManagerPaneType.contentPane,\r\n            header: 'Floating 1',\r\n            contentId: 'content10',\r\n            acceptsInnerDock: false\r\n          },\r\n          {\r\n            type: IgcDockManagerPaneType.contentPane,\r\n            header: 'Floating 2',\r\n            contentId: 'content11',\r\n            allowMaximize: false\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: IgcSplitPaneOrientation.horizontal,\r\n        floatingLocation: { x: 750, y: 200 },\r\n        floatingWidth: 300,\r\n        floatingHeight: 200,\r\n        panes: [\r\n          {\r\n            type: IgcDockManagerPaneType.tabGroupPane,\r\n            allowEmpty: true,\r\n            panes: [\r\n              {\r\n                type: IgcDockManagerPaneType.contentPane,\r\n                header: 'Floating Tab 1',\r\n                contentId: 'content12'\r\n              },\r\n              {\r\n                type: IgcDockManagerPaneType.contentPane,\r\n                header: 'Floating Tab 2',\r\n                contentId: 'content13'\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  layout2: IgcDockManagerLayout = {\r\n    rootPane: {\r\n      type: IgcDockManagerPaneType.splitPane,\r\n      orientation: IgcSplitPaneOrientation.horizontal,\r\n      panes: [\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              contentId: 'content1',\r\n              header: 'Content Pane 1'\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              contentId: 'content2',\r\n              header: 'Unpinned Pane 1',\r\n              isPinned: false\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          size: 200,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.documentHost,\r\n              size: 200,\r\n              rootPane: {\r\n                type: IgcDockManagerPaneType.splitPane,\r\n                orientation: IgcSplitPaneOrientation.horizontal,\r\n                panes: [\r\n                  {\r\n                    type: IgcDockManagerPaneType.tabGroupPane,\r\n                    panes: [\r\n                      {\r\n                        type: IgcDockManagerPaneType.contentPane,\r\n                        header: 'Document 1',\r\n                        contentId: 'content3'\r\n                      },\r\n                      {\r\n                        type: IgcDockManagerPaneType.contentPane,\r\n                        header: 'Document 2',\r\n                        contentId: 'content4'\r\n                      }\r\n                    ]\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              contentId: 'content5',\r\n              header: 'Unpinned Pane 2',\r\n              isPinned: false\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.tabGroupPane,\r\n              size: 200,\r\n              // selectedIndex: 1,\r\n              panes: [\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content6',\r\n                  header: 'Tab 1'\r\n                },\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content7',\r\n                  header: 'Tab 2'\r\n                },\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content8',\r\n                  header: 'Tab 3'\r\n                },\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content9',\r\n                  header: 'Tab 4'\r\n                },\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content10',\r\n                  header: 'Tab 5'\r\n                }\r\n\r\n              ]\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              contentId: 'content11',\r\n              header: 'Content Pane 2'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    floatingPanes: [\r\n      {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: IgcSplitPaneOrientation.horizontal,\r\n        floatingHeight: 150,\r\n        floatingWidth: 250,\r\n        floatingLocation: { x: 300, y: 200 },\r\n        panes: [\r\n          {\r\n            type: IgcDockManagerPaneType.contentPane,\r\n            contentId: 'content12',\r\n            header: 'Floating Pane'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  layout: IgcDockManagerLayout = this.layout1;\r\n\r\n  private hiddenPanesSelect: HTMLSelectElement;\r\n  private hideOnCloseCheckbox: HTMLInputElement;\r\n  private savedLayout: string;\r\n  private logEnabled = false;\r\n\r\n  private saveLayout() {\r\n    this.savedLayout = JSON.stringify(this.dockManager.layout);\r\n  }\r\n\r\n  private loadLayout() {\r\n    this.dockManager.layout = JSON.parse(this.savedLayout);\r\n  }\r\n\r\n  private setActivePane() {\r\n    // this.dockManager.activePane = this.teamExplorerPane;\r\n    this.dockManager.activePane = this.unpinnedToolboxPane;\r\n  }\r\n\r\n  private id = 100;\r\n  private newId: string;\r\n\r\n  private addPane() {\r\n    this.newId = `content${this.id++}`;\r\n    const newDiv = this.createElement(this.newId, 'input');\r\n    this.dockManager.appendChild(newDiv);\r\n\r\n    this.layout.floatingPanes[1].panes.push({\r\n      type: IgcDockManagerPaneType.contentPane,\r\n      header: 'NewPane',\r\n      contentId: this.newId\r\n    });\r\n\r\n    this.dockManager.layout = { ...this.layout };\r\n  }\r\n\r\n  private addTab() {\r\n    this.findElement(this.layout.rootPane, IgcDockManagerPaneType.tabGroupPane);\r\n\r\n    this.newId = `content${this.id++}`;\r\n    const newDiv = this.createElement(this.newId, 'button');\r\n    this.dockManager.appendChild(newDiv);\r\n\r\n    const tabGroupPane = this.foundElem[0] as IgcTabGroupPane;\r\n    tabGroupPane.panes.push({\r\n      type: IgcDockManagerPaneType.contentPane,\r\n      header: 'NewTab',\r\n      contentId: this.newId\r\n    });\r\n\r\n    this.dockManager.layout = { ...this.layout };\r\n  }\r\n\r\n  private disableContentPane() {\r\n    this.findElement(this.layout.rootPane, IgcDockManagerPaneType.tabGroupPane);\r\n\r\n    const tabGroupPane = this.foundElem[0] as IgcTabGroupPane;\r\n    tabGroupPane.panes[0].disabled = true;\r\n    this.dockManager.layout = { ...this.layout };\r\n  }\r\n\r\n  private toggleProximityDock() {\r\n    this.dockManager.proximityDock = !this.dockManager.proximityDock;\r\n  }\r\n\r\n  private focusPane() {\r\n    this.dockManager.focusPane('content12');\r\n  }\r\n\r\n  private foundElem: IgcDockManagerPane[] = [];\r\n  private findElement(pane: IgcDockManagerPane, type: IgcDockManagerPaneType) {\r\n    if (!pane) { return; }\r\n\r\n    if (pane.type === type) {\r\n      this.foundElem.push(pane);\r\n    }\r\n\r\n    if (pane.type === IgcDockManagerPaneType.tabGroupPane || pane.type === IgcDockManagerPaneType.splitPane) {\r\n      for (const c of pane.panes) {\r\n        this.findElement(c, type);\r\n      }\r\n    }\r\n\r\n    if (pane.type === IgcDockManagerPaneType.documentHost) {\r\n      this.findElement(pane.rootPane, type);\r\n    }\r\n  }\r\n\r\n  private showPane() {\r\n    const index = this.hiddenPanesSelect.selectedIndex;\r\n\r\n    if (index >= 0) {\r\n      this.hiddenPanes[index].hidden = false;\r\n      this.hiddenPanes.splice(index, 1);\r\n      this.hiddenPanes = [...this.hiddenPanes];\r\n      this.dockManager.layout = { ...this.dockManager.layout };\r\n    }\r\n  }\r\n\r\n  private showAllPanes() {\r\n    if (this.hiddenPanes.length > 0) {\r\n      for (const pane of this.hiddenPanes) {\r\n        pane.hidden = false;\r\n      }\r\n      this.hiddenPanes = [];\r\n      this.dockManager.layout = { ...this.dockManager.layout };\r\n    }\r\n  }\r\n\r\n  private toggleInBoundaries() {\r\n    this.dockManager.containedInBoundaries = !this.dockManager.containedInBoundaries;\r\n  }\r\n\r\n  private createElement(content: string, typeOfElement: string): HTMLElement {\r\n    const someContent = document.createTextNode(content);\r\n    let elem: HTMLElement;\r\n    switch (typeOfElement) {\r\n      case ('button'):\r\n        elem = document.createElement('button');\r\n        elem.appendChild(someContent);\r\n        break;\r\n      case ('input'):\r\n        elem = document.createElement('input');\r\n        break;\r\n    }\r\n\r\n    const divContent = document.createElement('div');\r\n    divContent.appendChild(elem ? elem : someContent);\r\n    divContent.setAttribute('slot', content);\r\n    divContent.setAttribute('style', 'width: 100%; height: 100%;');\r\n\r\n    return divContent;\r\n  }\r\n\r\n  private handlePaneClose(event: CustomEvent<IgcPaneCloseEventArgs>) {\r\n    this.log(event);\r\n\r\n    if (this.hideOnCloseCheckbox.checked) {\r\n      for (const pane of event.detail.panes) {\r\n        pane.hidden = true;\r\n        this.hiddenPanes.splice(0, 0, pane);\r\n        this.hiddenPanes = [...this.hiddenPanes];\r\n      }\r\n      event.preventDefault();\r\n    }\r\n\r\n    // const panes = event.detail.panes;\r\n    // const confirmed = confirm(`Are you sure you want to close panes '${panes.map(p => p.header).join(', ')}'?`);\r\n    // // event.detail.panes = [panes[0]];\r\n    // if (confirmed) {\r\n    //   for (const pane of panes) {\r\n    //     const contentChild = this.dockManager.querySelector(`[slot=${pane.contentId}]`);\r\n    //     this.dockManager.removeChild(contentChild);\r\n    //   }\r\n    // } else {\r\n    //   event.preventDefault();\r\n    // }\r\n  }\r\n\r\n  private handlePaneScroll(event: CustomEvent<IgcPaneScrollEventArgs>) {\r\n    this.log(event);\r\n\r\n    // // check if the pane content is scrolled to bottom\r\n    // let scrolledToBottom = false;\r\n    // const contentEl = event.detail.contentElement;\r\n    // if (contentEl.scrollHeight - contentEl.scrollTop - contentEl.clientHeight < 1)\r\n    // {\r\n    //   scrolledToBottom = true;\r\n    // }\r\n    // this.log(\"Scrolled to bottom: \" + scrolledToBottom);\r\n  }\r\n\r\n  private handlePinnedToggle(event: CustomEvent<IgcPanePinnedEventArgs>) {\r\n    this.log(event);\r\n    // if (event.detail.sourcePane.type === IgcDockManagerPaneType.contentPane) {\r\n    //   event.detail.panes = [event.detail.sourcePane];\r\n    // }\r\n    // event.preventDefault();\r\n  }\r\n\r\n  private handleActivePaneChanged(event: CustomEvent<IgcActivePaneEventArgs>) {\r\n    this.log(event);\r\n  }\r\n\r\n  private handleDragStart(event: CustomEvent) {\r\n    this.log(event);\r\n\r\n    // event.preventDefault();\r\n  }\r\n\r\n  private handleDragOver(event: CustomEvent<IgcPaneDragOverEventArgs>) {\r\n    const args = event.detail;\r\n    this.log(args.action);\r\n\r\n    if (args.action.type === IgcPaneDragActionType.dockPane) {\r\n      if (args.action.dockingIndicator.position === IgcDockingIndicatorPosition.left) {\r\n        // args.isValid = false;\r\n      }\r\n    } else if (args.action.type === IgcPaneDragActionType.floatPane) {\r\n      // args.action.height = Math.min(args.action.height, 500);\r\n      // args.isValid = false;\r\n    } else if (args.action.type === IgcPaneDragActionType.moveFloatingPane) {\r\n      // if (args.action.newLocation.y < 0) {\r\n      //   args.isValid = false;\r\n      // }\r\n    }\r\n  }\r\n\r\n  private handleDragEnd(event: CustomEvent) {\r\n    this.log(event);\r\n  }\r\n\r\n  private handleSplitterResizeStart(event: CustomEvent) {\r\n    this.log(event, { ...event.detail });\r\n    // event.preventDefault();\r\n  }\r\n\r\n  private handleSplitterResizeEnd(event: CustomEvent) {\r\n    this.log(event, { ...event.detail });\r\n  }\r\n\r\n  private handleFloatingPaneResizeStart(event: CustomEvent<IgcFloatingPaneResizeEventArgs>) {\r\n    this.log(event, { ...event.detail });\r\n    // event.preventDefault();\r\n  }\r\n\r\n  private handleFloatingPaneResizeMove(event: CustomEvent<IgcFloatingPaneResizeMoveEventArgs>) {\r\n    this.log(event, { ...event.detail });\r\n  }\r\n\r\n  private handleFloatingPaneResizeEnd(event: CustomEvent<IgcFloatingPaneResizeEventArgs>) {\r\n    this.log(event, { ...event.detail });\r\n  }\r\n\r\n  private handleLayoutChange(event: CustomEvent<any>) {\r\n    this.log(event);\r\n  }\r\n\r\n  // private getCustomResourceStrings(): IgcDockManagerResourceStrings {\r\n  //   const customResourceStrings: IgcDockManagerResourceStrings = {\r\n  //     close: '[Custom]Close',\r\n  //     pin: '[Custom]Pin',\r\n  //     unpin: '[Custom]Unpin',\r\n  //     maximize: '[Custom]Maximize',\r\n  //     minimize: '[Custom]Minimize',\r\n  //     moreOptions: '[Custom]More options'\r\n  //   };\r\n\r\n  //   return customResourceStrings;\r\n  // }\r\n\r\n  private log(message?: any, ...optionalParams: any[]) {\r\n    if (this.logEnabled) {\r\n      console.log(message, optionalParams);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (<Host>\r\n      <div>\r\n        <button onClick={() => this.saveLayout()}>Save Layout</button>\r\n        <button onClick={() => this.loadLayout()}>Load Layout</button>\r\n        <button onClick={() => this.setActivePane()}>Set Active Pane</button>\r\n        <button onClick={() => this.addPane()}>Add Floating Pane</button>\r\n        <button onClick={() => this.addTab()}>Add Tab Pane</button>\r\n        <button onClick={() => this.disableContentPane()}>Disable Tab Pane</button>\r\n        <button onClick={() => this.focusPane()}>Focus Pane</button>\r\n        <button onClick={() => this.toggleProximityDock()}>Toggle Proximity Dock</button>\r\n        <input\r\n          id=\"hideOnClose\"\r\n          type=\"checkbox\"\r\n          style={{ marginLeft: '20px' }}\r\n          ref={el => this.hideOnCloseCheckbox = el}\r\n        />\r\n        <label htmlFor=\"hideOnClose\">Hide on close</label>\r\n        <span style={{ marginLeft: '20px' }}>Hidden Panes:</span>\r\n        <select\r\n          style={{ width: '150px' }}\r\n          ref={el => this.hiddenPanesSelect = el}\r\n        >\r\n          {this.hiddenPanes.map(p => {\r\n            return (\r\n              <option value={p.id}>{p.header}</option>\r\n            );\r\n          })}\r\n        </select>\r\n        <button onClick={() => this.showPane()}>Show Pane</button>\r\n        <button onClick={() => this.showAllPanes()}>Show All Panes</button>\r\n        <button onClick={() => this.toggleInBoundaries()}>Toggle In Boundaries</button>\r\n      </div>\r\n      <igc-dockmanager\r\n        layout={this.layout}\r\n        onPaneClose={this.handlePaneClose.bind(this)}\r\n        onPaneScroll={this.handlePaneScroll.bind(this)}\r\n        onPanePinnedToggle={this.handlePinnedToggle.bind(this)}\r\n        onActivePaneChanged={this.handleActivePaneChanged.bind(this)}\r\n        onPaneDragStart={this.handleDragStart.bind(this)}\r\n        onPaneDragOver={this.handleDragOver.bind(this)}\r\n        onPaneDragEnd={this.handleDragEnd.bind(this)}\r\n        onSplitterResizeStart={this.handleSplitterResizeStart.bind(this)}\r\n        onSplitterResizeEnd={this.handleSplitterResizeEnd.bind(this)}\r\n        onFloatingPaneResizeStart={this.handleFloatingPaneResizeStart.bind(this)}\r\n        onFloatingPaneResizeMove={this.handleFloatingPaneResizeMove.bind(this)}\r\n        onFloatingPaneResizeEnd={this.handleFloatingPaneResizeEnd.bind(this)}\r\n        onLayoutChange={this.handleLayoutChange.bind(this)}\r\n        // resourceStrings={this.getCustomResourceStrings()}\r\n        ref={el => this.dockManager = el}\r\n        // allowFloatingPanesResize={false}\r\n        showHeaderIconOnHover={'closeOnly'}\r\n        // contextMenuPosition='start'\r\n        // allowInnerDock={false}\r\n        // proximityDock={true}\r\n        // showPaneHeaders='onHoverOnly'\r\n      >\r\n        <div slot=\"header1\">\r\n          <span style={{ color: 'red' }}>Solution Explorer</span>\r\n          <button>H</button>\r\n        </div>\r\n        <div slot=\"tabHeader1\">\r\n          <span style={{ color: 'orange' }}>Solution Explorer</span>\r\n          <button>T</button>\r\n        </div>\r\n        <div slot=\"unpinnedHeader1\">\r\n          <span style={{ color: 'blue' }}>Solution Explorer</span>\r\n          <button>U</button>\r\n        </div>\r\n\r\n        <button style={{ background: 'pink' }} slot=\"tabHeaderCloseButton\">Y</button>\r\n        {/* <button style={{ background: 'aqua' }} slot=\"paneHeaderCloseButton\">X</button>\r\n        <button style={{ background: 'pink' }} slot=\"tabHeaderCloseButton\">Y</button>\r\n        <button style={{ background: 'lightblue' }} slot=\"moreTabsButton\">...</button>\r\n        <button style={{ background: 'aqua' }} slot=\"maximizeButton\"></button>\r\n        <button style={{ background: 'mediumvioletred' }} slot=\"minimizeButton\"></button>\r\n        <button style={{ background: 'lightgreen' }} slot=\"pinButton\">P</button>\r\n         <button style={{ background: 'red' }} slot=\"unpinButton\">U</button>\r\n        <button style={{ background: 'blue' }} slot=\"moreOptionsButton\"><div><span></span></div></button>\r\n        <button style={{ background: 'green' }} slot=\"splitterHandle\">S</button> */}\r\n\r\n        <div slot=\"content1\" style={{ width: '100%', height: '100%' }}>Content 1</div>\r\n        <div slot=\"content2\" style={{ width: '100%', height: '100%' }}>\r\n          <button>Tests</button>\r\n        </div>\r\n        <div slot=\"content3\" style={{ width: '100%', height: '100%' }}>Content 3</div>\r\n        <div slot=\"content4\">Content 4</div>\r\n        <div slot=\"content5\" style={{ width: '100%', height: '100%' }}>Content 5</div>\r\n        <div slot=\"content6\" style={{ width: '100%', height: '100%' }}>Content 6</div>\r\n        <div slot=\"content7\" style={{ width: '100%', height: '100%' }}>Content 7</div>\r\n        <div slot=\"content8\">Content 8</div>\r\n        <div slot=\"content9\" style={{ width: '100%', height: '100%' }}>Content 9</div>\r\n        <div slot=\"content10\" style={{ width: '100%', height: '100%' }}>\r\n          <button>Test</button>\r\n        </div>\r\n        <div slot=\"content11\" style={{ width: '100%', height: '100%' }}>\r\n          <input />\r\n        </div>\r\n        <div slot=\"content12\" style={{ width: '100%', height: '100%' }}>\r\n          <p>Content 12 </p>\r\n          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. </p>\r\n        </div>\r\n        <div slot=\"content13\" style={{ width: '100%', height: '100%' }}>Content 13</div>\r\n        <div slot=\"content14\" style={{ width: '100%', height: '100%' }}>Content 14</div>\r\n\r\n        <div slot=\"toolboxHeader\">\r\n          <span>[U] Toolbox</span>\r\n        </div>\r\n        <div slot=\"teamExplorerHeader\">\r\n          <span>[U] Team Explorer</span>\r\n        </div>\r\n\r\n      </igc-dockmanager>\r\n    </Host>);\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}