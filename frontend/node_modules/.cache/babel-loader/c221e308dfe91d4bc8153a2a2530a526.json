{"ast":null,"code":"import _slicedToArray from \"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback, useEffect, useState } from 'react';\nimport { useEventListener } from '..';\nfunction useReadLocalStorage(key) {\n  var readValue = useCallback(function () {\n    if (typeof window === 'undefined') {\n      return null;\n    }\n    try {\n      var item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : null;\n    } catch (error) {\n      console.warn(\"Error reading localStorage key \\u201C\".concat(key, \"\\u201D:\"), error);\n      return null;\n    }\n  }, [key]);\n  var _useState = useState(readValue),\n    _useState2 = _slicedToArray(_useState, 2),\n    storedValue = _useState2[0],\n    setStoredValue = _useState2[1];\n  useEffect(function () {\n    setStoredValue(readValue());\n  }, []);\n  var handleStorageChange = useCallback(function (event) {\n    if ((event === null || event === void 0 ? void 0 : event.key) && event.key !== key) {\n      return;\n    }\n    setStoredValue(readValue());\n  }, [key, readValue]);\n  useEventListener('storage', handleStorageChange);\n  useEventListener('local-storage', handleStorageChange);\n  return storedValue;\n}\nexport default useReadLocalStorage;","map":{"version":3,"names":["useCallback","useEffect","useState","useEventListener","useReadLocalStorage","key","readValue","window","item","localStorage","getItem","JSON","parse","error","console","warn","concat","_useState","_useState2","_slicedToArray","storedValue","setStoredValue","handleStorageChange","event"],"sources":["C:/d/Programming/web/jodel-mde/node_modules/usehooks-ts/dist/esm/useReadLocalStorage/useReadLocalStorage.js"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { useEventListener } from '..';\nfunction useReadLocalStorage(key) {\n    const readValue = useCallback(() => {\n        if (typeof window === 'undefined') {\n            return null;\n        }\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : null;\n        }\n        catch (error) {\n            console.warn(`Error reading localStorage key “${key}”:`, error);\n            return null;\n        }\n    }, [key]);\n    const [storedValue, setStoredValue] = useState(readValue);\n    useEffect(() => {\n        setStoredValue(readValue());\n    }, []);\n    const handleStorageChange = useCallback((event) => {\n        if ((event === null || event === void 0 ? void 0 : event.key) && event.key !== key) {\n            return;\n        }\n        setStoredValue(readValue());\n    }, [key, readValue]);\n    useEventListener('storage', handleStorageChange);\n    useEventListener('local-storage', handleStorageChange);\n    return storedValue;\n}\nexport default useReadLocalStorage;\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,gBAAgB,QAAQ,IAAI;AACrC,SAASC,mBAAmBA,CAACC,GAAG,EAAE;EAC9B,IAAMC,SAAS,GAAGN,WAAW,CAAC,YAAM;IAChC,IAAI,OAAOO,MAAM,KAAK,WAAW,EAAE;MAC/B,OAAO,IAAI;IACf;IACA,IAAI;MACA,IAAMC,IAAI,GAAGD,MAAM,CAACE,YAAY,CAACC,OAAO,CAACL,GAAG,CAAC;MAC7C,OAAOG,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC,GAAG,IAAI;IACzC,CAAC,CACD,OAAOK,KAAK,EAAE;MACVC,OAAO,CAACC,IAAI,yCAAAC,MAAA,CAAoCX,GAAG,cAAMQ,KAAK,CAAC;MAC/D,OAAO,IAAI;IACf;EACJ,CAAC,EAAE,CAACR,GAAG,CAAC,CAAC;EACT,IAAAY,SAAA,GAAsCf,QAAQ,CAACI,SAAS,CAAC;IAAAY,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAlDG,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAClCjB,SAAS,CAAC,YAAM;IACZoB,cAAc,CAACf,SAAS,CAAC,CAAC,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EACN,IAAMgB,mBAAmB,GAAGtB,WAAW,CAAC,UAACuB,KAAK,EAAK;IAC/C,IAAI,CAACA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,KAAK,CAAClB,GAAG,KAAKkB,KAAK,CAAClB,GAAG,KAAKA,GAAG,EAAE;MAChF;IACJ;IACAgB,cAAc,CAACf,SAAS,CAAC,CAAC,CAAC;EAC/B,CAAC,EAAE,CAACD,GAAG,EAAEC,SAAS,CAAC,CAAC;EACpBH,gBAAgB,CAAC,SAAS,EAAEmB,mBAAmB,CAAC;EAChDnB,gBAAgB,CAAC,eAAe,EAAEmB,mBAAmB,CAAC;EACtD,OAAOF,WAAW;AACtB;AACA,eAAehB,mBAAmB"},"metadata":{},"sourceType":"module"}